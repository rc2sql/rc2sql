%
\begin{isabellebody}%
\setisabellecontext{Ailamazyan}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Ailamazyan\isanewline
\ \ \isakeyword{imports}\ Eval{\isacharunderscore}{\kern0pt}FO\ Cluster\ Mapping{\isacharunderscore}{\kern0pt}Code\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
\isanewline
\isacommand{fun}\isamarkupfalse%
\ SP\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymRightarrow}\ nat\ set{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}SP\ {\isacharparenleft}{\kern0pt}Eqa\ {\isacharparenleft}{\kern0pt}Var\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Var\ n{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ n\ {\isasymnoteq}\ n{\isacharprime}{\kern0pt}\ then\ {\isacharbraceleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ n{\isacharprime}{\kern0pt}{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}SP\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ SP\ {\isasymphi}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}SP\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ SP\ {\isasymphi}\ {\isasymunion}\ SP\ {\isasympsi}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}SP\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ SP\ {\isasymphi}\ {\isasymunion}\ SP\ {\isasympsi}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}SP\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ SP\ {\isasymphi}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}SP\ {\isacharparenleft}{\kern0pt}Forall\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ SP\ {\isasymphi}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}SP\ {\isacharunderscore}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ SP{\isacharunderscore}{\kern0pt}fv{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}SP\ {\isasymphi}\ {\isasymsubseteq}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ {\isasymphi}\ rule{\isacharcolon}{\kern0pt}\ SP{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}SP{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}SP\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ SP{\isacharunderscore}{\kern0pt}fv\ finite{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ finite{\isacharunderscore}{\kern0pt}subset\ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymRightarrow}\ nat\ list{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Eqa\ {\isacharparenleft}{\kern0pt}Var\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Var\ n{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ n\ {\isasymnoteq}\ n{\isacharprime}{\kern0pt}\ then\ {\isacharbrackleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ n{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ else\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isasymphi}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isasymphi}\ {\isacharat}{\kern0pt}\ SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isasympsi}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isasymphi}\ {\isacharat}{\kern0pt}\ SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isasympsi}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}m{\isachardot}{\kern0pt}\ n\ {\isasymnoteq}\ m{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Forall\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}m{\isachardot}{\kern0pt}\ n\ {\isasymnoteq}\ m{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isacharunderscore}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ SP{\isacharunderscore}{\kern0pt}list\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymRightarrow}\ nat\ list{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}SP{\isacharunderscore}{\kern0pt}list\ {\isasymphi}\ {\isacharequal}{\kern0pt}\ remdups{\isacharunderscore}{\kern0pt}adj\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}SP{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ SP\ {\isasymphi}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ {\isasymphi}\ rule{\isacharcolon}{\kern0pt}\ SP{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}list{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}SP{\isacharunderscore}{\kern0pt}list{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ {\isacharparenleft}{\kern0pt}SP{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ SP{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}remdups{\isacharunderscore}{\kern0pt}adj{\isacharunderscore}{\kern0pt}sort{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ d\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymRightarrow}\ nat{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}Eqa\ {\isacharparenleft}{\kern0pt}Var\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Var\ n{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ n\ {\isasymnoteq}\ n{\isacharprime}{\kern0pt}\ then\ {\isadigit{2}}\ else\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isasymphi}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ max\ {\isacharparenleft}{\kern0pt}d\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}max\ {\isacharparenleft}{\kern0pt}d\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}SP\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ max\ {\isacharparenleft}{\kern0pt}d\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}max\ {\isacharparenleft}{\kern0pt}d\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}SP\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isasymphi}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}d\ {\isacharparenleft}{\kern0pt}Forall\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ d\ {\isasymphi}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}d\ {\isacharunderscore}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ d{\isacharunderscore}{\kern0pt}pos{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isadigit{1}}\ {\isasymle}\ d\ {\isasymphi}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ {\isasymphi}\ rule{\isacharcolon}{\kern0pt}\ d{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}SP{\isacharunderscore}{\kern0pt}d{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}SP\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isasymle}\ d\ {\isasymphi}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ dual{\isacharunderscore}{\kern0pt}order{\isachardot}{\kern0pt}trans\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ {\isasymphi}\ rule{\isacharcolon}{\kern0pt}\ SP{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ card{\isacharunderscore}{\kern0pt}Diff{\isadigit{1}}{\isacharunderscore}{\kern0pt}le\ finite{\isacharunderscore}{\kern0pt}SP{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}eterm\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ val\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ fo{\isacharunderscore}{\kern0pt}term\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{infix}\ {\isachardoublequoteopen}{\isasymcdot}e{\isachardoublequoteclose}\ {\isadigit{6}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}eterm\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}Const\ c{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Inl\ c{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}eterm\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}Var\ n{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymsigma}\ n{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}eterms\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ val\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ fo{\isacharunderscore}{\kern0pt}term{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ list{\isachardoublequoteclose}\ {\isacharparenleft}{\kern0pt}\isakeyword{infix}\ {\isachardoublequoteopen}{\isasymodot}e{\isachardoublequoteclose}\ {\isadigit{6}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}eterms\ {\isasymsigma}\ ts\ {\isacharequal}{\kern0pt}\ map\ {\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}eterm\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ ts{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}eterm{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term{\isacharunderscore}{\kern0pt}set\ t\ {\isasymLongrightarrow}\ {\isasymsigma}\ n\ {\isacharequal}{\kern0pt}\ {\isasymsigma}{\isacharprime}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ eval{\isacharunderscore}{\kern0pt}eterm\ {\isasymsigma}\ t\ {\isacharequal}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterm\ {\isasymsigma}{\isacharprime}{\kern0pt}\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymodot}e\ ts\ {\isacharequal}{\kern0pt}\ {\isasymsigma}{\isacharprime}{\kern0pt}\ {\isasymodot}e\ ts\ {\isasymLongrightarrow}\ n\ {\isasymin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set\ ts\ {\isasymLongrightarrow}\ {\isasymsigma}\ n\ {\isacharequal}{\kern0pt}\ {\isasymsigma}{\isacharprime}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ t\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set\ ts\ {\isasymLongrightarrow}\ {\isasymsigma}\ n\ {\isacharequal}{\kern0pt}\ {\isasymsigma}{\isacharprime}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ eval{\isacharunderscore}{\kern0pt}eterms\ {\isasymsigma}\ ts\ {\isacharequal}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterms\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ts{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterm{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}eterms{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ Inl\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymodot}\ ts{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ {\isasymodot}e\ ts{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ t\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ a{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}a\ {\isasymin}\ Inl\ {\isacharbackquote}{\kern0pt}\ X\ {\isasymlongrightarrow}\ a\ {\isacharequal}{\kern0pt}\ a{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}a{\isacharprime}{\kern0pt}\ {\isasymin}\ Inl\ {\isacharbackquote}{\kern0pt}\ X\ {\isasymlongrightarrow}\ a\ {\isacharequal}{\kern0pt}\ a{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymtimes}\ {\isacharprime}{\kern0pt}b\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymtimes}\ {\isacharprime}{\kern0pt}b\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}a{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ b{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}a\ {\isacharequal}{\kern0pt}\ a{\isacharprime}{\kern0pt}\ {\isasymlongleftrightarrow}\ b\ {\isacharequal}{\kern0pt}\ b{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ X\ xs\ ys\ {\isasymlongleftrightarrow}\ length\ xs\ {\isacharequal}{\kern0pt}\ length\ ys\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ xs\ ys{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ xs\ ys\ {\isasymlongleftrightarrow}\ length\ xs\ {\isacharequal}{\kern0pt}\ length\ ys\ {\isasymand}\ pairwise\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}zip\ xs\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ xs\ ys\ {\isasymlongleftrightarrow}\ length\ xs\ {\isacharequal}{\kern0pt}\ length\ ys\ {\isasymand}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ X\ xs\ ys\ {\isasymand}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ xs\ ys{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}refl{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{declare}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps{\isacharbrackleft}{\kern0pt}simp\ del{\isacharbrackright}{\kern0pt}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}comm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ a{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ {\isacharparenleft}{\kern0pt}a{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isasymsubseteq}\ Y\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ Y\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ a{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ a{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}comm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ x\ y\ {\isasymlongleftrightarrow}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ y\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ x{\isacharsemicolon}{\kern0pt}\ cases\ y{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ val\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ val\ {\isasymRightarrow}\ nat\ set\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv\ {\isasymsigma}\ {\isasymtau}\ I\ {\isasymlongleftrightarrow}\ pairwise\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ n{\isacharcomma}{\kern0pt}\ {\isasymtau}\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ I{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}I\ {\isasymsubseteq}\ J\ {\isasymLongrightarrow}\ sp{\isacharunderscore}{\kern0pt}equiv\ {\isasymsigma}\ {\isasymtau}\ J\ {\isasymLongrightarrow}\ sp{\isacharunderscore}{\kern0pt}equiv\ {\isasymsigma}\ {\isasymtau}\ I{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ set\ {\isasymRightarrow}\ nat\ set\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ val\ {\isasymRightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ val\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ FV\ S\ X\ {\isasymsigma}\ {\isasymtau}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymforall}i\ {\isasymin}\ FV{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ i{\isacharcomma}{\kern0pt}\ {\isasymtau}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ sp{\isacharunderscore}{\kern0pt}equiv\ {\isasymsigma}\ {\isasymtau}\ S{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}comm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ FV\ S\ X\ {\isasymsigma}\ {\isasymtau}\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ FV\ S\ X\ {\isasymtau}\ {\isasymsigma}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}comm{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isasymsubseteq}\ Y\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ FV\ S\ Y\ {\isasymsigma}\ {\isasymtau}\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ FV\ S\ X\ {\isasymsigma}\ {\isasymtau}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}mono\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}mono{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}S\ {\isasymsubseteq}\ S{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ FV\ S{\isacharprime}{\kern0pt}\ X\ {\isasymsigma}\ {\isasymtau}\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ FV\ S\ X\ {\isasymsigma}\ {\isasymtau}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ X\ xs\ ys\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ X\ ys\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ del{\isacharunderscore}{\kern0pt}insts{\isacharparenright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}comm\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}zip\ prod{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ prod{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isasymsubseteq}\ Y\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ Y\ xs\ ys\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ X\ xs\ ys{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}mono\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ X\ xs\ ys{\isachardoublequoteclose}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ X\ ys\ zs{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ X\ xs\ zs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ lens{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ xs\ {\isacharequal}{\kern0pt}\ length\ ys{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ xs\ {\isacharequal}{\kern0pt}\ length\ zs{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ ys\ {\isacharequal}{\kern0pt}\ length\ zs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}x\ z{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ xs\ zs{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\ z\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ xs\ zs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ i\ \isakeyword{where}\ i{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}xs\ {\isacharbang}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\ {\isachardoublequoteopen}zs\ {\isacharbang}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ z{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{define}\isamarkupfalse%
\ y\ \isakeyword{where}\ {\isachardoublequoteopen}y\ {\isacharequal}{\kern0pt}\ ys\ {\isacharbang}{\kern0pt}\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ lens\ i{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip\ y{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymforall}i\ {\isasymin}\ set\ ns{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ i{\isacharcomma}{\kern0pt}\ {\isasymtau}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ X\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ ns{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}nth\ nth{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}comm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ xs\ ys{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ ys\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}zip\ prod{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ prod{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ ns{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ n{\isacharcomma}{\kern0pt}\ {\isasymtau}\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ set\ ns{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ ns{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ xs\ ys\ {\isasymLongrightarrow}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ ys\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}comm\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ force{\isacharplus}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ xs\ ys{\isachardoublequoteclose}\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ ys\ zs{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ xs\ zs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ lens{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ xs\ {\isacharequal}{\kern0pt}\ length\ ys{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ xs\ {\isacharequal}{\kern0pt}\ length\ zs{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ ys\ {\isacharequal}{\kern0pt}\ length\ zs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}pairwise\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}zip\ xs\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ pairwiseI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ xz\ xz{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}xz\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ xs\ zs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}xz{\isacharprime}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ xs\ zs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ z\ i\ x{\isacharprime}{\kern0pt}\ z{\isacharprime}{\kern0pt}\ i{\isacharprime}{\kern0pt}\ \isakeyword{where}\ xz{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}xs\ {\isacharbang}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\ {\isachardoublequoteopen}zs\ {\isacharbang}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ z{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}xz\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}i{\isacharprime}{\kern0pt}\ {\isacharless}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}xs\ {\isacharbang}{\kern0pt}\ i{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}zs\ {\isacharbang}{\kern0pt}\ i{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ z{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}xz{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ z{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{define}\isamarkupfalse%
\ y\ \isakeyword{where}\ {\isachardoublequoteopen}y\ {\isacharequal}{\kern0pt}\ ys\ {\isacharbang}{\kern0pt}\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{define}\isamarkupfalse%
\ y{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}y{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ ys\ {\isacharbang}{\kern0pt}\ i{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ y{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isacharparenleft}{\kern0pt}y{\isacharcomma}{\kern0pt}\ z{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}y{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ z{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ lens\ xz{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def\ y{\isacharunderscore}{\kern0pt}def\ y{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\ metis{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ xz\ xz{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ xz{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ ns{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ sp{\isacharunderscore}{\kern0pt}equiv\ {\isasymsigma}\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}set\ ns{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}nth{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ nth{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ nth{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ fastforce{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ xs\ ys\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ ys\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isasymsubseteq}\ Y\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ Y\ ys\ xs\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ ys\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}mono\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rev{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Y\ {\isasymsubseteq}\ X\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ Y\ ys\ xs\ {\isasymLongrightarrow}\isanewline
\ \ Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs\ {\isasymsubseteq}\ Y\ {\isasymLongrightarrow}\ Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ ys\ {\isasymsubseteq}\ Y\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ ys\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ a\ b\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}drule\ bspec{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ assumption\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ a{\isacharsemicolon}{\kern0pt}\ cases\ b{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ vimage{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Collect{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}eq\ Collect{\isacharunderscore}{\kern0pt}mono{\isacharunderscore}{\kern0pt}iff\ imageI\ nth{\isacharunderscore}{\kern0pt}mem{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Collect{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}eq\ Collect{\isacharunderscore}{\kern0pt}mono{\isacharunderscore}{\kern0pt}iff\ imageI\ nth{\isacharunderscore}{\kern0pt}mem{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Collect{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}eq\ Collect{\isacharunderscore}{\kern0pt}mono{\isacharunderscore}{\kern0pt}iff\ imageI\ nth{\isacharunderscore}{\kern0pt}mem{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Inl{\isacharunderscore}{\kern0pt}Inr{\isacharunderscore}{\kern0pt}False\ image{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ xs\ ys\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ ys\ zs\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ xs\ zs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}refl{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ xs\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ xs\ ys\ {\isasymLongrightarrow}\ y\ {\isasymin}\ X\ {\isasymLongrightarrow}\ Inl\ y\ {\isasymin}\ set\ ys\ {\isasymLongrightarrow}\ Inl\ y\ {\isasymin}\ set\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}nth{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\ image{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}length{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ xs\ ys\ {\isasymLongrightarrow}\ length\ xs\ {\isacharequal}{\kern0pt}\ length\ ys{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ ys\ {\isasymsubseteq}\ AD\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ Inl\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ Inl\ ys{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ xs\ {\isacharequal}{\kern0pt}\ ys{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ nth{\isacharunderscore}{\kern0pt}equalityI{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}set\ ms\ {\isasymsubseteq}\ set\ ns{\isachardoublequoteclose}\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ms{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ms{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ length{\isacharunderscore}{\kern0pt}map\ pairwise{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ conjI{\isacharcomma}{\kern0pt}\ rule\ refl{\isacharcomma}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rule\ ballI{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}{\isacharcomma}{\kern0pt}\ rule\ impI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ x\ y\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ms{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ms{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}y\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ms{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ms{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymnoteq}\ y{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}y\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymnoteq}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}nth\ nth{\isacharunderscore}{\kern0pt}map\ subset{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ x\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ ms\ {\isasymsubseteq}\ set\ ns\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ms{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ms{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset\ set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}nth\ nth{\isacharunderscore}{\kern0pt}map\ subset{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}set\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ ns{\isacharparenright}{\kern0pt}\ AD\ {\isasymsigma}\ {\isasymtau}\ {\isasymlongleftrightarrow}\isanewline
\ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ ns{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ val\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ val\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr\ {\isasymphi}\ X\ {\isasymsigma}\ {\isasymtau}\ {\isasymlongleftrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}SP\ {\isasymphi}{\isacharparenright}{\kern0pt}\ X\ {\isasymsigma}\ {\isasymtau}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}restrict{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD\ {\isasymsigma}\ {\isasymtau}\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr\ {\isasymphi}\ AD\ {\isasymsigma}\ {\isasymtau}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}mono\ SP{\isacharunderscore}{\kern0pt}fv\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}Inl{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ X\ {\isasymLongrightarrow}\ finite\ {\isacharparenleft}{\kern0pt}Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}vimageI{\isacharbrackleft}{\kern0pt}of\ X\ Inl{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ vimage{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ex{\isacharunderscore}{\kern0pt}out{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}k{\isachardot}{\kern0pt}\ k\ {\isasymnotin}\ X\ {\isasymand}\ k\ {\isacharless}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}card\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharcomma}{\kern0pt}\ of\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}card\ X{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ extend{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}FV\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X\ {\isasymsigma}\ {\isasymtau}{\isachardoublequoteclose}\ {\isachardoublequoteopen}S\ {\isasymsubseteq}\ FV{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ S{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymtau}\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}FV\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ Z{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}Inl\ {\isacharbackquote}{\kern0pt}\ X\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}max\ {\isadigit{1}}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isasymtau}\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ n\ {\isasymin}\ S\ then\ {\isadigit{1}}\ else\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ Z{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}k\ {\isasymin}\ Z{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ FV\ S\ X\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymtau}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ k{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}n\ {\isasymin}\ S{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ n{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}S\ {\isacharequal}{\kern0pt}\ True\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}x\ {\isasymin}\ Inl\ {\isacharbackquote}{\kern0pt}\ X{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ bexI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}x{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ n{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}S\ True\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ True\ insert{\isacharunderscore}{\kern0pt}Diff\ insert{\isacharunderscore}{\kern0pt}iff\ subsetD{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}Inl\ {\isacharequal}{\kern0pt}\ False\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}{\isasymexists}m\ {\isasymin}\ S\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ {\isasymsigma}\ m{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ m\ \isakeyword{where}\ m{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ {\isasymin}\ S\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ {\isasymsigma}\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isasymtau}{\isacharunderscore}{\kern0pt}m{\isacharunderscore}{\kern0pt}in{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymtau}\ m\ {\isasymin}\ Z{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ m{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ bexI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}{\isasymtau}\ m{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ n{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}S\ {\isasymsigma}{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}Inl\ True\ m{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ out{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymnotin}\ {\isasymsigma}\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ fin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isasymtau}\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}vimageI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ k\ \isakeyword{where}\ k{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Inr\ k\ {\isasymnotin}\ {\isasymtau}\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}k\ {\isacharless}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isasymtau}\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}S\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ex{\isacharunderscore}{\kern0pt}out{\isacharbrackleft}{\kern0pt}OF\ fin{\isacharbrackright}{\kern0pt}\ True\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ bexI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}Inr\ k{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ n{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}S\ {\isasymsigma}{\isacharunderscore}{\kern0pt}n{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}Inl\ out\ k{\isacharunderscore}{\kern0pt}def\ assms{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ image{\isacharunderscore}{\kern0pt}eqI\ insertE\ insert{\isacharunderscore}{\kern0pt}Diff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}x\ {\isasymin}\ Inl\ {\isacharbackquote}{\kern0pt}\ X{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ bexI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}x{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ False\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ bexI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}Inr\ {\isadigit{0}}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ False\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}Pred{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ FV\ S\ {\isacharparenleft}{\kern0pt}{\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsigma}\ {\isasymtau}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set\ ts\ {\isasymsubseteq}\ FV{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymodot}e\ ts\ {\isasymin}\ map\ Inl\ {\isacharbackquote}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}t\ {\isasymin}\ set\ ts{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymcdot}e\ t\ {\isacharequal}{\kern0pt}\ {\isasymtau}\ {\isasymcdot}e\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Var\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ vs\ \isakeyword{where}\ vs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymodot}e\ ts\ {\isacharequal}{\kern0pt}\ map\ Inl\ vs{\isachardoublequoteclose}\ {\isachardoublequoteopen}vs\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymsigma}\ n\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymodot}e\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ Var{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymsigma}\ n\ {\isasymin}\ Inl\ {\isacharbackquote}{\kern0pt}\ {\isasymUnion}\ {\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}n\ {\isasymin}\ FV{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ Var\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def\ Var\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}fv{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}i{\isachardot}{\kern0pt}\ i\ {\isasymin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set\ ts\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ i{\isacharcomma}{\kern0pt}\ {\isasymtau}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymUnion}{\isacharparenleft}{\kern0pt}set{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term\ {\isacharbackquote}{\kern0pt}\ set\ ts{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv\ {\isasymsigma}\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymcdot}e{\isacharparenright}{\kern0pt}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymcdot}e{\isacharparenright}{\kern0pt}\ {\isasymtau}{\isacharparenright}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ t\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ind{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymcdot}e{\isacharparenright}{\kern0pt}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymcdot}e{\isacharparenright}{\kern0pt}\ {\isasymtau}{\isacharparenright}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Const\ c{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ c{\isacharunderscore}{\kern0pt}X{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}c\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Const{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}t{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term{\isacharunderscore}{\kern0pt}set\ t\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Const{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}t{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ t{\isacharprime}{\kern0pt}\ {\isasymin}\ set\ ts\ {\isasymLongrightarrow}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymcdot}e\ t{\isacharcomma}{\kern0pt}\ {\isasymtau}\ {\isasymcdot}e\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymcdot}e\ t{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymtau}\ {\isasymcdot}e\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ t{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ c{\isacharunderscore}{\kern0pt}X\ Const\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}setI\ image{\isacharunderscore}{\kern0pt}insert\ insert{\isacharunderscore}{\kern0pt}iff\ list{\isachardot}{\kern0pt}set{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ mk{\isacharunderscore}{\kern0pt}disjoint{\isacharunderscore}{\kern0pt}insert{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymcdot}e{\isacharparenright}{\kern0pt}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}t\ {\isacharhash}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymcdot}e{\isacharparenright}{\kern0pt}\ {\isasymtau}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}t\ {\isacharhash}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ind\ pairwise{\isacharunderscore}{\kern0pt}insert{\isacharbrackleft}{\kern0pt}of\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymcdot}e\ t{\isacharcomma}{\kern0pt}\ {\isasymtau}\ {\isasymcdot}e\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}comm\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}t{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Var\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ n{\isacharcomma}{\kern0pt}\ {\isasymtau}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ Var{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}Var{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}n{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ Var\ n{\isacharprime}{\kern0pt}\ {\isasymin}\ set\ ts\ {\isasymLongrightarrow}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ n{\isacharcomma}{\kern0pt}\ {\isasymtau}\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ n{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymtau}\ n{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ Var{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}t{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ t{\isacharprime}{\kern0pt}\ {\isasymin}\ set\ ts\ {\isasymLongrightarrow}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymcdot}e\ t{\isacharcomma}{\kern0pt}\ {\isasymtau}\ {\isasymcdot}e\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymcdot}e\ t{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymtau}\ {\isasymcdot}e\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ t{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}Var\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Var{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ SUP{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}iff\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\ ad{\isacharunderscore}{\kern0pt}n\ fo{\isacharunderscore}{\kern0pt}term{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}intros\ imageI\ subset{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ SUP{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}iff\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\ ad{\isacharunderscore}{\kern0pt}n\ fo{\isacharunderscore}{\kern0pt}term{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}intros\ imageI\ subset{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ind\ pairwise{\isacharunderscore}{\kern0pt}insert{\isacharbrackleft}{\kern0pt}of\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymcdot}e\ t{\isacharcomma}{\kern0pt}\ {\isasymtau}\ {\isasymcdot}e\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymcdot}e\ n{\isacharcomma}{\kern0pt}\ {\isasymtau}\ {\isasymcdot}e\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ set\ ts{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}comm{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}Pred{\isacharunderscore}{\kern0pt}inf{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set\ ts\ {\isasymsubseteq}\ FV{\isachardoublequoteclose}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set\ ts\ {\isasymsubseteq}\ S{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ FV\ S\ AD\ {\isasymsigma}\ {\isasymtau}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymodot}e\ ts{\isacharparenright}{\kern0pt}\ vs{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymUnion}{\isacharparenleft}{\kern0pt}set{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term\ {\isacharbackquote}{\kern0pt}\ set\ ts{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}{\isasymtau}\ {\isasymodot}e\ ts{\isacharparenright}{\kern0pt}\ vs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ sp{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv\ {\isasymsigma}\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}mono\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}i{\isachardot}{\kern0pt}\ i\ {\isasymin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set\ ts\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ AD\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ i{\isacharcomma}{\kern0pt}\ {\isasymtau}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymcdot}e{\isacharparenright}{\kern0pt}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymcdot}e{\isacharparenright}{\kern0pt}\ {\isasymtau}{\isacharparenright}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}fv{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\ sp{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymodot}e\ ts{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymtau}\ {\isasymodot}e\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ t\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}setI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{type{\isacharunderscore}{\kern0pt}synonym}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymtimes}\ nat\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ table{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ esat\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ table{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}intp\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ val\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ set\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Pred\ r\ ts{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ X\ {\isasymlongleftrightarrow}\ {\isasymsigma}\ {\isasymodot}e\ ts\ {\isasymin}\ map\ Inl\ {\isacharbackquote}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ length\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Bool\ b{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ X\ {\isasymlongleftrightarrow}\ b{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Eqa\ t\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ X\ {\isasymlongleftrightarrow}\ {\isasymsigma}\ {\isasymcdot}e\ t\ {\isacharequal}{\kern0pt}\ {\isasymsigma}\ {\isasymcdot}e\ t{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ X\ {\isasymlongleftrightarrow}\ {\isasymnot}esat\ {\isasymphi}\ I\ {\isasymsigma}\ X{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ X\ {\isasymlongleftrightarrow}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ X\ {\isasymand}\ esat\ {\isasympsi}\ I\ {\isasymsigma}\ X{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ X\ {\isasymlongleftrightarrow}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ X\ {\isasymor}\ esat\ {\isasympsi}\ I\ {\isasymsigma}\ X{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ X\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}x\ {\isasymin}\ X{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Forall\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ X\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ X{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ sz{\isacharunderscore}{\kern0pt}fmla\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymRightarrow}\ nat{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}sz{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}sz{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}sz{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}sz{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharplus}{\kern0pt}\ sz{\isacharunderscore}{\kern0pt}fmla\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}sz{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}sz{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharplus}{\kern0pt}\ sz{\isacharunderscore}{\kern0pt}fmla\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}sz{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}sz{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}sz{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Forall\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}sz{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}sz{\isacharunderscore}{\kern0pt}fmla\ {\isacharunderscore}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sz{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}induct{\isacharbrackleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}names\ Pred\ Bool\ Eqa\ Neg\ Conj\ Disj\ Exists\ Forall{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}r\ ts{\isachardot}{\kern0pt}\ P\ {\isacharparenleft}{\kern0pt}Pred\ r\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymAnd}b{\isachardot}{\kern0pt}\ P\ {\isacharparenleft}{\kern0pt}Bool\ b{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isasymAnd}t\ t{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ P\ {\isacharparenleft}{\kern0pt}Eqa\ t\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymAnd}{\isasymphi}{\isachardot}{\kern0pt}\ P\ {\isasymphi}\ {\isasymLongrightarrow}\ P\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isasymAnd}{\isasymphi}\ {\isasympsi}{\isachardot}{\kern0pt}\ P\ {\isasymphi}\ {\isasymLongrightarrow}\ P\ {\isasympsi}\ {\isasymLongrightarrow}\ P\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymAnd}{\isasymphi}\ {\isasympsi}{\isachardot}{\kern0pt}\ P\ {\isasymphi}\ {\isasymLongrightarrow}\ P\ {\isasympsi}\ {\isasymLongrightarrow}\ P\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isasymAnd}n\ {\isasymphi}{\isachardot}{\kern0pt}\ P\ {\isasymphi}\ {\isasymLongrightarrow}\ P\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymAnd}n\ {\isasymphi}{\isachardot}{\kern0pt}\ P\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ P\ {\isacharparenleft}{\kern0pt}Forall\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ P\ {\isasymphi}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ {\isachardoublequoteopen}sz{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isachardoublequoteclose}\ arbitrary{\isacharcolon}{\kern0pt}\ {\isasymphi}\ rule{\isacharcolon}{\kern0pt}\ nat{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ IH{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}{\isasympsi}{\isachardot}{\kern0pt}\ sz{\isacharunderscore}{\kern0pt}fmla\ {\isasympsi}\ {\isacharless}{\kern0pt}\ sz{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isasymLongrightarrow}\ P\ {\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{1}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharcomma}{\kern0pt}{\isadigit{7}}{\isacharcomma}{\kern0pt}{\isadigit{8}}{\isacharcomma}{\kern0pt}{\isadigit{9}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isasymphi}{\isacharparenright}{\kern0pt}\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isasymLongrightarrow}\ {\isasymsigma}\ n\ {\isacharequal}{\kern0pt}\ {\isasymsigma}{\isacharprime}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ X\ {\isasymlongleftrightarrow}\ esat\ {\isasymphi}\ I\ {\isasymsigma}{\isacharprime}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ {\isasymphi}\ arbitrary{\isacharcolon}{\kern0pt}\ {\isasymsigma}\ {\isasymsigma}{\isacharprime}{\kern0pt}\ rule{\isacharcolon}{\kern0pt}\ sz{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Pred\ r\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}smt\ comp{\isacharunderscore}{\kern0pt}apply\ eval{\isacharunderscore}{\kern0pt}eterm{\isacharunderscore}{\kern0pt}cong\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}cong\ image{\isacharunderscore}{\kern0pt}insert\ insertCI\ map{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}conv\isanewline
\ \ \ \ \ \ \ \ mk{\isacharunderscore}{\kern0pt}disjoint{\isacharunderscore}{\kern0pt}insert{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Eqa\ t\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharsemicolon}{\kern0pt}\ cases\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Neg{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ {\isasymsigma}\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ Neg{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}{\isadigit{1}}\ {\isasymphi}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Conj{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ {\isasymsigma}\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ Conj{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}{\isadigit{1}}\ {\isasymphi}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Disj{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ {\isasymsigma}\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ Disj{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ x{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Exists{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymsigma}{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ Exists{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}{\isacharprime}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}{\isacharprime}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ x{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Exists{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymsigma}{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ Exists{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Forall\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}terms\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ fo{\isacharunderscore}{\kern0pt}term{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}terms\ ts\ {\isacharequal}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}map\ set{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ act{\isacharunderscore}{\kern0pt}edom\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ table{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}intp\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Pred\ r\ ts{\isacharparenright}{\kern0pt}\ I\ {\isacharequal}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}terms\ ts\ {\isasymunion}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ length\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Bool\ b{\isacharparenright}{\kern0pt}\ I\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Eqa\ t\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ I\ {\isacharequal}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term\ t\ {\isasymunion}\ set{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term\ t{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I\ {\isasymunion}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasympsi}\ I{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I\ {\isasymunion}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasympsi}\ I{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Forall\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}act{\isacharunderscore}{\kern0pt}edom{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isasymphi}\ I\ {\isasymLongrightarrow}\ finite\ {\isacharparenleft}{\kern0pt}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}Inl\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ {\isasymphi}\ I\ rule{\isacharcolon}{\kern0pt}\ wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term\ vimage{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}adom\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}adom\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ AD{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ main{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr\ {\isasymphi}\ AD\ {\isasymsigma}\ {\isasymtau}\ {\isasymLongrightarrow}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I\ {\isasymsubseteq}\ AD\ {\isasymLongrightarrow}\isanewline
\ \ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}d\ {\isasymphi}{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ X\ {\isasymLongrightarrow}\ {\isasymtau}\ {\isacharbackquote}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isasymsubseteq}\ X\ {\isasymLongrightarrow}\isanewline
\ \ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV\ {\isasymlongleftrightarrow}\ esat\ {\isasymphi}\ I\ {\isasymtau}\ X{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ {\isasymphi}\ arbitrary{\isacharcolon}{\kern0pt}\ {\isasymsigma}\ {\isasymtau}\ rule{\isacharcolon}{\kern0pt}\ sz{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Pred\ r\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set\ ts\ {\isasymsubseteq}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Pred\ r\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ sub{\isacharunderscore}{\kern0pt}AD{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ length\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Pred{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ esat{\isachardot}{\kern0pt}simps\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymodot}e\ ts\ {\isasymin}\ map\ Inl\ {\isacharbackquote}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ length\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymodot}e\ ts\ {\isacharequal}{\kern0pt}\ {\isasymtau}\ {\isasymodot}e\ ts{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}Pred{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ sub{\isacharunderscore}{\kern0pt}AD\ Pred{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ fv{\isacharunderscore}{\kern0pt}sub\ assm{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ assm\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymtau}\ {\isasymodot}e\ ts\ {\isasymin}\ map\ Inl\ {\isacharbackquote}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ length\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymtau}\ {\isasymodot}e\ ts\ {\isasymin}\ map\ Inl\ {\isacharbackquote}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ length\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymtau}\ {\isasymodot}e\ ts\ {\isacharequal}{\kern0pt}\ {\isasymsigma}\ {\isasymodot}e\ ts{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}Pred{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}comm{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ sub{\isacharunderscore}{\kern0pt}AD\ Pred{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}sub\ assm{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ assm\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymodot}e\ ts\ {\isasymin}\ map\ Inl\ {\isacharbackquote}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ length\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Eqa\ x{\isadigit{1}}\ x{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ x{\isadigit{1}}{\isacharsemicolon}{\kern0pt}\ cases\ x{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ c\ c{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ Const\ c{\isachardoublequoteclose}\ {\isachardoublequoteopen}x{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ Const\ c{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ Eqa\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ c\ m{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assms{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ Const\ c{\isachardoublequoteclose}\ {\isachardoublequoteopen}x{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ Var\ m{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ Eqa{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymsigma}\ m{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Inl\ c\ {\isasymlongleftrightarrow}\ {\isasymtau}\ m{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Inl\ c{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ assms\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ m\ c{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assms{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ Var\ m{\isachardoublequoteclose}\ {\isachardoublequoteopen}x{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ Const\ c{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ Eqa{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymsigma}\ m\ {\isacharequal}{\kern0pt}\ Inl\ c{\isacharprime}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isasymtau}\ m\ {\isacharequal}{\kern0pt}\ Inl\ c{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ assms\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ m\ m{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assms{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ Var\ m{\isachardoublequoteclose}\ {\isachardoublequoteopen}x{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ Var\ m{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ Eqa{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymsigma}\ m\ {\isacharequal}{\kern0pt}\ {\isasymsigma}\ m{\isacharprime}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isasymtau}\ m\ {\isacharequal}{\kern0pt}\ {\isasymtau}\ m{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ assms\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ Neg{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr\ {\isasymphi}\ AD\ {\isasymsigma}\ {\isasymtau}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ Neg\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}{\isadigit{1}}\ {\isasymphi}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ aux{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr\ {\isasymphi}{\isadigit{1}}\ AD\ {\isasymsigma}\ {\isasymtau}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr\ {\isasymphi}{\isadigit{2}}\ AD\ {\isasymsigma}\ {\isasymtau}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}d\ {\isasymphi}{\isadigit{1}}{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}d\ {\isasymphi}{\isadigit{2}}{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymtau}\ {\isacharbackquote}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isadigit{1}}\ {\isasymsubseteq}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymtau}\ {\isacharbackquote}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isadigit{2}}\ {\isasymsubseteq}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Conj{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Conj{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ aux{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ aux{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ aux{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ Conj{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ aux{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ aux{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ aux{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ Conj{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}{\isadigit{1}}\ {\isasymphi}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ aux{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr\ {\isasymphi}{\isadigit{1}}\ AD\ {\isasymsigma}\ {\isasymtau}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr\ {\isasymphi}{\isadigit{2}}\ AD\ {\isasymsigma}\ {\isasymtau}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}d\ {\isasymphi}{\isadigit{1}}{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}d\ {\isasymphi}{\isadigit{2}}{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymtau}\ {\isacharbackquote}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isadigit{1}}\ {\isasymsubseteq}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymtau}\ {\isacharbackquote}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isadigit{2}}\ {\isasymsubseteq}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Disj{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Disj{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ aux{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ aux{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ aux{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ Disj{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ aux{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ aux{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ aux{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ Disj{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Exists\ m\ {\isasymphi}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Exists\ m\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}m\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}m\ {\isasymin}\ SP\ {\isasymphi}\ {\isasymLongrightarrow}\ Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isasymtau}\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}SP\ {\isasymphi}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}m{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ card\ {\isacharparenleft}{\kern0pt}SP\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Diff{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}absorb\ card{\isacharunderscore}{\kern0pt}image\ card{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}iff\ finite{\isacharunderscore}{\kern0pt}Diff\ finite{\isacharunderscore}{\kern0pt}SP\isanewline
\ \ \ \ \ \ \ \ \ \ image{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}subset\ inj{\isacharunderscore}{\kern0pt}Inr\ mk{\isacharunderscore}{\kern0pt}disjoint{\isacharunderscore}{\kern0pt}insert\ surj{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}le{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isasymtau}\ {\isacharbackquote}{\kern0pt}\ SP\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isasymle}\ card\ {\isacharparenleft}{\kern0pt}SP\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ card{\isacharunderscore}{\kern0pt}image\ finite{\isacharunderscore}{\kern0pt}SP\ image{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}subset\ inj{\isacharunderscore}{\kern0pt}Inr\ surj{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}le{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}max\ {\isadigit{1}}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isasymtau}\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}SP\ {\isasymphi}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}m{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ m\ {\isasymin}\ SP\ {\isasymphi}\ then\ {\isadigit{1}}\ else\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ d\ {\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ d{\isacharunderscore}{\kern0pt}pos\ card{\isacharunderscore}{\kern0pt}SP{\isacharunderscore}{\kern0pt}d{\isacharbrackleft}{\kern0pt}of\ {\isasymphi}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}x{\isacharprime}{\kern0pt}\ {\isasymin}\ X{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr\ {\isasymphi}\ AD\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}m\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymtau}{\isacharparenleft}{\kern0pt}m\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ extend{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharbrackleft}{\kern0pt}OF\ Exists{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isachardot}{\kern0pt}simps\ SP{\isachardot}{\kern0pt}simps{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ SP{\isacharunderscore}{\kern0pt}fv{\isacharbrackleft}{\kern0pt}of\ {\isasymphi}{\isacharbrackright}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}SP\ Exists{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isachardot}{\kern0pt}simps{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ Exists{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x{\isacharprime}{\kern0pt}\ \isakeyword{where}\ x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x{\isacharprime}{\kern0pt}\ {\isasymin}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr\ {\isasymphi}\ AD\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}m\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymtau}{\isacharparenleft}{\kern0pt}m\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ Exists{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymtau}{\isacharparenleft}{\kern0pt}m\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isasymsubseteq}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymtau}{\isacharparenleft}{\kern0pt}m\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Exists\ x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ assm\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ x{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Exists\ m\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymtau}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Exists\ m\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymtau}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ z\ \isakeyword{where}\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isasymin}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymtau}{\isacharparenleft}{\kern0pt}m\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}m{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}SP\ {\isasymphi}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}m{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD\ {\isasymtau}\ {\isasymsigma}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Exists{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isachardot}{\kern0pt}simps\ SP{\isachardot}{\kern0pt}simps{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}comm{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}x{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr\ {\isasymphi}\ AD\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}m\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymtau}{\isacharparenleft}{\kern0pt}m\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ extend{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr\ SP{\isacharunderscore}{\kern0pt}fv{\isacharbrackleft}{\kern0pt}of\ {\isasymphi}{\isacharbrackright}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}SP\ subset{\isacharunderscore}{\kern0pt}UNIV\ subset{\isacharunderscore}{\kern0pt}UNIV{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}comm\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ x{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr\ {\isasymphi}\ AD\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}m\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymtau}{\isacharparenleft}{\kern0pt}m\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymtau}{\isacharparenleft}{\kern0pt}m\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ z{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Exists\ m\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Exists\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}def\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}m\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Exists\ assm\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Exists\ m\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Forall\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ unfold{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Forall\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}d\ {\isacharparenleft}{\kern0pt}Forall\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}d\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Forall\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ pred{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD\ {\isasymsigma}\ {\isasymtau}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Forall{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Forall{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ pred\ Forall{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ unfold{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ main{\isacharunderscore}{\kern0pt}cor{\isacharunderscore}{\kern0pt}inf{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr\ {\isasymphi}\ AD\ {\isasymsigma}\ {\isasymtau}{\isachardoublequoteclose}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}d\ {\isasymphi}\ {\isasymle}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymtau}\ {\isacharbackquote}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isasymsubseteq}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV\ {\isasymlongleftrightarrow}\ esat\ {\isasymphi}\ I\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ main{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymsigma}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr\ {\isasymphi}\ AD\ {\isasymsigma}\ {\isasymtau}{\isachardoublequoteclose}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV\ {\isasymlongleftrightarrow}\ esat\ {\isasymphi}\ I\ {\isasymtau}\ UNIV{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ main{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ subset{\isacharunderscore}{\kern0pt}UNIV\ subset{\isacharunderscore}{\kern0pt}UNIV{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymsigma}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV\ {\isasymlongleftrightarrow}\ esat\ {\isasymphi}\ I\ {\isasymtau}\ UNIV{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}OF\ iffD{\isadigit{2}}{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}mono{\isacharprime}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ SP{\isacharunderscore}{\kern0pt}fv{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ OF\ iffD{\isadigit{2}}{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharcomma}{\kern0pt}\ OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ unfolded\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}rep\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ table{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}rep\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}ts{\isachardot}{\kern0pt}\ {\isasymexists}ts{\isacharprime}{\kern0pt}\ {\isasymin}\ X{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ Inl\ ts{\isacharparenright}{\kern0pt}\ ts{\isacharprime}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sat{\isacharunderscore}{\kern0pt}esat{\isacharunderscore}{\kern0pt}conv{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ fin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sat\ {\isasymphi}\ I\ {\isasymsigma}\ {\isasymlongleftrightarrow}\ esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymsigma}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ UNIV{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ {\isasymphi}\ arbitrary{\isacharcolon}{\kern0pt}\ I\ {\isasymsigma}\ rule{\isacharcolon}{\kern0pt}\ sz{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Pred\ r\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ sat{\isachardot}{\kern0pt}simps\ esat{\isachardot}{\kern0pt}simps\ comp{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}eterms{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Eqa\ t\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharsemicolon}{\kern0pt}\ cases\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}sat\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ x{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Exists\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ Inl{\isacharunderscore}{\kern0pt}unfold{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Inl\ {\isasymcirc}\ {\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymsigma}{\isacharparenright}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ Inl\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Inl{\isacharunderscore}{\kern0pt}unfold\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ x{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymsigma}{\isacharparenright}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}sat\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ x{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Inl\ a{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ Inl{\isacharunderscore}{\kern0pt}unfold{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymsigma}{\isacharparenright}{\kern0pt}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Inl\ {\isasymcirc}\ {\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inl{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}unfolded\ Inl{\isacharunderscore}{\kern0pt}unfold{\isacharbrackright}{\kern0pt}\ Exists\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Inr\ b{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ c\ \isakeyword{where}\ c{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}c\ {\isasymnotin}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I\ {\isasymunion}\ {\isasymsigma}\ {\isacharbackquote}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ arb{\isacharunderscore}{\kern0pt}element\ finite{\isacharunderscore}{\kern0pt}act{\isacharunderscore}{\kern0pt}edom{\isacharbrackleft}{\kern0pt}OF\ Exists{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ simplified{\isacharbrackright}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ finite{\isacharunderscore}{\kern0pt}Un\ finite{\isacharunderscore}{\kern0pt}imageI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ wf{\isacharunderscore}{\kern0pt}local{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Exists{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}sat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ c{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ iffD{\isadigit{2}}{\isacharbrackleft}{\kern0pt}OF\ Exists{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharunderscore}{\kern0pt}local{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ iffD{\isadigit{1}}{\isacharbrackleft}{\kern0pt}OF\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ subset{\isacharunderscore}{\kern0pt}refl{\isacharbrackright}{\kern0pt}\ x{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}unfolded\ Inr{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ k\ l\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ c{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ k{\isacharsemicolon}{\kern0pt}\ cases\ l{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ c{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}unfolded\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Forall\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Forall{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ I\ {\isasymsigma}{\isacharbrackright}{\kern0pt}\ Forall{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sat{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ J\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}intp{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymsigma}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymtau}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sat\ {\isasymphi}\ I\ {\isasymsigma}\ {\isasymlongleftrightarrow}\ sat\ {\isasymphi}\ I\ {\isasymtau}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ sat{\isacharunderscore}{\kern0pt}esat{\isacharunderscore}{\kern0pt}conv{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ nfv\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymRightarrow}\ nat{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}nfv\ {\isasymphi}\ {\isacharequal}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nfv{\isacharunderscore}{\kern0pt}card{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nfv\ {\isasymphi}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}distinct\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}length\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}card\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ nfv{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ rremdups\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ list\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ list{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}rremdups\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}rremdups\ {\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x\ {\isacharhash}{\kern0pt}\ rremdups\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymnoteq}{\isacharparenright}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ filter{\isacharunderscore}{\kern0pt}rremdups{\isacharunderscore}{\kern0pt}filter{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}filter\ P\ {\isacharparenleft}{\kern0pt}rremdups\ {\isacharparenleft}{\kern0pt}filter\ Q\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ rremdups\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ P\ x\ {\isasymand}\ Q\ x{\isacharparenright}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ Q{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ filter{\isacharunderscore}{\kern0pt}rremdups{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}filter\ P\ {\isacharparenleft}{\kern0pt}rremdups\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ rremdups\ {\isacharparenleft}{\kern0pt}filter\ P\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ filter{\isacharunderscore}{\kern0pt}rremdups{\isacharunderscore}{\kern0pt}filter{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ Q{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isasymlambda}{\isacharunderscore}{\kern0pt}{\isachardot}{\kern0pt}\ True{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ filter{\isacharunderscore}{\kern0pt}take{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymexists}j{\isachardot}{\kern0pt}\ filter\ P\ {\isacharparenleft}{\kern0pt}take\ i\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ take\ j\ {\isacharparenleft}{\kern0pt}filter\ P\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ filter{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ filter{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ take{\isacharunderscore}{\kern0pt}Cons{\isacharprime}{\kern0pt}\ take{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}Cons{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ filter{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ take{\isadigit{0}}\ take{\isacharunderscore}{\kern0pt}Cons{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ rremdups{\isacharunderscore}{\kern0pt}take{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymexists}j{\isachardot}{\kern0pt}\ rremdups\ {\isacharparenleft}{\kern0pt}take\ i\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ take\ j\ {\isacharparenleft}{\kern0pt}rremdups\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ x\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ i{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ j\ \isakeyword{where}\ j{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}rremdups\ {\isacharparenleft}{\kern0pt}take\ n\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ take\ j\ {\isacharparenleft}{\kern0pt}rremdups\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ j{\isacharprime}{\kern0pt}\ \isakeyword{where}\ j{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}filter\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymnoteq}{\isacharparenright}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}take\ j\ {\isacharparenleft}{\kern0pt}rremdups\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ take\ j{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymnoteq}{\isacharparenright}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rremdups\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ filter{\isacharunderscore}{\kern0pt}take\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Suc\ filter{\isacharunderscore}{\kern0pt}rremdups{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ j{\isacharunderscore}{\kern0pt}def\ j{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}Suc\ j{\isacharprime}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ take{\isacharunderscore}{\kern0pt}Cons{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ rremdups{\isacharunderscore}{\kern0pt}app{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}rremdups\ {\isacharparenleft}{\kern0pt}xs\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}x{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ rremdups\ xs\ {\isacharat}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ x\ {\isasymin}\ set\ xs\ then\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ else\ {\isacharbrackleft}{\kern0pt}x{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ filter{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ filter{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ filter{\isacharunderscore}{\kern0pt}append\ filter{\isacharunderscore}{\kern0pt}rremdups{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ rremdups{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}rremdups\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ filter{\isacharunderscore}{\kern0pt}rremdups{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}rremdups{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct\ {\isacharparenleft}{\kern0pt}rremdups\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ {\isachardoublequoteopen}length\ xs{\isachardoublequoteclose}\ arbitrary{\isacharcolon}{\kern0pt}\ xs\ rule{\isacharcolon}{\kern0pt}\ nat{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{1}}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ IH{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}m\ ys{\isachardot}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}ys\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a\ list{\isacharparenright}{\kern0pt}\ {\isacharless}{\kern0pt}\ length\ xs\ {\isasymLongrightarrow}\ distinct\ {\isacharparenleft}{\kern0pt}rremdups\ ys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ z\ zs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ IH\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Cons\ rremdups{\isacharunderscore}{\kern0pt}set\ le{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}Suc{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ length{\isacharunderscore}{\kern0pt}rremdups{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ {\isacharparenleft}{\kern0pt}rremdups\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}set\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}card{\isacharbrackleft}{\kern0pt}OF\ distinct{\isacharunderscore}{\kern0pt}rremdups{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ eq{\isacharunderscore}{\kern0pt}commute{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ rremdups{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}sum{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}sum\ Map{\isachardot}{\kern0pt}empty\ Some{\isacharparenright}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ nats\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ list\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}nats\ ns\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}ns\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}length\ ns{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlzd\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ xs\ {\isasymlongleftrightarrow}\ Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs\ {\isasymsubseteq}\ AD\ {\isasymand}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}let\ ns\ {\isacharequal}{\kern0pt}\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}sum\ Map{\isachardot}{\kern0pt}empty\ Some{\isacharparenright}{\kern0pt}\ xs\ in\ nats\ {\isacharparenleft}{\kern0pt}rremdups\ ns{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}all{\isacharunderscore}{\kern0pt}AD{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}set\ xs\ {\isasymsubseteq}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}sum\ Map{\isachardot}{\kern0pt}empty\ Some{\isacharparenright}{\kern0pt}\ xs\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}def\ nats{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}Inr{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}length{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs{\isacharparenright}{\kern0pt}\ {\isasymle}\ length\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs{\isacharparenright}{\kern0pt}\ {\isasymle}\ card\ {\isacharparenleft}{\kern0pt}set\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ List{\isachardot}{\kern0pt}finite{\isacharunderscore}{\kern0pt}set\ card{\isacharunderscore}{\kern0pt}inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}le\ image{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}subset\ inj{\isacharunderscore}{\kern0pt}Inr{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isasymle}\ length\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ card{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ xs{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}set\ xs\ {\isacharequal}{\kern0pt}\ set\ xs\ {\isasyminter}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}min\ {\isacharparenleft}{\kern0pt}length\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Let{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}def\ nats{\isacharunderscore}{\kern0pt}def\ length{\isacharunderscore}{\kern0pt}rremdups\ set{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}sum\ rremdups{\isacharunderscore}{\kern0pt}set\isanewline
\ \ \ \ \ \ \ \ dest{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ arg{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ set{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set\ xs\ {\isacharequal}{\kern0pt}\ set\ xs\ {\isasyminter}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ UNIV{\isacharunderscore}{\kern0pt}I\ UNIV{\isacharunderscore}{\kern0pt}sum\ UnE\ image{\isacharunderscore}{\kern0pt}iff\ subset{\isacharunderscore}{\kern0pt}iff\ vimageI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}Inr{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}of\ xs{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ min{\isachardot}{\kern0pt}absorb{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}take{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymexists}j{\isachardot}{\kern0pt}\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ f\ {\isacharparenleft}{\kern0pt}take\ i\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ take\ j\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ f\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ option{\isachardot}{\kern0pt}case{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ take{\isadigit{0}}\ take{\isacharunderscore}{\kern0pt}Cons{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ option{\isachardot}{\kern0pt}case{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ take{\isacharunderscore}{\kern0pt}Cons{\isacharprime}{\kern0pt}\ take{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}Cons{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}take{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ xs\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ {\isacharparenleft}{\kern0pt}take\ i\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}def\ vimage{\isacharunderscore}{\kern0pt}def\ nats{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}take{\isacharunderscore}{\kern0pt}subset\ \isacommand{apply}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}take{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}case{\isacharunderscore}{\kern0pt}sum\ Map{\isachardot}{\kern0pt}empty\ Some{\isachardoublequoteclose}\ i\ xs{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ j\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ rremdups{\isacharunderscore}{\kern0pt}take{\isacharbrackleft}{\kern0pt}of\ j\ {\isachardoublequoteopen}List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}sum\ Map{\isachardot}{\kern0pt}empty\ Some{\isacharparenright}{\kern0pt}\ xs{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ add{\isachardot}{\kern0pt}left{\isacharunderscore}{\kern0pt}neutral\ min{\isachardot}{\kern0pt}cobounded{\isadigit{1}}\ min{\isacharunderscore}{\kern0pt}def\ take{\isacharunderscore}{\kern0pt}all\ take{\isacharunderscore}{\kern0pt}upt{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}app{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ f\ {\isacharparenleft}{\kern0pt}xs\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}x{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ f\ xs\ {\isacharat}{\kern0pt}\isanewline
\ \ {\isacharparenleft}{\kern0pt}case\ f\ x\ of\ Some\ y\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}y{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}app{\isacharunderscore}{\kern0pt}Inr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Inr\ n\ {\isasymnotin}\ set\ xs\ {\isasymLongrightarrow}\ Inr\ n{\isacharprime}{\kern0pt}\ {\isasymnotin}\ set\ xs\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ {\isacharparenleft}{\kern0pt}xs\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}Inr\ n{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ {\isacharparenleft}{\kern0pt}xs\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}Inr\ n{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ n\ {\isacharequal}{\kern0pt}\ n{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}def\ nats{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def\ map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}app\isanewline
\ \ \ \ \ \ rremdups{\isacharunderscore}{\kern0pt}app\ set{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}sum{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ all{\isacharunderscore}{\kern0pt}tuples\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}c\ set\ {\isasymRightarrow}\ nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}c\ table{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}all{\isacharunderscore}{\kern0pt}tuples\ xs\ {\isadigit{0}}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}all{\isacharunderscore}{\kern0pt}tuples\ xs\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}as{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ x\ {\isacharhash}{\kern0pt}\ as{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}all{\isacharunderscore}{\kern0pt}tuples\ xs\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ nat\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ table{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}nall{\isacharunderscore}{\kern0pt}tuples\ AD\ n\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}zs\ {\isasymin}\ all{\isacharunderscore}{\kern0pt}tuples\ {\isacharparenleft}{\kern0pt}Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ n{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ zs{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ all{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}finite{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ xs\ {\isasymLongrightarrow}\ finite\ {\isacharparenleft}{\kern0pt}all{\isacharunderscore}{\kern0pt}tuples\ xs\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs\ n\ rule{\isacharcolon}{\kern0pt}\ all{\isacharunderscore}{\kern0pt}tuples{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}finite{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ AD\ {\isasymLongrightarrow}\ finite\ {\isacharparenleft}{\kern0pt}nall{\isacharunderscore}{\kern0pt}tuples\ AD\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}def\ all{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}finite{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ all{\isacharunderscore}{\kern0pt}tuplesI{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ vs\ {\isacharequal}{\kern0pt}\ n\ {\isasymLongrightarrow}\ set\ vs\ {\isasymsubseteq}\ xs\ {\isasymLongrightarrow}\ vs\ {\isasymin}\ all{\isacharunderscore}{\kern0pt}tuples\ xs\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs\ n\ arbitrary{\isacharcolon}{\kern0pt}\ vs\ rule{\isacharcolon}{\kern0pt}\ all{\isacharunderscore}{\kern0pt}tuples{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ xs\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ w\ ws\ \isakeyword{where}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ w\ {\isacharhash}{\kern0pt}\ ws{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ ws\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ ws\ {\isasymsubseteq}\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}w\ {\isasymin}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Suc{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}conv\ contra{\isacharunderscore}{\kern0pt}subsetD\ list{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}intros{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ order{\isacharunderscore}{\kern0pt}trans\ set{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}Cons{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuplesI{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ vs\ {\isacharequal}{\kern0pt}\ n\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ vs\ {\isasymLongrightarrow}\ vs\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples\ AD\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}set{\isacharbrackleft}{\kern0pt}of\ AD\ vs{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}def\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ all{\isacharunderscore}{\kern0pt}tuplesI{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ all{\isacharunderscore}{\kern0pt}tuplesD{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isasymin}\ all{\isacharunderscore}{\kern0pt}tuples\ xs\ n\ {\isasymLongrightarrow}\ length\ vs\ {\isacharequal}{\kern0pt}\ n\ {\isasymand}\ set\ vs\ {\isasymsubseteq}\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs\ n\ arbitrary{\isacharcolon}{\kern0pt}\ vs\ rule{\isacharcolon}{\kern0pt}\ all{\isacharunderscore}{\kern0pt}tuples{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ auto{\isacharplus}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ all{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}setD{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isasymin}\ all{\isacharunderscore}{\kern0pt}tuples\ xs\ n\ {\isasymLongrightarrow}\ set\ vs\ {\isasymsubseteq}\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ dest{\isacharcolon}{\kern0pt}\ all{\isacharunderscore}{\kern0pt}tuplesD{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuplesD{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples\ AD\ n\ {\isasymLongrightarrow}\isanewline
\ \ length\ vs\ {\isacharequal}{\kern0pt}\ n\ {\isasymand}\ set\ vs\ {\isasymsubseteq}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbraceright}{\kern0pt}\ {\isasymand}\ fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ vs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}def\ dest{\isacharcolon}{\kern0pt}\ all{\isacharunderscore}{\kern0pt}tuplesD{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ all{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}all{\isacharunderscore}{\kern0pt}tuples\ xs\ n\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}ys{\isachardot}{\kern0pt}\ length\ ys\ {\isacharequal}{\kern0pt}\ n\ {\isasymand}\ set\ ys\ {\isasymsubseteq}\ xs{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs\ n\ rule{\isacharcolon}{\kern0pt}\ all{\isacharunderscore}{\kern0pt}tuples{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ xs\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ subset{\isacharunderscore}{\kern0pt}antisym{\isacharsemicolon}{\kern0pt}\ rule\ subsetI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ ys\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}ys\ {\isasymin}\ all{\isacharunderscore}{\kern0pt}tuples\ xs\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}ys\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}ys{\isachardot}{\kern0pt}\ length\ ys\ {\isacharequal}{\kern0pt}\ Suc\ n\ {\isasymand}\ set\ ys\ {\isasymsubseteq}\ xs{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ ys\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}ys\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}ys{\isachardot}{\kern0pt}\ length\ ys\ {\isacharequal}{\kern0pt}\ Suc\ n\ {\isasymand}\ set\ ys\ {\isasymsubseteq}\ xs{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ ys\ {\isacharequal}{\kern0pt}\ Suc\ n{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ ys\ {\isasymsubseteq}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ z\ zs\ \isakeyword{where}\ zs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ z\ {\isacharhash}{\kern0pt}\ zs{\isachardoublequoteclose}\ {\isachardoublequoteopen}z\ {\isasymin}\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ zs\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ zs\ {\isasymsubseteq}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ ys{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isadigit{2}}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}zs\ {\isasymin}\ all{\isacharunderscore}{\kern0pt}tuples\ xs\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ zs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}ys\ {\isasymin}\ all{\isacharunderscore}{\kern0pt}tuples\ xs\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nall{\isacharunderscore}{\kern0pt}tuples\ AD\ n\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}ys{\isachardot}{\kern0pt}\ length\ ys\ {\isacharequal}{\kern0pt}\ n\ {\isasymand}\ fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ ys{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}set{\isacharbrackleft}{\kern0pt}of\ AD{\isacharbrackright}{\kern0pt}\ card{\isacharunderscore}{\kern0pt}Inr{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}length\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}def\ all{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}smt\ UnE\ nall{\isacharunderscore}{\kern0pt}tuplesD\ nall{\isacharunderscore}{\kern0pt}tuplesI\ subsetD{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ pos\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ list\ {\isasymRightarrow}\ nat\ option{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}pos\ a\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}pos\ a\ {\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}if\ a\ {\isacharequal}{\kern0pt}\ x\ then\ Some\ {\isadigit{0}}\ else\ {\isacharparenleft}{\kern0pt}case\ pos\ a\ xs\ of\ Some\ n\ {\isasymRightarrow}\ Some\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isasymRightarrow}\ None{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ pos{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}pos\ a\ xs\ {\isacharequal}{\kern0pt}\ Some\ i\ {\isasymLongrightarrow}\ a\ {\isasymin}\ set\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ a\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ i\ rule{\isacharcolon}{\kern0pt}\ pos{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ pos{\isacharunderscore}{\kern0pt}length{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}pos\ a\ xs\ {\isacharequal}{\kern0pt}\ Some\ i\ {\isasymLongrightarrow}\ i\ {\isacharless}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ a\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ i\ rule{\isacharcolon}{\kern0pt}\ pos{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ pos{\isacharunderscore}{\kern0pt}sound{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}pos\ a\ xs\ {\isacharequal}{\kern0pt}\ Some\ i\ {\isasymLongrightarrow}\ i\ {\isacharless}{\kern0pt}\ length\ xs\ {\isasymand}\ xs\ {\isacharbang}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ a{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ a\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ i\ rule{\isacharcolon}{\kern0pt}\ pos{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ pos{\isacharunderscore}{\kern0pt}complete{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}pos\ a\ xs\ {\isacharequal}{\kern0pt}\ None\ {\isasymLongrightarrow}\ a\ {\isasymnotin}\ set\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ a\ xs\ rule{\isacharcolon}{\kern0pt}\ pos{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ list\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ list{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}rem{\isacharunderscore}{\kern0pt}nth\ {\isacharunderscore}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}rem{\isacharunderscore}{\kern0pt}nth\ {\isadigit{0}}\ {\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}rem{\isacharunderscore}{\kern0pt}nth\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ x\ {\isacharhash}{\kern0pt}\ rem{\isacharunderscore}{\kern0pt}nth\ n\ xs{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}length{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length\ xs\ {\isasymLongrightarrow}\ length\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ i\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ xs\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ i\ xs\ rule{\isacharcolon}{\kern0pt}\ rem{\isacharunderscore}{\kern0pt}nth{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}take{\isacharunderscore}{\kern0pt}drop{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length\ xs\ {\isasymLongrightarrow}\ rem{\isacharunderscore}{\kern0pt}nth\ i\ xs\ {\isacharequal}{\kern0pt}\ take\ i\ xs\ {\isacharat}{\kern0pt}\ drop\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ i\ xs\ rule{\isacharcolon}{\kern0pt}\ rem{\isacharunderscore}{\kern0pt}nth{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}sound{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct\ xs\ {\isasymLongrightarrow}\ pos\ n\ xs\ {\isacharequal}{\kern0pt}\ Some\ i\ {\isasymLongrightarrow}\isanewline
\ \ rem{\isacharunderscore}{\kern0pt}nth\ i\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymnoteq}{\isacharparenright}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ pos{\isacharunderscore}{\kern0pt}set\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}mono{\isacharunderscore}{\kern0pt}tags{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ filter{\isacharunderscore}{\kern0pt}True{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}nth\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ list\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ list{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}add{\isacharunderscore}{\kern0pt}nth\ {\isadigit{0}}\ a\ xs\ {\isacharequal}{\kern0pt}\ a\ {\isacharhash}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}add{\isacharunderscore}{\kern0pt}nth\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ a\ zs\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ zs\ of\ x\ {\isacharhash}{\kern0pt}\ xs\ {\isasymRightarrow}\ x\ {\isacharhash}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}nth\ n\ a\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}length{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isasymle}\ length\ zs\ {\isasymLongrightarrow}\ length\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}length\ zs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ i\ z\ zs\ rule{\isacharcolon}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}nth{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ list{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}take{\isacharunderscore}{\kern0pt}drop{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isasymle}\ length\ zs\ {\isasymLongrightarrow}\ add{\isacharunderscore}{\kern0pt}nth\ i\ v\ zs\ {\isacharequal}{\kern0pt}\ take\ i\ zs\ {\isacharat}{\kern0pt}\ v\ {\isacharhash}{\kern0pt}\ drop\ i\ zs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ i\ v\ zs\ rule{\isacharcolon}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}nth{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ list{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct\ xs\ {\isasymLongrightarrow}\ pos\ n\ xs\ {\isacharequal}{\kern0pt}\ Some\ i\ {\isasymLongrightarrow}\isanewline
\ \ add{\isacharunderscore}{\kern0pt}nth\ i\ a\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ i\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ a{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ pos{\isacharunderscore}{\kern0pt}set\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}self{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length\ xs\ {\isasymLongrightarrow}\ add{\isacharunderscore}{\kern0pt}nth\ i\ {\isacharparenleft}{\kern0pt}xs\ {\isacharbang}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ i\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ i\ xs\ rule{\isacharcolon}{\kern0pt}\ rem{\isacharunderscore}{\kern0pt}nth{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isasymle}\ length\ zs\ {\isasymLongrightarrow}\ rem{\isacharunderscore}{\kern0pt}nth\ i\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ zs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ i\ z\ zs\ rule{\isacharcolon}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}nth{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ list{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ merge\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}nat\ {\isasymtimes}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}nat\ {\isasymtimes}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}nat\ {\isasymtimes}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}\ list{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}merge\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ mys\ {\isacharequal}{\kern0pt}\ mys{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}merge\ nxs\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ nxs{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}merge\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharhash}{\kern0pt}\ nxs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}m{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isacharhash}{\kern0pt}\ mys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}if\ n\ {\isasymle}\ m\ then\ {\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharhash}{\kern0pt}\ merge\ nxs\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}m{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isacharhash}{\kern0pt}\ mys{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ else\ {\isacharparenleft}{\kern0pt}m{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isacharhash}{\kern0pt}\ merge\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharhash}{\kern0pt}\ nxs{\isacharparenright}{\kern0pt}\ mys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}Nil{\isadigit{2}}{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}merge\ nxs\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ nxs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ nxs{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}length{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ {\isacharparenleft}{\kern0pt}merge\ nxs\ mys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}map\ fst\ nxs\ {\isacharat}{\kern0pt}\ map\ fst\ mys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ nxs\ mys\ rule{\isacharcolon}{\kern0pt}\ merge{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ insort{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}le{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}x{\isasymin}set\ nxs{\isachardot}{\kern0pt}\ n\ {\isasymle}\ fst\ x\ {\isasymLongrightarrow}\ {\isasymforall}x{\isasymin}set\ mys{\isachardot}{\kern0pt}\ m\ {\isasymle}\ fst\ x\ {\isasymLongrightarrow}\ n\ {\isasymle}\ m\ {\isasymLongrightarrow}\isanewline
\ \ insort\ n\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}map\ fst\ nxs\ {\isacharat}{\kern0pt}\ m\ {\isacharhash}{\kern0pt}\ map\ fst\ mys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ n\ {\isacharhash}{\kern0pt}\ sort\ {\isacharparenleft}{\kern0pt}map\ fst\ nxs\ {\isacharat}{\kern0pt}\ m\ {\isacharhash}{\kern0pt}\ map\ fst\ mys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ nxs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ insort{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Cons\ insort{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}comm{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ insort{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}gt{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}x{\isasymin}set\ nxs{\isachardot}{\kern0pt}\ n\ {\isasymle}\ fst\ x\ {\isasymLongrightarrow}\ {\isasymforall}x{\isasymin}set\ mys{\isachardot}{\kern0pt}\ m\ {\isasymle}\ fst\ x\ {\isasymLongrightarrow}\ {\isasymnot}\ n\ {\isasymle}\ m\ {\isasymLongrightarrow}\isanewline
\ \ insort\ n\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}map\ fst\ nxs\ {\isacharat}{\kern0pt}\ m\ {\isacharhash}{\kern0pt}\ map\ fst\ mys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ m\ {\isacharhash}{\kern0pt}\ insort\ n\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}map\ fst\ nxs\ {\isacharat}{\kern0pt}\ map\ fst\ mys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ nxs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ insort{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Cons{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ dual{\isacharunderscore}{\kern0pt}order{\isachardot}{\kern0pt}trans\ insort{\isacharunderscore}{\kern0pt}key{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ insort{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}comm{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}merge{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ {\isacharparenleft}{\kern0pt}map\ fst\ nxs{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ sorted{\isacharunderscore}{\kern0pt}distinct\ {\isacharparenleft}{\kern0pt}map\ fst\ mys{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ map\ fst\ {\isacharparenleft}{\kern0pt}merge\ nxs\ mys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ sort\ {\isacharparenleft}{\kern0pt}map\ fst\ nxs\ {\isacharat}{\kern0pt}\ map\ fst\ mys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ nxs\ mys\ rule{\isacharcolon}{\kern0pt}\ merge{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}id\ insort{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Cons\ insort{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}le\ insort{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}gt{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}map{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ {\isacharparenleft}{\kern0pt}map\ fst\ nxs{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ sorted{\isacharunderscore}{\kern0pt}distinct\ {\isacharparenleft}{\kern0pt}map\ fst\ mys{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ fst\ {\isacharbackquote}{\kern0pt}\ set\ nxs\ {\isasyminter}\ fst\ {\isacharbackquote}{\kern0pt}\ set\ mys\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ map\ snd\ nxs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}map\ fst\ nxs{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ map\ snd\ mys\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}map\ fst\ mys{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ map\ snd\ {\isacharparenleft}{\kern0pt}merge\ nxs\ mys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}map\ fst\ nxs\ {\isacharat}{\kern0pt}\ map\ fst\ mys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ nxs\ mys\ rule{\isacharcolon}{\kern0pt}\ merge{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}id\ insort{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}Cons\ insort{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}le\ insort{\isacharunderscore}{\kern0pt}aux{\isacharunderscore}{\kern0pt}gt{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns\ {\isasymLongrightarrow}\ sorted{\isacharunderscore}{\kern0pt}distinct\ ms\ {\isasymLongrightarrow}\ set\ ns\ {\isasyminter}\ set\ ms\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ms\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ms{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns\ {\isacharat}{\kern0pt}\ ms{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}map{\isacharprime}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}zip\ ns\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}zip\ ms\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ms{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isasymsigma}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto\ {\isacharparenleft}{\kern0pt}metis\ length{\isacharunderscore}{\kern0pt}map\ list{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}map\ map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat\ {\isasymrightharpoonup}\ nat{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ list{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ {\isacharparenleft}{\kern0pt}Inl\ x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ x\ {\isasymin}\ AD\ then\ Inl\ x\ {\isacharhash}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs\ else\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}case\ m\ {\isacharparenleft}{\kern0pt}Inl\ x{\isacharparenright}{\kern0pt}\ of\ None\ {\isasymRightarrow}\ Inr\ i\ {\isacharhash}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inl\ x\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD\ xs\isanewline
\ \ \ \ {\isacharbar}{\kern0pt}\ Some\ j\ {\isasymRightarrow}\ Inr\ j\ {\isacharhash}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ {\isacharparenleft}{\kern0pt}Inr\ n\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ m\ {\isacharparenleft}{\kern0pt}Inr\ n{\isacharparenright}{\kern0pt}\ of\ None\ {\isasymRightarrow}\isanewline
\ \ \ \ Inr\ i\ {\isacharhash}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inr\ n\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD\ xs\isanewline
\ \ {\isacharbar}{\kern0pt}\ Some\ j\ {\isasymRightarrow}\ Inr\ j\ {\isacharhash}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}sound{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ran\ m\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ filter\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymle}{\isacharparenright}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rremdups\isanewline
\ \ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}sum\ Map{\isachardot}{\kern0pt}empty\ Some{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ ns\ {\isasymLongrightarrow}\isanewline
\ \ ns\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}i{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i\ {\isacharplus}{\kern0pt}\ length\ ns{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ i\ m\ AD\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ ns\ rule{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ i\ m\ AD\ x\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}x\ {\isasymin}\ AD{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}m\ {\isacharparenleft}{\kern0pt}Inl\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ pred{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ran\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inl\ x\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ None\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ dom{\isacharunderscore}{\kern0pt}def\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ns\ {\isacharequal}{\kern0pt}\ i\ {\isacharhash}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymle}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rremdups\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}sum\ Map{\isachardot}{\kern0pt}empty\ Some{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inl\ x\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\ False\ None\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps\ filter{\isacharunderscore}{\kern0pt}rremdups{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ Suc{\isacharunderscore}{\kern0pt}leD\ antisym\ not{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ False\ None\ pred{\isacharcomma}{\kern0pt}\ OF\ refl{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}smt\ Suc{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}eq\ Suc{\isacharunderscore}{\kern0pt}pred\ le{\isacharunderscore}{\kern0pt}add{\isadigit{1}}\ le{\isacharunderscore}{\kern0pt}zero{\isacharunderscore}{\kern0pt}eq\ less{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}same{\isacharunderscore}{\kern0pt}cancel{\isadigit{1}}\ not{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ upt{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}append\ upt{\isacharunderscore}{\kern0pt}rec{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ j{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}i{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}j\ {\isacharless}{\kern0pt}\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ ns{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ns\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymle}{\isacharparenright}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rremdups\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}sum\ Map{\isachardot}{\kern0pt}empty\ Some{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\ False\ Some\ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}i\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps\ filter{\isacharunderscore}{\kern0pt}rremdups{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ leD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ False\ Some\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ ns{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{3}}\ i\ m\ AD\ n\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}m\ {\isacharparenleft}{\kern0pt}Inr\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ pred{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ran\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inr\ n\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ None\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ dom{\isacharunderscore}{\kern0pt}def\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ns\ {\isacharequal}{\kern0pt}\ i\ {\isacharhash}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymle}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rremdups\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}sum\ Map{\isachardot}{\kern0pt}empty\ Some{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inr\ n\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ None\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps\ filter{\isacharunderscore}{\kern0pt}rremdups{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ Suc{\isacharunderscore}{\kern0pt}leD\ antisym\ not{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ None\ pred{\isacharcomma}{\kern0pt}\ OF\ refl{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}smt\ Suc{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}eq\ Suc{\isacharunderscore}{\kern0pt}pred\ le{\isacharunderscore}{\kern0pt}add{\isadigit{1}}\ le{\isacharunderscore}{\kern0pt}zero{\isacharunderscore}{\kern0pt}eq\ less{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}same{\isacharunderscore}{\kern0pt}cancel{\isadigit{1}}\ not{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \ \ \ \ \ \ upt{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}append\ upt{\isacharunderscore}{\kern0pt}rec{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ j{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}i{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}j\ {\isacharless}{\kern0pt}\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ ns{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ns\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymle}{\isacharparenright}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}rremdups\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}sum\ Map{\isachardot}{\kern0pt}empty\ Some{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ Some\ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}i\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps\ filter{\isacharunderscore}{\kern0pt}rremdups{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ leD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ Some\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ ns{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ id{\isacharunderscore}{\kern0pt}map\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat\ {\isasymrightharpoonup}\ nat{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}id{\isacharunderscore}{\kern0pt}map\ n\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ case\ x\ of\ Inl\ x\ {\isasymRightarrow}\ None\ {\isacharbar}{\kern0pt}\ Inr\ x\ {\isasymRightarrow}\ if\ x\ {\isacharless}{\kern0pt}\ n\ then\ Some\ x\ else\ None{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}idem{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ ys\ {\isasymsubseteq}\ AD\ {\isasymLongrightarrow}\isanewline
\ \ rremdups\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}sum\ Map{\isachardot}{\kern0pt}empty\ Some{\isacharparenright}{\kern0pt}\ ys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ ns\ {\isasymLongrightarrow}\isanewline
\ \ set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isacharless}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ filter\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymle}{\isacharparenright}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ ns\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}i{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i\ {\isacharplus}{\kern0pt}\ k{\isacharbrackright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenright}{\kern0pt}\ AD\ ys\ {\isacharequal}{\kern0pt}\ ys{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ ys\ arbitrary{\isacharcolon}{\kern0pt}\ i\ k\ ns{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ y\ ys{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ y{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Inl\ a{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inl\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Inr\ j{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}j\ {\isacharless}{\kern0pt}\ i{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ j{\isacharunderscore}{\kern0pt}i{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}j\ {\isacharequal}{\kern0pt}\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ False\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps\ filter{\isacharunderscore}{\kern0pt}rremdups\ in{\isacharunderscore}{\kern0pt}mono\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ upt{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Cons{\isacharunderscore}{\kern0pt}conv{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ kk\ \isakeyword{where}\ k{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isacharequal}{\kern0pt}\ Suc\ kk{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ k{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps\ j{\isacharunderscore}{\kern0pt}i{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{define}\isamarkupfalse%
\ ns{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}ns{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ rremdups\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}sum\ Map{\isachardot}{\kern0pt}empty\ Some{\isacharparenright}{\kern0pt}\ ys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}None{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}id{\isacharunderscore}{\kern0pt}map\ i\ {\isacharparenleft}{\kern0pt}Inr\ i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}upd{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenleft}{\kern0pt}Inr\ i\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isacharless}{\kern0pt}\ Suc\ i{\isacharparenright}{\kern0pt}\ ns{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}filter\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymle}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ ns{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}Suc\ i{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i\ {\isacharplus}{\kern0pt}\ k{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps\ j{\isacharunderscore}{\kern0pt}i\ filter{\isacharunderscore}{\kern0pt}rremdups{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ ns{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}smt\ One{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}def\ Suc{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}plus{\isadigit{1}}\ Suc{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}eq\ add{\isacharunderscore}{\kern0pt}diff{\isacharunderscore}{\kern0pt}cancel{\isacharunderscore}{\kern0pt}left{\isacharprime}{\kern0pt}\ diff{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}eq{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ dual{\isacharunderscore}{\kern0pt}order{\isachardot}{\kern0pt}order{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}strict\ filter{\isacharunderscore}{\kern0pt}cong\ n{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}n\ upt{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Cons{\isacharunderscore}{\kern0pt}conv{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ ys\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ vimage{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenright}{\kern0pt}{\isacharparenleft}{\kern0pt}Inr\ i\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD\ ys\ {\isacharequal}{\kern0pt}\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ ns{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ of\ {\isachardoublequoteopen}Suc\ i{\isachardoublequoteclose}\ kk{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ k{\isacharunderscore}{\kern0pt}def\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}upd\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr\ j{\isacharunderscore}{\kern0pt}i\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}None{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{define}\isamarkupfalse%
\ ns{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}ns{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ rremdups\ {\isacharparenleft}{\kern0pt}List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}sum\ Map{\isachardot}{\kern0pt}empty\ Some{\isacharparenright}{\kern0pt}\ ys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}y{\isachardot}{\kern0pt}\ y\ {\isacharless}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ ns{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ set\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}y{\isachardot}{\kern0pt}\ y\ {\isacharless}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}filter\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymle}{\isacharparenright}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ ns{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymle}{\isacharparenright}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ ns{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ True\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps\ filter{\isacharunderscore}{\kern0pt}rremdups{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ ns{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}smt\ filter{\isacharunderscore}{\kern0pt}cong\ leD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenright}{\kern0pt}\ AD\ ys\ {\isacharequal}{\kern0pt}\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ ns{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ vimage{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}length{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ i\ m\ AD\ xs\ rule{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ insert{\isacharunderscore}{\kern0pt}Inr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}X{\isachardot}{\kern0pt}\ insert\ {\isacharparenleft}{\kern0pt}Inr\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ X\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ran\ m\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ set\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs{\isacharparenright}{\kern0pt}\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ set\ xs\ {\isasyminter}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}set\ xs\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ m{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ i\ m\ AD\ xs\ rule{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ i\ m\ AD\ x\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}Inl\ x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}x\ {\isasymin}\ AD{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}Inl\ x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ m{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}set\ xs\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ True\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ True\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}m\ {\isacharparenleft}{\kern0pt}Inl\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ pred{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ran\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inl\ x\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ None\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ dom{\isacharunderscore}{\kern0pt}def\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}Inl\ x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ m\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}Inl\ x{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}set\ xs\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inl\ x\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ None\ False\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ dom{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ Suc{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Suc\ i\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}set\ xs\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inl\ x\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ i\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}Inl\ x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ None\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ False\ None\ pred{\isacharbrackright}{\kern0pt}\ False\ None\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Suc\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ insert{\isacharunderscore}{\kern0pt}Inr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ j{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}i{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}j\ {\isacharless}{\kern0pt}\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}Inl\ x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ m{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}set\ xs\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Some\ intro{\isacharcolon}{\kern0pt}\ arg{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ card{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ False\ Some\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ False\ Some\ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}i\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{3}}\ i\ m\ AD\ k\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}m\ {\isacharparenleft}{\kern0pt}Inr\ k{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ preds{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ran\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inr\ k\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}Inr\ k\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ m\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}Inr\ k{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}set\ xs\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inr\ k\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ None\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ dom{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ Suc{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Suc\ i\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}set\ xs\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inr\ k\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ i\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}Inr\ k\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ None\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ None\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ None\ preds{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Suc\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ insert{\isacharunderscore}{\kern0pt}Inr{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ j{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ fin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}Inr\ k\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}set\ xs\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ m{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}Inr\ k\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ dom\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Some\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ arg{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ card{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}i{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}j\ {\isacharless}{\kern0pt}\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ Some\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ Some\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}i\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ran{\isacharunderscore}{\kern0pt}def\ insert{\isacharunderscore}{\kern0pt}Inr\ Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}rev{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymLongrightarrow}\ set\ xs\ {\isasymsubseteq}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ i\ m\ AD\ xs\ rule{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ m\ {\isacharparenleft}{\kern0pt}dom\ m{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ ran\ m\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isasymexists}m{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on\ m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dom\ m{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isasymforall}n{\isachardot}{\kern0pt}\ m\ n\ {\isasymnoteq}\ None\ {\isasymlongrightarrow}\ m{\isacharprime}{\kern0pt}\ n\ {\isacharequal}{\kern0pt}\ m\ n{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ xs\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}case\ x\ of\ Inl\ x{\isacharprime}{\kern0pt}\ {\isasymRightarrow}\ if\ x{\isacharprime}{\kern0pt}\ {\isasymin}\ AD\ then\ x\ {\isacharequal}{\kern0pt}\ y\ else\ {\isasymexists}j{\isachardot}{\kern0pt}\ m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Inl\ x{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Some\ j\ {\isasymand}\ y\ {\isacharequal}{\kern0pt}\ Inr\ j\isanewline
\ \ \ \ {\isacharbar}{\kern0pt}\ Inr\ n\ {\isasymRightarrow}\ {\isasymexists}j{\isachardot}{\kern0pt}\ m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Inr\ n{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Some\ j\ {\isasymand}\ y\ {\isacharequal}{\kern0pt}\ Inr\ j{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ i\ m\ AD\ xs\ rule{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ i\ m\ AD\ x\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}x\ {\isasymin}\ AD{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}m\ {\isacharparenleft}{\kern0pt}Inl\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ preds{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inl\ x\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inl\ x\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ran\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inl\ x\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ False\ None\ preds{\isacharbrackright}{\kern0pt}\ False\ None\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ m{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ m{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ j{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ False\ Some\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ False\ Some\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ m{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ m{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{3}}\ i\ m\ AD\ n\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}m\ {\isacharparenleft}{\kern0pt}Inr\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ preds{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inr\ n\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inr\ n\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ran\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}Inr\ n\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ None\ preds{\isacharbrackright}{\kern0pt}\ None\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ safe\isanewline
\ \ \ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ m{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}def\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ m{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ j{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ Some\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ Some\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ m{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}def\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ m{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ xs\ {\isacharequal}{\kern0pt}\ length\ ys\ {\isasymLongrightarrow}\ inj{\isacharunderscore}{\kern0pt}on\ m\ {\isacharparenleft}{\kern0pt}dom\ m{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isasymAnd}x\ y{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ xs\ ys{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}case\ x\ of\ Inl\ x{\isacharprime}{\kern0pt}\ {\isasymRightarrow}\isanewline
\ \ \ \ if\ x{\isacharprime}{\kern0pt}\ {\isasymin}\ AD\ then\ x\ {\isacharequal}{\kern0pt}\ y\ else\ m\ x\ {\isacharequal}{\kern0pt}\ Some\ y\ {\isasymand}\ {\isacharparenleft}{\kern0pt}case\ y\ of\ Inl\ z\ {\isasymRightarrow}\ z\ {\isasymnotin}\ AD\ {\isacharbar}{\kern0pt}\ Inr\ {\isacharunderscore}{\kern0pt}\ {\isasymRightarrow}\ True{\isacharparenright}{\kern0pt}\isanewline
\ \ {\isacharbar}{\kern0pt}\ Inr\ n\ {\isasymRightarrow}\ m\ x\ {\isacharequal}{\kern0pt}\ Some\ y\ {\isasymand}\ {\isacharparenleft}{\kern0pt}case\ y\ of\ Inl\ z\ {\isasymRightarrow}\ z\ {\isasymnotin}\ AD\ {\isacharbar}{\kern0pt}\ Inr\ {\isacharunderscore}{\kern0pt}\ {\isasymRightarrow}\ True{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ xs\ ys{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{premises}\ prems\ \isakeyword{for}\ a\ b\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ prems{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ prems{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{premises}\ prems\ \isakeyword{for}\ a\ b\ c\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ prems{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ prems{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ prems{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ prems{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ prems{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ domI\ inj{\isacharunderscore}{\kern0pt}onD\ prems{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{premises}\ prems\ \isakeyword{for}\ a\ b\ c\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ prems{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ prems{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ prems{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ prems{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ prems{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}take{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}take\ n\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ {\isacharparenleft}{\kern0pt}take\ n\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ i\ m\ AD\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ n\ rule{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ take{\isacharunderscore}{\kern0pt}Cons{\isacharprime}{\kern0pt}\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ list{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ {\isadigit{0}}\ Map{\isachardot}{\kern0pt}empty{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}Nil{\isacharbrackleft}{\kern0pt}simp{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}Cons{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbrackleft}{\kern0pt}x{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ {\isacharparenleft}{\kern0pt}case\ x\ of\ Inl\ x\ {\isasymRightarrow}\ if\ x\ {\isasymin}\ AD\ then\ {\isacharbrackleft}{\kern0pt}Inl\ x{\isacharbrackright}{\kern0pt}\ else\ {\isacharbrackleft}{\kern0pt}Inr\ {\isadigit{0}}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}Inr\ {\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}Cons{\isacharunderscore}{\kern0pt}Cons{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbrackleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ x{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ {\isacharparenleft}{\kern0pt}case\ x\ of\ Inl\ x\ {\isasymRightarrow}\ if\ x\ {\isasymin}\ AD\ then\ {\isacharbrackleft}{\kern0pt}Inl\ x{\isacharcomma}{\kern0pt}\ Inl\ x{\isacharbrackright}{\kern0pt}\ else\ {\isacharbrackleft}{\kern0pt}Inr\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ Inr\ {\isadigit{0}}{\isacharbrackright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isasymRightarrow}\ {\isacharbrackleft}{\kern0pt}Inr\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ Inr\ {\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}of\ Map{\isachardot}{\kern0pt}empty\ {\isadigit{0}}{\isacharbrackright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}set{\isacharbrackleft}{\kern0pt}of\ Map{\isachardot}{\kern0pt}empty\ {\isadigit{0}}\ AD\ xs{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def\ nats{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}length\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymexists}{\isasymtau}{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ ns{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ m{\isacharprime}{\kern0pt}\ \isakeyword{where}\ m{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isasymin}set\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ case\ x\ of\ Inl\ x{\isacharprime}{\kern0pt}\ {\isasymRightarrow}\ if\ x{\isacharprime}{\kern0pt}\ {\isasymin}\ AD\ then\ x\ {\isacharequal}{\kern0pt}\ y\ else\ {\isasymexists}j{\isachardot}{\kern0pt}\ m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Inl\ x{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Some\ j\ {\isasymand}\ y\ {\isacharequal}{\kern0pt}\ Inr\ j\isanewline
\ \ \ \ {\isacharbar}{\kern0pt}\ Inr\ n\ {\isasymRightarrow}\ {\isasymexists}j{\isachardot}{\kern0pt}\ m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Inr\ n{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Some\ j\ {\isasymand}\ y\ {\isacharequal}{\kern0pt}\ Inr\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}of\ Map{\isachardot}{\kern0pt}empty\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ of\ {\isachardoublequoteopen}map\ {\isasymsigma}\ ns{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isachardoublequoteopen}{\isasymtau}\ {\isasymequiv}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ case\ {\isasymsigma}\ n\ of\ Inl\ x\ {\isasymRightarrow}\ if\ x\ {\isasymin}\ AD\ then\ Inl\ x\ else\ Inr\ {\isacharparenleft}{\kern0pt}the\ {\isacharparenleft}{\kern0pt}m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Inl\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharbar}{\kern0pt}\ Inr\ j\ {\isasymRightarrow}\ Inr\ {\isacharparenleft}{\kern0pt}the\ {\isacharparenleft}{\kern0pt}m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Inr\ j{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ ns{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ nth{\isacharunderscore}{\kern0pt}equalityI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}length\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ ns{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}of\ AD\ {\isachardoublequoteopen}map\ {\isasymsigma}\ ns{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ i\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharbang}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ ns\ {\isacharbang}{\kern0pt}\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ m{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}of\ AD\ {\isachardoublequoteopen}map\ {\isasymsigma}\ ns{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ nth{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ nth{\isacharunderscore}{\kern0pt}map\ option{\isachardot}{\kern0pt}sel{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}minus{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}set\ xs\ {\isacharminus}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isasymle}\ length\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ Diff{\isacharunderscore}{\kern0pt}subset\ List{\isachardot}{\kern0pt}finite{\isacharunderscore}{\kern0pt}set\ card{\isacharunderscore}{\kern0pt}length\ card{\isacharunderscore}{\kern0pt}mono\ order{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}set{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ set\ xs\ {\isasyminter}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}min\ {\isacharparenleft}{\kern0pt}length\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}set\ xs\ {\isacharminus}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}set{\isacharbrackleft}{\kern0pt}of\ Map{\isachardot}{\kern0pt}empty\ {\isadigit{0}}\ AD\ xs{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def\ card{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}minus{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}rev{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymLongrightarrow}\ set\ xs\ {\isasymsubseteq}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}rev{\isacharbrackleft}{\kern0pt}of\ {\isadigit{0}}\ Map{\isachardot}{\kern0pt}empty\ AD\ xs{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ xs\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}of\ Map{\isachardot}{\kern0pt}empty\ {\isadigit{0}}\ xs\ AD{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ m{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ of\ {\isachardoublequoteopen}map{\isacharunderscore}{\kern0pt}option\ Inr\ {\isasymcirc}\ m{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ xs\ {\isadigit{0}}\ Map{\isachardot}{\kern0pt}empty\ AD\ AD{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ dom{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs\ {\isasymsubseteq}\ AD\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlzd\ AD{\isacharprime}{\kern0pt}\ xs\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ ys\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ ys\ {\isacharequal}{\kern0pt}\ ys{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}i{\isacharequal}{\kern0pt}{\isadigit{0}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def\ nats{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}take{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}take\ n\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}take\ n\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}take\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ nat\ {\isasymRightarrow}\ nat\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ table{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ i\ {\isadigit{0}}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ i\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}as{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ x\ {\isacharhash}{\kern0pt}\ as{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\isanewline
\ \ \ \ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ i\ n{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}as{\isachardot}{\kern0pt}\ Inr\ i\ {\isacharhash}{\kern0pt}\ as{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}Inl{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ i\ n\ {\isasymLongrightarrow}\ Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ vs\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ AD\ i\ n\ arbitrary{\isacharcolon}{\kern0pt}\ vs\ rule{\isacharcolon}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ vimage{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}length{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ i\ n\ {\isasymLongrightarrow}\ length\ xs\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ AD\ i\ n\ arbitrary{\isacharcolon}{\kern0pt}\ xs\ rule{\isacharcolon}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}id{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenleft}{\kern0pt}Inr\ i\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ext{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ id{\isacharunderscore}{\kern0pt}mapD{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}id{\isacharunderscore}{\kern0pt}map\ j\ {\isacharparenleft}{\kern0pt}Inr\ i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ None\ {\isasymLongrightarrow}\ j\ {\isasymle}\ i{\isachardoublequoteclose}\ {\isachardoublequoteopen}id{\isacharunderscore}{\kern0pt}map\ j\ {\isacharparenleft}{\kern0pt}Inr\ i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Some\ x\ {\isasymLongrightarrow}\ i\ {\isacharless}{\kern0pt}\ j\ {\isasymand}\ i\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}sound{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isasymle}\ j\ {\isasymLongrightarrow}\ xs\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ i\ n\ {\isasymLongrightarrow}\isanewline
\ \ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ j\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ j{\isacharparenright}{\kern0pt}\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ n\ arbitrary{\isacharcolon}{\kern0pt}\ i\ j\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ dest{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}mapD\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ dual{\isacharunderscore}{\kern0pt}order{\isachardot}{\kern0pt}strict{\isacharunderscore}{\kern0pt}trans{\isadigit{2}}\ id{\isacharunderscore}{\kern0pt}mapD{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}Some{\isacharunderscore}{\kern0pt}eq\ sup{\isachardot}{\kern0pt}strict{\isacharunderscore}{\kern0pt}order{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ Suc{\isacharunderscore}{\kern0pt}leI\ \isacommand{apply}\isamarkupfalse%
\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}complete{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ j\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ j{\isacharparenright}{\kern0pt}\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}xs\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ j\ {\isacharparenleft}{\kern0pt}length\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ j{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ x\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ x{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Inl\ a{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}AD{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymin}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inl\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons\ a{\isacharunderscore}{\kern0pt}AD\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inl{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Inr\ b{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ b{\isacharunderscore}{\kern0pt}j{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}b\ {\isasymle}\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits\ dest{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}mapD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}b\ {\isacharequal}{\kern0pt}\ j{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ preds{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Suc\ j{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Suc\ j{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr\ True\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ dest{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}mapD\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ preds{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr\ True{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ b{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}j{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}b\ {\isacharless}{\kern0pt}\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ b{\isacharunderscore}{\kern0pt}j\ False\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ id{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}id{\isacharunderscore}{\kern0pt}map\ j\ {\isacharparenleft}{\kern0pt}Inr\ b{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Some\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ b{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}j\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ preds{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ j\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ j{\isacharparenright}{\kern0pt}\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr\ id{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ preds{\isacharbrackright}{\kern0pt}\ b{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}j\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ {\isadigit{0}}\ {\isacharparenleft}{\kern0pt}length\ xs{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}of\ {\isadigit{0}}\ {\isadigit{0}}\ xs\ AD\ {\isachardoublequoteopen}length\ xs{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}complete{\isacharbrackleft}{\kern0pt}of\ {\isadigit{0}}\ AD\ xs{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}code{\isacharbrackleft}{\kern0pt}code{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ xs\ {\isasymlongleftrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}code{\isacharbrackleft}{\kern0pt}code{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nall{\isacharunderscore}{\kern0pt}tuples\ AD\ n\ {\isacharequal}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ {\isadigit{0}}\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}set\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}length\ trans{\isacharbrackleft}{\kern0pt}OF\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}code{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ xs\ {\isacharequal}{\kern0pt}\ length\ ys\ {\isasymLongrightarrow}\ distinct\ xs\ {\isasymLongrightarrow}\ {\isasymexists}f{\isachardot}{\kern0pt}\ ys\ {\isacharequal}{\kern0pt}\ map\ f\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs\ ys\ rule{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}induct{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ x\ xs\ y\ ys{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ f\ \isakeyword{where}\ f{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ map\ f\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}y\ {\isacharhash}{\kern0pt}\ ys\ {\isacharequal}{\kern0pt}\ map\ {\isacharparenleft}{\kern0pt}f{\isacharparenleft}{\kern0pt}x\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}length\ xs\ {\isacharequal}{\kern0pt}\ length\ ys{\isachardoublequoteclose}\ {\isachardoublequoteopen}distinct\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ ys{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}f{\isachardot}{\kern0pt}\ ys\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ f\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ list{\isacharunderscore}{\kern0pt}induct{\isadigit{2}}{\isacharunderscore}{\kern0pt}rev{\isacharbrackleft}{\kern0pt}consumes\ {\isadigit{1}}{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ xs\ {\isacharequal}{\kern0pt}\ length\ ys\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}P\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isasymAnd}x\ y\ xs\ ys{\isachardot}{\kern0pt}\ P\ xs\ ys\ {\isasymLongrightarrow}\ P\ {\isacharparenleft}{\kern0pt}xs\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}x{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}ys\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}y{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ P\ xs\ ys{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ {\isachardoublequoteopen}length\ xs{\isachardoublequoteclose}\ arbitrary{\isacharcolon}{\kern0pt}\ xs\ ys{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ xs\ rule{\isacharcolon}{\kern0pt}\ rev{\isacharunderscore}{\kern0pt}cases{\isacharsemicolon}{\kern0pt}\ cases\ ys\ rule{\isacharcolon}{\kern0pt}\ rev{\isacharunderscore}{\kern0pt}cases{\isacharparenright}{\kern0pt}\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ vs\ vs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ vs{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ vs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ vs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ vs\ vs{\isacharprime}{\kern0pt}\ rule{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}induct{\isadigit{2}}{\isacharunderscore}{\kern0pt}rev{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ x\ y\ xs\ ys{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ norms{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}def\ nats{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def\ map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}app\ rremdups{\isacharunderscore}{\kern0pt}app\isanewline
\ \ \ \ \ \ \ \ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ xs\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}ys\ {\isacharequal}{\kern0pt}\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr\ norms{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ y{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}isl\ x\ {\isasymor}\ isl\ y{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}isl\ x\ {\isasymlongrightarrow}\ projl\ x\ {\isasymin}\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}isl\ y\ {\isasymlongrightarrow}\ projl\ y\ {\isasymin}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ True\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ isl{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x{\isacharprime}{\kern0pt}\ y{\isacharprime}{\kern0pt}\ \isakeyword{where}\ inr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ Inr\ x{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}y\ {\isacharequal}{\kern0pt}\ Inr\ y{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ x{\isacharsemicolon}{\kern0pt}\ cases\ y{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ xs{\isacharunderscore}{\kern0pt}ys\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}x\ {\isasymin}\ set\ xs\ {\isasymor}\ y\ {\isasymin}\ set\ ys{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}app{\isacharunderscore}{\kern0pt}Inr\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ inr\ xs{\isacharunderscore}{\kern0pt}ys\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}nth{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}ys\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ vs\ vs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ vs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharbrackleft}{\kern0pt}OF\isanewline
\ \ \ \ \ \ \ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans{\isacharbrackleft}{\kern0pt}OF\isanewline
\ \ \ \ \ \ \ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackleft}{\kern0pt}of\ AD\ vs{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ assms{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackleft}{\kern0pt}of\ AD\ vs{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharbrackright}{\kern0pt}\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqD{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ vs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ vs\ vs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackleft}{\kern0pt}of\ AD\ vs{\isacharcomma}{\kern0pt}\ unfolded\ assms{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackleft}{\kern0pt}of\ AD\ vs{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ vs{\isacharprime}{\kern0pt}\ {\isasymlongleftrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ vs\ vs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}AD{\isacharequal}{\kern0pt}AD{\isacharbrackright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqD{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}AD{\isacharequal}{\kern0pt}AD{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}AD\ {\isasymsubseteq}\ AD{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isacharprime}{\kern0pt}\ xs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isacharprime}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isacharprime}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isacharprime}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}c\ val\ set\ {\isasymRightarrow}\ nat\ list\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}c\ table{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}vals\ R\ ns\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isasymtau}{\isachardot}{\kern0pt}\ map\ {\isasymtau}\ ns{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ R{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}c\ val\ set\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}c\ table{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ R\ {\isacharequal}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemmas}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map\ {\isacharequal}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}unfolded\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isachardoublequoteopen}extends{\isacharunderscore}{\kern0pt}subst\ {\isasymsigma}\ {\isasymtau}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isachardot}{\kern0pt}\ {\isasymsigma}\ x\ {\isasymnoteq}\ None\ {\isasymlongrightarrow}\ {\isasymsigma}\ x\ {\isacharequal}{\kern0pt}\ {\isasymtau}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ ext{\isacharunderscore}{\kern0pt}tuple\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ nat\ list\ {\isasymRightarrow}\ nat\ list\ {\isasymRightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ list\ set{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}ext{\isacharunderscore}{\kern0pt}tuple\ AD\ fv{\isacharunderscore}{\kern0pt}sub\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ as\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ then\ {\isacharbraceleft}{\kern0pt}as{\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ else\ {\isacharparenleft}{\kern0pt}{\isasymlambda}fs{\isachardot}{\kern0pt}\ map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}sub\ as{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ fs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ as{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ fv{\isacharunderscore}{\kern0pt}sub\ {\isacharequal}{\kern0pt}\ length\ as\ {\isasymLongrightarrow}\isanewline
\ \ ext{\isacharunderscore}{\kern0pt}tuple\ AD\ fv{\isacharunderscore}{\kern0pt}sub\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ as\ {\isacharequal}{\kern0pt}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}fs{\isachardot}{\kern0pt}\ map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}sub\ as{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ fs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\isanewline
\ \ {\isacharparenleft}{\kern0pt}nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ as{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}of\ AD\ as{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}of{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ xs\ {\isacharequal}{\kern0pt}\ length\ ys\ {\isasymLongrightarrow}\ distinct\ xs\ {\isasymLongrightarrow}\isanewline
\ \ ys\ {\isacharequal}{\kern0pt}\ map\ {\isacharparenleft}{\kern0pt}the\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}map{\isacharunderscore}{\kern0pt}of\ {\isacharparenleft}{\kern0pt}zip\ xs\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs\ ys\ rule{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}induct{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}id{\isacharunderscore}{\kern0pt}map\ {\isadigit{0}}\ {\isacharequal}{\kern0pt}\ Map{\isachardot}{\kern0pt}empty{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ext{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}shift{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ xs\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ list{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenright}{\kern0pt}\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs\ {\isasymLongrightarrow}\isanewline
\ \ i{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}take\ n\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ n\ {\isasymle}\ length\ xs\ {\isasymLongrightarrow}\isanewline
\ \ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ i{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD\ {\isacharparenleft}{\kern0pt}drop\ n\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ drop\ n\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ i\ {\isachardoublequoteopen}id{\isacharunderscore}{\kern0pt}map\ i\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat\ {\isasymrightharpoonup}\ nat{\isachardoublequoteclose}\ AD\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ n\ rule{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ i\ AD\ x\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ preds{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenright}{\kern0pt}\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ k{\isacharunderscore}{\kern0pt}le{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isasymle}\ length\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Suc{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}take\ k\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Suc\ vimage{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ preds\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ k{\isacharunderscore}{\kern0pt}le{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Suc{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{3}}\ i\ AD\ j\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Suc\ k{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ k{\isacharunderscore}{\kern0pt}le{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}k\ {\isasymle}\ length\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Suc{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ j{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}i{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}j\ {\isasymle}\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits\ dest{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}mapD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}j\ {\isacharequal}{\kern0pt}\ i{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ id{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}id{\isacharunderscore}{\kern0pt}map\ i\ {\isacharparenleft}{\kern0pt}Inr\ j{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\ {\isachardoublequoteopen}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenleft}{\kern0pt}Inr\ j\ {\isasymmapsto}\ i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ True\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}xs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits\ dest{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}mapD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ i{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}take\ k\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Suc\ True\ inj{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ Un{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}left\ image{\isacharunderscore}{\kern0pt}insert\ inj{\isacharunderscore}{\kern0pt}Inr\ inj{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}eq\ lessThan{\isacharunderscore}{\kern0pt}Suc\ vimage{\isacharunderscore}{\kern0pt}Un{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ id{\isacharunderscore}{\kern0pt}map\ norm{\isacharunderscore}{\kern0pt}xs\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ k{\isacharunderscore}{\kern0pt}le{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Suc{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ id{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}id{\isacharunderscore}{\kern0pt}map\ i\ {\isacharparenleft}{\kern0pt}Inr\ j{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Some\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ j{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}i\ False\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}xs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenright}{\kern0pt}\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}take\ k\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ j{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}i\ False\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Suc\ inj{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}eq\ insert{\isacharunderscore}{\kern0pt}absorb{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ id{\isacharunderscore}{\kern0pt}map\ norm{\isacharunderscore}{\kern0pt}xs\ i{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ k{\isacharunderscore}{\kern0pt}le{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Suc{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}tuple\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}nat\ {\isasymtimes}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ list{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ mys\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ {\isacharparenleft}{\kern0pt}n\ {\isacharhash}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}m{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isacharhash}{\kern0pt}\ mys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}if\ m\ {\isacharless}{\kern0pt}\ n\ then\ proj{\isacharunderscore}{\kern0pt}tuple\ {\isacharparenleft}{\kern0pt}n\ {\isacharhash}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}\ mys\ else\isanewline
\ \ \ \ if\ m\ {\isacharequal}{\kern0pt}\ n\ then\ y\ {\isacharhash}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}tuple\ ns\ mys\isanewline
\ \ \ \ else\ proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}m{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isacharhash}{\kern0pt}\ mys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}idle{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ {\isacharparenleft}{\kern0pt}map\ fst\ nxs{\isacharparenright}{\kern0pt}\ nxs\ {\isacharequal}{\kern0pt}\ map\ snd\ nxs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ nxs{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}merge{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ {\isacharparenleft}{\kern0pt}map\ fst\ nxs{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ sorted{\isacharunderscore}{\kern0pt}distinct\ {\isacharparenleft}{\kern0pt}map\ fst\ mys{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ set\ {\isacharparenleft}{\kern0pt}map\ fst\ nxs{\isacharparenright}{\kern0pt}\ {\isasyminter}\ set\ {\isacharparenleft}{\kern0pt}map\ fst\ mys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ proj{\isacharunderscore}{\kern0pt}tuple\ {\isacharparenleft}{\kern0pt}map\ fst\ nxs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}merge\ nxs\ mys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ snd\ nxs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}idle\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ nxs\ mys\ rule{\isacharcolon}{\kern0pt}\ merge{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ auto{\isacharplus}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ms{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ ns\ {\isasymsubseteq}\ set\ ms{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ms\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ms{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ ns{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ ns{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}ns{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isacharparenright}{\kern0pt}\ ms{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ sd{\isacharunderscore}{\kern0pt}ns{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}filter{\isacharbrackleft}{\kern0pt}of\ id{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ disj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ ns\ {\isasyminter}\ set\ ns{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ms{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ms\ {\isacharequal}{\kern0pt}\ sort\ {\isacharparenleft}{\kern0pt}ns\ {\isacharat}{\kern0pt}\ ns{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ zip{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}zip\ ms\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ms{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ merge\ {\isacharparenleft}{\kern0pt}zip\ ns\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ sd{\isacharunderscore}{\kern0pt}ns{\isacharprime}{\kern0pt}\ disj{\isacharcomma}{\kern0pt}\ folded\ ms{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}merge\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ms{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}smt\ length{\isacharunderscore}{\kern0pt}map\ map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}merge\ map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}zip\ sd{\isacharunderscore}{\kern0pt}ns{\isacharprime}{\kern0pt}\ zip{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}snd{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ zip\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}merge\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ disj\ length{\isacharunderscore}{\kern0pt}map\ map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}zip\ map{\isacharunderscore}{\kern0pt}snd{\isacharunderscore}{\kern0pt}zip\ sd{\isacharunderscore}{\kern0pt}ns{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}length{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ms{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ ns\ {\isasymsubseteq}\ set\ ms{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ ms\ {\isacharequal}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}length\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ms\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ ns{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ ms{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}sound{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ fv{\isacharunderscore}{\kern0pt}sub\ {\isasyminter}\ set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ fv{\isacharunderscore}{\kern0pt}sub\ {\isasymunion}\ set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ {\isacharequal}{\kern0pt}\ set\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}ass\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}{\isasymsigma}\ {\isasymtau}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}\ AD\ {\isasymsigma}\ {\isasymtau}\ {\isasymLongrightarrow}\ {\isasymsigma}\ {\isasymin}\ R\ {\isasymlongleftrightarrow}\ {\isasymtau}\ {\isasymin}\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}xs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple\ AD\ fv{\isacharunderscore}{\kern0pt}sub\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ {\isacharbackquote}{\kern0pt}\ ass{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ fv{\isacharunderscore}{\kern0pt}sub\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}all\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ ass{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}xs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}all{\isacharunderscore}{\kern0pt}sort{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}all\ {\isacharequal}{\kern0pt}\ sort\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}sub\ {\isacharat}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}ass{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}xs{\isachardot}{\kern0pt}\ xs\ {\isasymin}\ ass\ {\isasymLongrightarrow}\ xs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs\ {\isasymand}\ length\ xs\ {\isacharequal}{\kern0pt}\ length\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ as\ fs\ \isakeyword{where}\ as{\isacharunderscore}{\kern0pt}fs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}as\ {\isasymin}\ ass{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}fs\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ as{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}sub\ as{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ fs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound\ len{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}ass\ assms{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}norm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymin}\ R{\isachardoublequoteclose}\ {\isachardoublequoteopen}as\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ as{\isacharunderscore}{\kern0pt}fs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}as\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}map\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isasymtau}{\isacharunderscore}{\kern0pt}R{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymtau}\ {\isasymin}\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{7}}{\isacharparenright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}{\isasymsigma}{\isacharprime}{\kern0pt}\ {\isasymequiv}\ {\isasymlambda}n{\isachardot}{\kern0pt}\ if\ n\ {\isasymin}\ set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ then\ the\ {\isacharparenleft}{\kern0pt}map{\isacharunderscore}{\kern0pt}of\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ fs{\isacharparenright}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ else\ {\isasymtau}\ n{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}n\ {\isasymin}\ set\ fv{\isacharunderscore}{\kern0pt}sub{\isachardot}{\kern0pt}\ {\isasymtau}\ n\ {\isacharequal}{\kern0pt}\ {\isasymsigma}{\isacharprime}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}S{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymsigma}{\isacharprime}{\kern0pt}\ {\isasymin}\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{7}}{\isacharparenright}{\kern0pt}\ {\isasymtau}{\isacharunderscore}{\kern0pt}R\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ length{\isacharunderscore}{\kern0pt}as{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ as\ {\isacharequal}{\kern0pt}\ length\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ as{\isacharunderscore}{\kern0pt}fs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ length{\isacharunderscore}{\kern0pt}fs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ fs\ {\isacharequal}{\kern0pt}\ length\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ as{\isacharunderscore}{\kern0pt}fs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}sub\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fs{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}of{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fs\ {\isacharequal}{\kern0pt}\ map\ {\isacharparenleft}{\kern0pt}the\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}map{\isacharunderscore}{\kern0pt}of\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ fs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}of\ length{\isacharunderscore}{\kern0pt}fs\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fs{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ length{\isacharunderscore}{\kern0pt}fs\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ fs{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}of{\isacharparenright}{\kern0pt}\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}all{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ as{\isacharunderscore}{\kern0pt}fs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ map{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}sub{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ fs{\isacharunderscore}{\kern0pt}map\ fv{\isacharunderscore}{\kern0pt}all{\isacharunderscore}{\kern0pt}sort\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}xs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}S\ vs{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}of\ fv{\isacharunderscore}{\kern0pt}all\ xs{\isacharbrackright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}map\ vs{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ proj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ fv{\isacharunderscore}{\kern0pt}sub\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}all\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}map\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}{\isasymsigma}{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ as{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ vs{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}all\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset\ assms{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI\ map{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}sub\ sup{\isacharunderscore}{\kern0pt}ge{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ fv{\isacharunderscore}{\kern0pt}sub\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}all\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ ass{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ proj\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}{\isasymsigma}{\isacharprime}{\kern0pt}\ map{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}sub\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ as{\isacharunderscore}{\kern0pt}fs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}complete{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ fv{\isacharunderscore}{\kern0pt}sub\ {\isasyminter}\ set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ fv{\isacharunderscore}{\kern0pt}sub\ {\isasymunion}\ set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ {\isacharequal}{\kern0pt}\ set\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}ass\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}{\isasymsigma}\ {\isasymtau}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}\ AD\ {\isasymsigma}\ {\isasymtau}\ {\isasymLongrightarrow}\ {\isasymsigma}\ {\isasymin}\ R\ {\isasymlongleftrightarrow}\ {\isasymtau}\ {\isasymin}\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ fv{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymin}\ R{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}xs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple\ AD\ fv{\isacharunderscore}{\kern0pt}sub\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ {\isacharbackquote}{\kern0pt}\ ass{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}all{\isacharunderscore}{\kern0pt}sort{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}all\ {\isacharequal}{\kern0pt}\ sort\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}sub\ {\isacharat}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def\ {\isacharequal}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{9}}{\isacharcomma}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}norm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ fs\ \isakeyword{where}\ {\isachardoublequoteopen}fs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ as\ \isakeyword{where}\ {\isachardoublequoteopen}as\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ nos\ \isakeyword{where}\ {\isachardoublequoteopen}nos\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}as\ {\isacharat}{\kern0pt}\ fs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ as{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}as{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ take\ {\isacharparenleft}{\kern0pt}length\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}\ nos{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ fs{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}fs{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ drop\ {\isacharparenleft}{\kern0pt}length\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}\ nos{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ length{\isacharunderscore}{\kern0pt}as{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ as{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ as{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ nos{\isacharunderscore}{\kern0pt}def\ as{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ length{\isacharunderscore}{\kern0pt}fs{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ fs{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fs{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ nos{\isacharunderscore}{\kern0pt}def\ as{\isacharunderscore}{\kern0pt}def\ fs{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}nos{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ fv{\isacharunderscore}{\kern0pt}sub\ {\isasymle}\ length\ nos{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ nos{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length\ as{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}as{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ as{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}take{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ as{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ nos{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ as{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}norm{\isacharunderscore}{\kern0pt}as{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}as{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ as{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ as{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ nos{\isacharunderscore}{\kern0pt}def\ as{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}take{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}as{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ as\ as{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ as{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}norm{\isacharunderscore}{\kern0pt}as\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ nos{\isacharunderscore}{\kern0pt}as{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}fs{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nos\ {\isacharequal}{\kern0pt}\ as{\isacharprime}{\kern0pt}\ {\isacharat}{\kern0pt}\ fs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ length{\isacharunderscore}{\kern0pt}as{\isacharprime}{\kern0pt}\ length{\isacharunderscore}{\kern0pt}fs{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ as{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ fs{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}as{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\ {\isachardoublequoteopen}fs{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}sub\ {\isacharat}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isachardoublequoteclose}\ {\isachardoublequoteopen}as{\isacharprime}{\kern0pt}\ {\isacharat}{\kern0pt}\ fs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ length{\isacharunderscore}{\kern0pt}as{\isacharprime}{\kern0pt}\ length{\isacharunderscore}{\kern0pt}fs{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}length\ fv{\isacharunderscore}{\kern0pt}sub\ {\isacharplus}{\kern0pt}\ length\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ {\isasymle}\ length\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ distinct{\isacharunderscore}{\kern0pt}append\ distinct{\isacharunderscore}{\kern0pt}card\ eq{\isacharunderscore}{\kern0pt}iff\ length{\isacharunderscore}{\kern0pt}append\ set{\isacharunderscore}{\kern0pt}append{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ nos{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ nos\ {\isasymsubseteq}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}length\ fv{\isacharunderscore}{\kern0pt}all{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}set{\isacharbrackleft}{\kern0pt}of\ AD\ {\isachardoublequoteopen}as\ {\isacharat}{\kern0pt}\ fs{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ nos{\isacharunderscore}{\kern0pt}def\ as{\isacharunderscore}{\kern0pt}def\ fs{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}fs{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ fs{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fs{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ nos{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length\ as{\isacharunderscore}{\kern0pt}def\ fs{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}nos{\isacharunderscore}{\kern0pt}idem{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ {\isadigit{0}}\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ AD\ nos\ {\isacharequal}{\kern0pt}\ nos{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}of\ AD\ nos{\isacharbrackright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ nos{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fs{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}all{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fs{\isacharprime}{\kern0pt}\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ as{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}fs{\isacharprime}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}complete{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}shift{\isacharbrackleft}{\kern0pt}OF\ norm{\isacharunderscore}{\kern0pt}nos{\isacharunderscore}{\kern0pt}idem{\isacharcomma}{\kern0pt}\ simplified{\isacharcomma}{\kern0pt}\ OF\ refl\ len{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}nos{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ folded\ as{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ fs{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}as{\isacharprime}{\kern0pt}\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples\ AD\ {\isacharparenleft}{\kern0pt}length\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ length{\isacharunderscore}{\kern0pt}as{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ nall{\isacharunderscore}{\kern0pt}tuplesI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}as{\isacharprime}{\kern0pt}\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ as{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}ass{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}as{\isacharprime}{\kern0pt}\ {\isasymin}\ ass{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ as{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}norm{\isacharunderscore}{\kern0pt}as\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ as{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}norm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}sub\ as{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ fs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ merge{\isacharunderscore}{\kern0pt}map\ as{\isacharunderscore}{\kern0pt}def\ fs{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}all{\isacharunderscore}{\kern0pt}sort{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}sort{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}sub\ {\isacharat}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}sub\ {\isacharat}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}sub\ as{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ fs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}norm\ as{\isacharunderscore}{\kern0pt}def\ fs{\isacharunderscore}{\kern0pt}def\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ merge{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset{\isacharbrackleft}{\kern0pt}OF\ equalityD{\isadigit{1}}{\isacharcomma}{\kern0pt}\ OF\ set{\isacharunderscore}{\kern0pt}sort{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackleft}{\kern0pt}of\ AD\ {\isachardoublequoteopen}as\ {\isacharat}{\kern0pt}\ fs{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ folded\ nos{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ unfolded\ nos{\isacharunderscore}{\kern0pt}as{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}fs{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ as{\isacharunderscore}{\kern0pt}def\ fs{\isacharunderscore}{\kern0pt}def\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\ map{\isacharunderscore}{\kern0pt}append{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ as{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}ass\ fs{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}all\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}def\ length{\isacharunderscore}{\kern0pt}as{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isachardoublequoteopen}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns\ ns{\isacharprime}{\kern0pt}\ X\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ ns{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ then\ X\ else\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple\ AD\ ns\ ns{\isacharprime}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Ball\ X\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns\ ns{\isacharprime}{\kern0pt}\ X\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple\ AD\ ns\ ns{\isacharprime}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}code{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}mono{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}A\ {\isasymsubseteq}\ B\ {\isasymLongrightarrow}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns\ ns{\isacharprime}{\kern0pt}\ A\ {\isasymsubseteq}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns\ ns{\isacharprime}{\kern0pt}\ B{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}correct{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ fv{\isacharunderscore}{\kern0pt}sub\ {\isasyminter}\ set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ fv{\isacharunderscore}{\kern0pt}sub\ {\isasymunion}\ set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ {\isacharequal}{\kern0pt}\ set\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}ass\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}{\isasymsigma}\ {\isasymtau}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}\ AD\ {\isasymsigma}\ {\isasymtau}\ {\isasymLongrightarrow}\ {\isasymsigma}\ {\isasymin}\ R\ {\isasymlongleftrightarrow}\ {\isasymtau}\ {\isasymin}\ R{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ fv{\isacharunderscore}{\kern0pt}sub\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ ass\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ set{\isacharunderscore}{\kern0pt}eqI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ xs\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}in{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isasymin}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ fv{\isacharunderscore}{\kern0pt}sub\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ ass{\isachardoublequoteclose}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}xs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}sound{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharbrackright}{\kern0pt}\ xs{\isacharunderscore}{\kern0pt}in\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}def\ assms{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharbrackright}{\kern0pt}\ image{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \ \ \ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ xs\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}xs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ fv{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymin}\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}xs\ {\isasymin}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ fv{\isacharunderscore}{\kern0pt}sub\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ ass{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}complete{\isacharbrackleft}{\kern0pt}OF\ assms\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}def\ assms{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharbrackright}{\kern0pt}\ image{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \ \ \ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}sound{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ fv{\isacharunderscore}{\kern0pt}sub\ {\isasyminter}\ set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ fv{\isacharunderscore}{\kern0pt}sub\ {\isasymunion}\ set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ {\isacharequal}{\kern0pt}\ set\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}ass\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}{\isasymsigma}\ {\isasymtau}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}\ AD\ {\isasymsigma}\ {\isasymtau}\ {\isasymLongrightarrow}\ {\isasymsigma}\ {\isasymin}\ R\ {\isasymlongleftrightarrow}\ {\isasymtau}\ {\isasymin}\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ xs\ {\isacharequal}{\kern0pt}\ length\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ fv{\isacharunderscore}{\kern0pt}sub\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}all\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ ass{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}xs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple\ AD\ fv{\isacharunderscore}{\kern0pt}sub\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ {\isacharbackquote}{\kern0pt}\ ass{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}all{\isacharunderscore}{\kern0pt}sort{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}all\ {\isacharequal}{\kern0pt}\ sort\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}sub\ {\isacharat}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}of\ fv{\isacharunderscore}{\kern0pt}all\ xs{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{9}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}norm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ fv{\isacharunderscore}{\kern0pt}all{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ proj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ fv{\isacharunderscore}{\kern0pt}sub\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}all\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymtau}\ {\isasymin}\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ proj\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}{\kern0pt}R{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymin}\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{7}}{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqD{\isacharbrackleft}{\kern0pt}OF\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}complete{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharcomma}{\kern0pt}{\isadigit{7}}{\isacharparenright}{\kern0pt}\ xs{\isacharunderscore}{\kern0pt}norm\ {\isasymsigma}{\isacharunderscore}{\kern0pt}R{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ assumption\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}correct{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ fv{\isacharunderscore}{\kern0pt}sub\ {\isasyminter}\ set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ fv{\isacharunderscore}{\kern0pt}sub\ {\isasymunion}\ set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ {\isacharequal}{\kern0pt}\ set\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}ass\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R\ fv{\isacharunderscore}{\kern0pt}sub{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}{\isasymsigma}\ {\isasymtau}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenright}{\kern0pt}\ AD\ {\isasymsigma}\ {\isasymtau}\ {\isasymLongrightarrow}\ {\isasymsigma}\ {\isasymin}\ R\ {\isasymlongleftrightarrow}\ {\isasymtau}\ {\isasymin}\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ xs\ {\isacharequal}{\kern0pt}\ length\ fv{\isacharunderscore}{\kern0pt}all{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}xs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple\ AD\ fv{\isacharunderscore}{\kern0pt}sub\ fv{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}comp\ {\isacharbackquote}{\kern0pt}\ ass{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ fv{\isacharunderscore}{\kern0pt}sub\ {\isacharparenleft}{\kern0pt}zip\ fv{\isacharunderscore}{\kern0pt}all\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ ass{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}sound{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharcomma}{\kern0pt}{\isadigit{7}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ fo{\isacharunderscore}{\kern0pt}term{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}nat\ {\isasymrightharpoonup}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}nat\ {\isasymrightharpoonup}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ option{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isasymsigma}\ {\isacharequal}{\kern0pt}\ Some\ {\isasymsigma}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms\ {\isacharparenleft}{\kern0pt}v\ {\isacharhash}{\kern0pt}\ vs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}Const\ c{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharhash}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}\ {\isasymsigma}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}if\ v\ {\isacharequal}{\kern0pt}\ Inl\ c{\isacharprime}{\kern0pt}\ then\ unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms\ vs\ ts\ {\isasymsigma}\ else\ None{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms\ {\isacharparenleft}{\kern0pt}v\ {\isacharhash}{\kern0pt}\ vs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}Var\ n{\isacharparenright}{\kern0pt}\ {\isacharhash}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}\ {\isasymsigma}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}case\ {\isasymsigma}\ n\ of\ Some\ x\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}if\ v\ {\isacharequal}{\kern0pt}\ x\ then\ unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms\ vs\ ts\ {\isasymsigma}\ else\ None{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharbar}{\kern0pt}\ None\ {\isasymRightarrow}\ unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms\ vs\ ts\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ Some\ v{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}extends{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms\ vs\ ts\ {\isasymsigma}\ {\isacharequal}{\kern0pt}\ Some\ {\isasymsigma}{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\ extends{\isacharunderscore}{\kern0pt}subst\ {\isasymsigma}\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ extends{\isacharunderscore}{\kern0pt}subst{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ vs\ ts\ {\isasymsigma}\ arbitrary{\isacharcolon}{\kern0pt}\ {\isasymsigma}{\isacharprime}{\kern0pt}\ rule{\isacharcolon}{\kern0pt}\ unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}force\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}sound{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms\ vs\ ts\ {\isasymsigma}\ {\isacharequal}{\kern0pt}\ Some\ {\isasymsigma}{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}the\ {\isasymcirc}\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymodot}e\ ts\ {\isacharequal}{\kern0pt}\ vs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}extends\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ vs\ ts\ {\isasymsigma}\ arbitrary{\isacharcolon}{\kern0pt}\ {\isasymsigma}{\isacharprime}{\kern0pt}\ rule{\isacharcolon}{\kern0pt}\ unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}force\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ extends{\isacharunderscore}{\kern0pt}subst{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}complete{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymsigma}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isasymodot}e\ ts\ {\isacharequal}{\kern0pt}\ vs\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymAnd}n{\isachardot}{\kern0pt}\ {\isasymsigma}\ n\ {\isasymnoteq}\ None\ {\isasymLongrightarrow}\ {\isasymsigma}\ n\ {\isacharequal}{\kern0pt}\ Some\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ {\isasymexists}{\isasymsigma}{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms\ vs\ ts\ {\isasymsigma}\ {\isacharequal}{\kern0pt}\ Some\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ vs\ ts\ {\isasymsigma}\ rule{\isacharcolon}{\kern0pt}\ unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}force\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ extends{\isacharunderscore}{\kern0pt}subst{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}table\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ fo{\isacharunderscore}{\kern0pt}term\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ table\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ table{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}table\ ts\ X\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}let\ fvs\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts\ in\isanewline
\ \ \ \ {\isasymUnion}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}vs{\isachardot}{\kern0pt}\ case\ unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms\ vs\ ts\ Map{\isachardot}{\kern0pt}empty\ of\ Some\ {\isasymsigma}\ {\isasymRightarrow}\isanewline
\ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}the\ {\isasymcirc}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ fvs{\isacharbraceright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isasymRightarrow}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}table{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ X\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ table{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}table\ ts\ X\ {\isacharequal}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ {\isasymsigma}\ {\isasymodot}e\ ts\ {\isasymin}\ X{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ set{\isacharunderscore}{\kern0pt}eqI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ eval{\isacharunderscore}{\kern0pt}table\ ts\ X{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ as\ {\isasymsigma}\ \isakeyword{where}\ as{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}as\ {\isasymin}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms\ as\ ts\ Map{\isachardot}{\kern0pt}empty\ {\isacharequal}{\kern0pt}\ Some\ {\isasymsigma}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ map\ {\isacharparenleft}{\kern0pt}the\ {\isasymcirc}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}table{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}the\ {\isasymcirc}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ {\isasymodot}e\ ts\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}OF\ as{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ as{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ as{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ {\isasymsigma}\ {\isasymodot}e\ ts\ {\isasymin}\ X{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ vs\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ list{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ {\isasymsigma}\ {\isasymodot}e\ ts\ {\isasymin}\ X{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymodot}e\ ts\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymodot}e\ ts{\isacharparenright}{\kern0pt}\ ts\ Map{\isachardot}{\kern0pt}empty\ {\isacharequal}{\kern0pt}\ Some\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}complete{\isacharbrackleft}{\kern0pt}OF\ refl{\isacharcomma}{\kern0pt}\ of\ Map{\isachardot}{\kern0pt}empty\ {\isasymsigma}\ ts{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}the\ {\isasymcirc}\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymodot}e\ ts\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymodot}e\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ unify{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}OF\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ map\ {\isacharparenleft}{\kern0pt}the\ {\isasymcirc}\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}list\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ eval{\isacharunderscore}{\kern0pt}table\ ts\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}table{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}nat\ {\isasymrightharpoonup}\ {\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ list\ set{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ {\isacharparenleft}{\kern0pt}Inl\ x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}xs{\isachardot}{\kern0pt}\ Inl\ x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs{\isachardoublequoteclose}\isanewline
{\isacharbar}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ {\isacharparenleft}{\kern0pt}Inr\ n\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ m\ n\ of\ None\ {\isasymRightarrow}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}xs{\isachardot}{\kern0pt}\ Inl\ x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\isanewline
\ \ \ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ Some\ {\isacharparenleft}{\kern0pt}Inl\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ AD{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymlambda}xs{\isachardot}{\kern0pt}\ Inr\ i\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ Some\ {\isacharparenleft}{\kern0pt}Inr\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD\ xs\isanewline
\ \ {\isacharbar}{\kern0pt}\ Some\ v\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}xs{\isachardot}{\kern0pt}\ v\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}length{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs\ {\isasymLongrightarrow}\ length\ xs\ {\isacharequal}{\kern0pt}\ length\ ys{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ i\ m\ AD\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ ys\ rule{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}sound{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs\ {\isasymLongrightarrow}\isanewline
\ \ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ j\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ j{\isacharparenright}{\kern0pt}\ X\ xs\ {\isacharequal}{\kern0pt}\ xs\ {\isasymLongrightarrow}\ X\ {\isasyminter}\ AD\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ X\ {\isasyminter}\ Y\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ Y\ {\isasyminter}\ AD\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ inj{\isacharunderscore}{\kern0pt}on\ m\ {\isacharparenleft}{\kern0pt}dom\ m{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ dom\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}j{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ ran\ m\ {\isasymsubseteq}\ Inl\ {\isacharbackquote}{\kern0pt}\ Y\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ i\ {\isasymle}\ j\ {\isasymLongrightarrow}\isanewline
\ \ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y\ {\isasymunion}\ AD{\isacharparenright}{\kern0pt}\ ys\ {\isacharequal}{\kern0pt}\ ys\ {\isasymand}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isasymexists}m{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on\ m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dom\ m{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}n\ v{\isachardot}{\kern0pt}\ m\ n\ {\isacharequal}{\kern0pt}\ Some\ v\ {\isasymlongrightarrow}\ m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Inr\ n{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Some\ v{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isasymforall}{\isacharparenleft}{\kern0pt}x{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ xs\ ys{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ case\ x\ of\ Inl\ x{\isacharprime}{\kern0pt}\ {\isasymRightarrow}\isanewline
\ \ \ \ \ \ if\ x{\isacharprime}{\kern0pt}\ {\isasymin}\ X\ then\ x\ {\isacharequal}{\kern0pt}\ y\ else\ m{\isacharprime}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ Some\ y\ {\isasymand}\ {\isacharparenleft}{\kern0pt}case\ y\ of\ Inl\ z\ {\isasymRightarrow}\ z\ {\isasymnotin}\ X\ {\isacharbar}{\kern0pt}\ Inr\ x\ {\isasymRightarrow}\ True{\isacharparenright}{\kern0pt}\isanewline
\ \ {\isacharbar}{\kern0pt}\ Inr\ n\ {\isasymRightarrow}\ m{\isacharprime}{\kern0pt}\ x\ {\isacharequal}{\kern0pt}\ Some\ y\ {\isasymand}\ {\isacharparenleft}{\kern0pt}case\ y\ of\ Inl\ z\ {\isasymRightarrow}\ z\ {\isasymnotin}\ X\ {\isacharbar}{\kern0pt}\ Inr\ x\ {\isasymRightarrow}\ True{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ i\ m\ AD\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ Y\ j\ ys\ rule{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ i\ m\ AD{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ dom{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}case{\isacharunderscore}{\kern0pt}sum\ Map{\isachardot}{\kern0pt}empty\ m{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ i\ m\ AD\ x\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ zs\ \isakeyword{where}\ ys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ Inl\ x\ {\isacharhash}{\kern0pt}\ zs{\isachardoublequoteclose}\ {\isachardoublequoteopen}zs\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ preds{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ j\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ j{\isacharparenright}{\kern0pt}\ X\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ preds{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharcomma}{\kern0pt}{\isadigit{7}}{\isacharcomma}{\kern0pt}{\isadigit{8}}{\isacharcomma}{\kern0pt}{\isadigit{9}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ preds{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{3}}\ i\ m\ AD\ n\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}m\ n{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ v\ zs\ \isakeyword{where}\ ys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ v\ {\isacharhash}{\kern0pt}\ zs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ None{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ n{\isacharunderscore}{\kern0pt}ge{\isacharunderscore}{\kern0pt}j{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}j\ {\isasymle}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{9}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ None\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ domIff\ leI\ lessThan{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Inl\ x{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ zs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}zs\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isasymmapsto}\ Inl\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ None\ ys{\isacharunderscore}{\kern0pt}def\ Inl{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ preds{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Suc\ j{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Suc\ j{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}X\ {\isasyminter}\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}X\ {\isasyminter}\ {\isacharparenleft}{\kern0pt}Y\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}Y\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}dom\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isasymmapsto}\ Inl\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ j{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}ran\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isasymmapsto}\ Inl\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ Inl\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Y\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}i\ {\isasymle}\ Suc\ j{\isachardoublequoteclose}\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharcomma}{\kern0pt}{\isadigit{7}}{\isacharcomma}{\kern0pt}{\isadigit{8}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ n{\isacharunderscore}{\kern0pt}ge{\isacharunderscore}{\kern0pt}j\ zs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ ran{\isacharunderscore}{\kern0pt}def\ dest{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}mapD\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ inj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isasymmapsto}\ Inl\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isasymmapsto}\ Inl\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharcomma}{\kern0pt}{\isadigit{9}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ preds{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\ zs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ dom{\isacharunderscore}{\kern0pt}def\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ sets{\isacharunderscore}{\kern0pt}unfold{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}Y\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ X\ {\isasymunion}\ Y\ {\isasymunion}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ zs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{note}\isamarkupfalse%
\ IH\ {\isacharequal}{\kern0pt}\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ None\ zs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ preds{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ inj\ preds{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharcomma}{\kern0pt}{\isadigit{7}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ unfolded\ sets{\isacharunderscore}{\kern0pt}unfold{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}ys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y\ {\isasymunion}\ AD{\isacharparenright}{\kern0pt}\ ys\ {\isacharequal}{\kern0pt}\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ conjunct{\isadigit{1}}{\isacharbrackleft}{\kern0pt}OF\ IH{\isacharbrackright}{\kern0pt}\ zs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ Inl\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}ys\ conjunct{\isadigit{2}}{\isacharbrackleft}{\kern0pt}OF\ IH{\isacharbrackright}{\kern0pt}\ None\ zs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ safe\isanewline
\ \ \ \ \ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ m{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inl\ dom{\isacharunderscore}{\kern0pt}def\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ m{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ option{\isachardot}{\kern0pt}distinct{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ split{\isacharcolon}{\kern0pt}\ prod{\isachardot}{\kern0pt}splits\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Inr\ k{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ zs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}zs\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isasymmapsto}\ Inr\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isacharequal}{\kern0pt}\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ None\ ys{\isacharunderscore}{\kern0pt}def\ Inr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ preds{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}dom\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isasymmapsto}\ Inr\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}ran\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isasymmapsto}\ Inr\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ Inl\ {\isacharbackquote}{\kern0pt}\ Y\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}Suc\ i\ {\isasymle}\ Suc\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ n{\isacharunderscore}{\kern0pt}ge{\isacharunderscore}{\kern0pt}j\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ ran{\isacharunderscore}{\kern0pt}def\ dest{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}mapD\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ inj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isasymmapsto}\ Inr\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isasymmapsto}\ Inr\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{9}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ dom{\isacharunderscore}{\kern0pt}def\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{note}\isamarkupfalse%
\ IH\ {\isacharequal}{\kern0pt}\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ None\ zs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ preds{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharcomma}{\kern0pt}{\isadigit{7}}{\isacharcomma}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\ inj\ preds{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}ys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y\ {\isasymunion}\ AD{\isacharparenright}{\kern0pt}\ ys\ {\isacharequal}{\kern0pt}\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ conjunct{\isadigit{1}}{\isacharbrackleft}{\kern0pt}OF\ IH{\isacharbrackright}{\kern0pt}\ zs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ Inr\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ dest{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}mapD\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}ys\ conjunct{\isadigit{2}}{\isacharbrackleft}{\kern0pt}OF\ IH{\isacharbrackright}{\kern0pt}\ None\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ zs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ safe\isanewline
\ \ \ \ \ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ m{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr\ dom{\isacharunderscore}{\kern0pt}def\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ m{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ option{\isachardot}{\kern0pt}distinct{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ split{\isacharcolon}{\kern0pt}\ prod{\isachardot}{\kern0pt}splits\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ v{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ zs\ \isakeyword{where}\ ys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ v\ {\isacharhash}{\kern0pt}\ zs{\isachardoublequoteclose}\ {\isachardoublequoteopen}zs\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ preds{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ j\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ j{\isacharparenright}{\kern0pt}\ X\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}n\ {\isacharless}{\kern0pt}\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{8}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ Some\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ dom{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ IH\ {\isacharequal}{\kern0pt}\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ Some\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ preds{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharcomma}{\kern0pt}{\isadigit{7}}{\isacharcomma}{\kern0pt}{\isadigit{8}}{\isacharcomma}{\kern0pt}{\isadigit{9}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}ys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y\ {\isasymunion}\ AD{\isacharparenright}{\kern0pt}\ ys\ {\isacharequal}{\kern0pt}\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ conjunct{\isadigit{1}}{\isacharbrackleft}{\kern0pt}OF\ IH{\isacharbrackright}{\kern0pt}\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ Some\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ ran{\isacharunderscore}{\kern0pt}def\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}case\ v\ of\ Inl\ z\ {\isasymRightarrow}\ z\ {\isasymnotin}\ X\ {\isacharbar}{\kern0pt}\ Inr\ x\ {\isasymRightarrow}\ True{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{7}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ Some\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ran{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}ys\ conjunct{\isadigit{2}}{\isacharbrackleft}{\kern0pt}OF\ IH{\isacharbrackright}{\kern0pt}\ Some\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ safe\isanewline
\ \ \ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ m{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ m{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}complete{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ xs\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ list{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ j\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ j{\isacharparenright}{\kern0pt}\ X\ xs\ {\isacharequal}{\kern0pt}\ xs\ {\isasymLongrightarrow}\isanewline
\ \ X\ {\isasyminter}\ AD\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ X\ {\isasyminter}\ Y\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ Y\ {\isasyminter}\ AD\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ inj{\isacharunderscore}{\kern0pt}on\ m\ {\isacharparenleft}{\kern0pt}dom\ m{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ dom\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}j{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ ran\ m\ {\isacharequal}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ Y\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ i\ {\isasymle}\ j\ {\isasymLongrightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isasymAnd}n\ b{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Inr\ n{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ xs\ ys{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ case\ m\ n\ of\ Some\ v\ {\isasymRightarrow}\ v\ {\isacharequal}{\kern0pt}\ b\ {\isacharbar}{\kern0pt}\ None\ {\isasymRightarrow}\ b\ {\isasymnotin}\ ran\ m{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y\ {\isasymunion}\ AD{\isacharparenright}{\kern0pt}\ ys\ {\isacharequal}{\kern0pt}\ ys\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ xs\ ys\ {\isasymLongrightarrow}\isanewline
\ \ ys\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ i\ m\ AD\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ j\ {\isachardoublequoteopen}id{\isacharunderscore}{\kern0pt}map\ j\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat\ {\isasymRightarrow}\ nat\ option{\isachardoublequoteclose}\ X\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ m\ i\ ys\ AD\ Y\isanewline
\ \ \ \ rule{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec{\isachardot}{\kern0pt}induct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{2}}\ j\ X\ x\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}X{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ j\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ j{\isacharparenright}{\kern0pt}\ X\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ z\ zs\ \isakeyword{where}\ ys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ Inl\ z\ {\isacharhash}{\kern0pt}\ zs{\isachardoublequoteclose}\ {\isachardoublequoteopen}z\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ x{\isacharunderscore}{\kern0pt}X{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ ys{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}zs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y\ {\isasymunion}\ AD{\isacharparenright}{\kern0pt}\ zs\ {\isacharequal}{\kern0pt}\ zs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ x{\isacharunderscore}{\kern0pt}X{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ xs\ zs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ x{\isacharunderscore}{\kern0pt}X\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharcomma}{\kern0pt}{\isadigit{7}}{\isacharcomma}{\kern0pt}{\isadigit{8}}{\isacharcomma}{\kern0pt}{\isadigit{9}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ norm{\isacharunderscore}{\kern0pt}zs\ ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackright}{\kern0pt}\ {\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}{\isadigit{3}}\ j\ X\ n\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ z\ zs\ \isakeyword{where}\ ys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ z\ {\isacharhash}{\kern0pt}\ zs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ ys{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}j\ {\isasymle}\ n{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ n{\isacharunderscore}{\kern0pt}j{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits\ dest{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}mapD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ id{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}id{\isacharunderscore}{\kern0pt}map\ j\ {\isacharparenleft}{\kern0pt}Inr\ n{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\ {\isachardoublequoteopen}id{\isacharunderscore}{\kern0pt}map\ j{\isacharparenleft}{\kern0pt}Inr\ n\ {\isasymmapsto}\ j{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Suc\ j{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ n{\isacharunderscore}{\kern0pt}j\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}xs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Suc\ j{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Suc\ j{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ id{\isacharunderscore}{\kern0pt}map{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ None{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ n\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ dom{\isacharunderscore}{\kern0pt}def\ n{\isacharunderscore}{\kern0pt}j{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ z{\isacharunderscore}{\kern0pt}out{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isasymnotin}\ Inl\ {\isacharbackquote}{\kern0pt}\ Y\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ None\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{9}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ z{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Inl\ a{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}in{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymin}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ z{\isacharunderscore}{\kern0pt}out\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ Inl\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}zs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y\ {\isasymunion}\ AD{\isacharparenright}{\kern0pt}\ zs\ {\isacharequal}{\kern0pt}\ zs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ a{\isacharunderscore}{\kern0pt}in\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ Inl{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ preds{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isasyminter}\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}X\ {\isasyminter}\ {\isacharparenleft}{\kern0pt}Y\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}Y\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ a{\isacharunderscore}{\kern0pt}in\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ inj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ Some\ {\isacharparenleft}{\kern0pt}Inl\ a{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dom\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ Some\ {\isacharparenleft}{\kern0pt}Inl\ a{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharcomma}{\kern0pt}{\isadigit{7}}{\isacharcomma}{\kern0pt}{\isadigit{9}}{\isacharparenright}{\kern0pt}\ None\ a{\isacharunderscore}{\kern0pt}in\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ dom{\isacharunderscore}{\kern0pt}def\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ preds{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}dom\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isasymmapsto}\ Inl\ a{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ j{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}ran\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isasymmapsto}\ Inl\ a{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}Y\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isasymle}\ Suc\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharcomma}{\kern0pt}{\isadigit{8}}{\isacharcomma}{\kern0pt}{\isadigit{9}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ None\ less{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}eq\ a{\isacharunderscore}{\kern0pt}in\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ n{\isacharunderscore}{\kern0pt}j\ dom{\isacharunderscore}{\kern0pt}def\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ Un{\isacharunderscore}{\kern0pt}iff\ image{\isacharunderscore}{\kern0pt}eqI\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\ option{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\ domIff\ image{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}iff\ lessThan{\isacharunderscore}{\kern0pt}iff\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\ sup{\isacharunderscore}{\kern0pt}ge{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}unfold{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}Y\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ X\ {\isasymunion}\ Y\ {\isasymunion}\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}Y\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Y\ {\isasymunion}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}in\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ xs\ zs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ Inl\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}zs\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}m{\isacharparenleft}{\kern0pt}n\ {\isasymmapsto}\ Inl\ a{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}a{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ id{\isacharunderscore}{\kern0pt}map\ norm{\isacharunderscore}{\kern0pt}xs\ preds\ inj\ preds{\isacharprime}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ norm{\isacharunderscore}{\kern0pt}zs\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{9}}{\isacharparenright}{\kern0pt}\ preds{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ a{\isacharunderscore}{\kern0pt}unfold\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ None\ Inl\ ys{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Un{\isacharunderscore}{\kern0pt}iff\ image{\isacharunderscore}{\kern0pt}eqI\ option{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ image{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}iff\ lessThan{\isacharunderscore}{\kern0pt}iff\ option{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ sup{\isacharunderscore}{\kern0pt}ge{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}in\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ Inl\ None{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Inr\ b{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ i{\isacharunderscore}{\kern0pt}b{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isacharequal}{\kern0pt}\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ z{\isacharunderscore}{\kern0pt}out\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ Inr\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits\ dest{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}mapD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}zs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y\ {\isasymunion}\ AD{\isacharparenright}{\kern0pt}\ zs\ {\isacharequal}{\kern0pt}\ zs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ Inr\ i{\isacharunderscore}{\kern0pt}b\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits\ dest{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}mapD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ xs\ zs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{define}\isamarkupfalse%
\ m{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}m{\isacharprime}{\kern0pt}\ {\isasymequiv}\ m{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ Some\ {\isacharparenleft}{\kern0pt}Inr\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ preds{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ m{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}dom\ m{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}dom\ m{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ j{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}Suc\ i\ {\isasymle}\ Suc\ j{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{7}}{\isacharcomma}{\kern0pt}{\isadigit{8}}{\isacharcomma}{\kern0pt}{\isadigit{9}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ m{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ n{\isacharunderscore}{\kern0pt}j\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ dom{\isacharunderscore}{\kern0pt}def\ ran{\isacharunderscore}{\kern0pt}def\ image{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\ domI\ lessThan{\isacharunderscore}{\kern0pt}iff\ less{\isacharunderscore}{\kern0pt}SucI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ ran{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ran\ m{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ Y\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{9}}{\isacharparenright}{\kern0pt}\ None\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ m{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}zs\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ m{\isacharprime}{\kern0pt}\ AD\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ id{\isacharunderscore}{\kern0pt}map\ norm{\isacharunderscore}{\kern0pt}xs\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ preds{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ ran\ preds{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ norm{\isacharunderscore}{\kern0pt}zs\ ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{9}}{\isacharparenright}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ Inr\ i{\isacharunderscore}{\kern0pt}b\ m{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ran{\isacharbrackleft}{\kern0pt}unfolded\ m{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ i{\isacharunderscore}{\kern0pt}b{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Un{\isacharunderscore}{\kern0pt}upper{\isadigit{1}}\ image{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}iff\ option{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ UnI{\isadigit{1}}\ image{\isacharunderscore}{\kern0pt}eqI\ insert{\isacharunderscore}{\kern0pt}iff\ lessThan{\isacharunderscore}{\kern0pt}Suc\ lessThan{\isacharunderscore}{\kern0pt}iff\ option{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\ sum{\isachardot}{\kern0pt}inject{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ sup{\isacharunderscore}{\kern0pt}commute{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ Inr\ None\ m{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ i{\isacharunderscore}{\kern0pt}b{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ id{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}id{\isacharunderscore}{\kern0pt}map\ j\ {\isacharparenleft}{\kern0pt}Inr\ n{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Some\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}xs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ j\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ j{\isacharparenright}{\kern0pt}\ X\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ id{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ Some{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}m\ n\ {\isacharequal}{\kern0pt}\ Some\ z{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ False\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ys{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}mono{\isacharunderscore}{\kern0pt}tags{\isacharparenright}{\kern0pt}\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\ domD\ insert{\isacharunderscore}{\kern0pt}iff\ leI\ lessThan{\isacharunderscore}{\kern0pt}iff\ list{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ option{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\ zip{\isacharunderscore}{\kern0pt}Cons{\isacharunderscore}{\kern0pt}Cons{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ z{\isacharunderscore}{\kern0pt}in{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isasymin}\ Inl\ {\isacharbackquote}{\kern0pt}\ Y\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{9}}{\isacharparenright}{\kern0pt}\ Some\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ xs\ zs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ys{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ z{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Inl\ a{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}in{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymin}\ Y\ {\isasymunion}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ Inl\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}zs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y\ {\isasymunion}\ AD{\isacharparenright}{\kern0pt}\ zs\ {\isacharequal}{\kern0pt}\ zs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ a{\isacharunderscore}{\kern0pt}in\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ Inl{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ id{\isacharunderscore}{\kern0pt}map\ norm{\isacharunderscore}{\kern0pt}xs\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharcomma}{\kern0pt}{\isadigit{7}}{\isacharcomma}{\kern0pt}{\isadigit{8}}{\isacharcomma}{\kern0pt}{\isadigit{9}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ norm{\isacharunderscore}{\kern0pt}zs\ ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackright}{\kern0pt}\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ a{\isacharunderscore}{\kern0pt}in\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ Inl\ Some\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Inr\ b{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ b{\isacharunderscore}{\kern0pt}lt{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}b\ {\isacharless}{\kern0pt}\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ z{\isacharunderscore}{\kern0pt}in\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}zs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rec\ i\ {\isacharparenleft}{\kern0pt}id{\isacharunderscore}{\kern0pt}map\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y\ {\isasymunion}\ AD{\isacharparenright}{\kern0pt}\ zs\ {\isacharequal}{\kern0pt}\ zs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ b{\isacharunderscore}{\kern0pt}lt\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ Inr\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ id{\isacharunderscore}{\kern0pt}map\ norm{\isacharunderscore}{\kern0pt}xs\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharcomma}{\kern0pt}{\isadigit{7}}{\isacharcomma}{\kern0pt}{\isadigit{8}}{\isacharcomma}{\kern0pt}{\isadigit{9}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ norm{\isacharunderscore}{\kern0pt}zs\ ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackright}{\kern0pt}\ {\isadigit{3}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def\ Inr\ Some{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ list\ set{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ AD\ xs\ {\isacharequal}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec\ {\isadigit{0}}\ Map{\isachardot}{\kern0pt}empty\ AD\ xs{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}sound{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ys\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ Y\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ X\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}X\ {\isasyminter}\ Y\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ ys\ {\isasymand}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ xs\ ys{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ unfolded\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ folded\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}empty{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ Int{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}right\ Int{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}left{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ of\ {\isacharunderscore}{\kern0pt}\ X{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}code{\isacharbrackleft}{\kern0pt}unfolded\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ folded\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}empty{\isacharcomma}{\kern0pt}\ of\ {\isachardoublequoteopen}X\ {\isasymunion}\ Y{\isachardoublequoteclose}\ ys{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}complete{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}X\ {\isasyminter}\ Y\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ X\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ ys{\isachardoublequoteclose}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ xs\ ys{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}ys\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ Y\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}complete{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ unfolded\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ folded\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}empty{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ Int{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}right\ Int{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}left\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ order{\isachardot}{\kern0pt}refl\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ of\ Map{\isachardot}{\kern0pt}empty{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}code{\isacharbrackleft}{\kern0pt}unfolded\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ folded\ id{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}empty{\isacharcomma}{\kern0pt}\ of\ {\isachardoublequoteopen}X\ {\isasymunion}\ Y{\isachardoublequoteclose}\ ys{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ X\ xs\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ xs\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}xs{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}complete{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}X{\isacharequal}{\kern0pt}X\ \isakeyword{and}\ {\isacharquery}{\kern0pt}Y{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}{\kern0pt}xs{\isacharequal}{\kern0pt}xs\ \isakeyword{and}\ {\isacharquery}{\kern0pt}ys{\isacharequal}{\kern0pt}xs{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}X{\isacharequal}{\kern0pt}X\ \isakeyword{and}\ {\isacharquery}{\kern0pt}Y{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}{\kern0pt}xs{\isacharequal}{\kern0pt}xs{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}refl\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}correct{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}AD{\isacharprime}{\kern0pt}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isachardoublequoteclose}\isanewline
\ \ {\isachardoublequoteopen}{\isasymAnd}{\isasymsigma}\ {\isasymtau}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}set\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ ns{\isacharparenright}{\kern0pt}\ AD{\isacharprime}{\kern0pt}\ {\isasymsigma}\ {\isasymtau}\ {\isasymLongrightarrow}\ {\isasymsigma}\ {\isasymin}\ R\ {\isasymlongleftrightarrow}\ {\isasymtau}\ {\isasymin}\ R{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymUnion}{\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ AD{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isacharprime}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R\ ns{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R\ ns{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ set{\isacharunderscore}{\kern0pt}eqI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ AD{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isacharprime}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R\ ns{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ AD{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymin}\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ vs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ vs{\isachardoublequoteclose}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ vs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}OF\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ Diff{\isacharunderscore}{\kern0pt}partition\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ ns{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}of\ ns\ vs{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ vs{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R\ ns{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}OF\ vs{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ iffD{\isadigit{1}}{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ OF\ iffD{\isadigit{2}}{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans{\isacharbrackleft}{\kern0pt}OF\isanewline
\ \ \ \ \ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackleft}{\kern0pt}of\ AD{\isacharprime}{\kern0pt}\ {\isachardoublequoteopen}map\ {\isasymsigma}\ ns{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ vs{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ unfolded\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R\ ns{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymin}\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ xs\ \isakeyword{where}\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isacharprime}{\kern0pt}\ vs{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ preds{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}AD{\isacharprime}{\kern0pt}\ {\isasyminter}\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ AD{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD{\isacharprime}{\kern0pt}\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ {\isacharparenleft}{\kern0pt}AD{\isacharprime}{\kern0pt}\ {\isasymunion}\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ AD{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ vs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound\ Diff{\isacharunderscore}{\kern0pt}partition\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ xs{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ ns{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}ns{\isachardoublequoteclose}\ vs{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ AD{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}complete{\isacharbrackleft}{\kern0pt}OF\ preds{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ xs{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ AD{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isacharprime}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R\ ns{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}def\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ iffD{\isadigit{1}}{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ iffD{\isadigit{2}}{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link\isanewline
\ \ \ \ \ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackleft}{\kern0pt}of\ AD\ {\isachardoublequoteopen}map\ {\isasymsigma}\ ns{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ folded\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ unfolded\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}correct{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}AD{\isacharprime}{\kern0pt}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}{\isasymsigma}\ {\isasymtau}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD{\isacharprime}{\kern0pt}\ {\isasymsigma}\ {\isasymtau}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ {\isasymsigma}\ {\isasymin}\ R\ {\isasymlongleftrightarrow}\ {\isasymtau}\ {\isasymin}\ R{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymUnion}{\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ AD{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isacharprime}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ R{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ R{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}correct{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list{\isacharcomma}{\kern0pt}\ OF\ assms{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD\ X\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ Set{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty\ AD\ then\ X\ else\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ AD\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Ball\ X\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD\ X\ {\isacharequal}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ AD\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ Set{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}empty{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Ball{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Ball\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemmas}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eq\ {\isacharequal}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}OF\ Ball{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharbrackright}{\kern0pt}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}pred\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ fo{\isacharunderscore}{\kern0pt}term{\isacharparenright}{\kern0pt}\ list\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ table\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}pred\ ts\ X\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}let\ AD\ {\isacharequal}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}map\ set{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ in\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}table\ ts\ {\isacharparenleft}{\kern0pt}map\ Inl\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}bool\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}bool\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}c{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}bool\ b\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ b\ then\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ else\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}eq\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ fo{\isacharunderscore}{\kern0pt}term\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ fo{\isacharunderscore}{\kern0pt}term\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}eq\ t\ t{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ t\ of\ Var\ n\ {\isasymRightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}case\ t{\isacharprime}{\kern0pt}\ of\ Var\ n{\isacharprime}{\kern0pt}\ {\isasymRightarrow}\isanewline
\ \ \ \ if\ n\ {\isacharequal}{\kern0pt}\ n{\isacharprime}{\kern0pt}\ then\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}Inr\ {\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ else\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isadigit{2}}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}Inr\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ Inr\ {\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharbar}{\kern0pt}\ Const\ c{\isacharprime}{\kern0pt}\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}c{\isacharprime}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}Inl\ c{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ {\isacharbar}{\kern0pt}\ Const\ c\ {\isasymRightarrow}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}case\ t{\isacharprime}{\kern0pt}\ of\ Var\ n{\isacharprime}{\kern0pt}\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}c{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}Inl\ c{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharbar}{\kern0pt}\ Const\ c{\isacharprime}{\kern0pt}\ {\isasymRightarrow}\ if\ c\ {\isacharequal}{\kern0pt}\ c{\isacharprime}{\kern0pt}\ then\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}c{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ else\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}c{\isacharcomma}{\kern0pt}\ c{\isacharprime}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}neg\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}neg\ ns\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ {\isacharunderscore}{\kern0pt}{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ length\ ns{\isacharcomma}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples\ AD\ {\isacharparenleft}{\kern0pt}length\ ns{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple\ AD\ ns{\isasymphi}\ ns{\isasympsi}\ xs\ ys\ {\isacharequal}{\kern0pt}\isanewline
\ \ {\isacharparenleft}{\kern0pt}let\ cxs\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasympsi}\ {\isasymand}\ isl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ nxs\ {\isacharequal}{\kern0pt}\ map\ fst\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasympsi}\ {\isasymand}\ {\isasymnot}isl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ cys\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}\ {\isasymand}\ isl\ y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ nys\ {\isacharequal}{\kern0pt}\ map\ fst\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}\ {\isasymand}\ {\isasymnot}isl\ y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ in\isanewline
\ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ nys\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasyminter}\isanewline
\ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ nxs\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ X{\isasymphi}\ ns{\isasympsi}\ X{\isasympsi}\ {\isacharequal}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}xs{\isachardot}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple\ AD\ ns{\isasymphi}\ ns{\isasympsi}\ xs\ {\isacharbackquote}{\kern0pt}\ X{\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ X{\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isachardoublequoteopen}idx{\isacharunderscore}{\kern0pt}join\ AD\ ns\ ns{\isasymphi}\ X{\isasymphi}\ ns{\isasympsi}\ X{\isasympsi}\ {\isacharequal}{\kern0pt}\isanewline
\ \ {\isacharparenleft}{\kern0pt}let\ idx{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ cluster\ {\isacharparenleft}{\kern0pt}Some\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}xs{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isasymphi}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ idx{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ cluster\ {\isacharparenleft}{\kern0pt}Some\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}ys{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isasympsi}\ in\isanewline
\ \ set{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}idx\ {\isacharparenleft}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}join\ {\isacharparenleft}{\kern0pt}{\isasymlambda}X{\isasymphi}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ X{\isasympsi}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ X{\isasymphi}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ ns{\isasympsi}\ X{\isasympsi}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ idx{\isasymphi}{\isacharprime}{\kern0pt}\ idx{\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t\ {\isasymRightarrow}\ nat\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t\ {\isasymRightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}conj\ ns{\isasymphi}\ {\isacharparenleft}{\kern0pt}AD{\isasymphi}{\isacharcomma}{\kern0pt}\ {\isacharunderscore}{\kern0pt}{\isacharcomma}{\kern0pt}\ X{\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasympsi}\ {\isacharparenleft}{\kern0pt}AD{\isasympsi}{\isacharcomma}{\kern0pt}\ {\isacharunderscore}{\kern0pt}{\isacharcomma}{\kern0pt}\ X{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}let\ AD\ {\isacharequal}{\kern0pt}\ AD{\isasymphi}\ {\isasymunion}\ AD{\isasympsi}{\isacharsemicolon}{\kern0pt}\ AD{\isasymDelta}{\isasymphi}\ {\isacharequal}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ AD{\isasymphi}{\isacharsemicolon}{\kern0pt}\ AD{\isasymDelta}{\isasympsi}\ {\isacharequal}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ AD{\isasympsi}{\isacharsemicolon}{\kern0pt}\ ns\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}\ in\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}set\ ns{\isasymphi}\ {\isasymunion}\ set\ ns{\isasympsi}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ idx{\isacharunderscore}{\kern0pt}join\ AD\ ns\ ns{\isasymphi}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasymphi}\ X{\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasympsi}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ X{\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}ajoin\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t\ {\isasymRightarrow}\ nat\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t\ {\isasymRightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}ajoin\ ns{\isasymphi}\ {\isacharparenleft}{\kern0pt}AD{\isasymphi}{\isacharcomma}{\kern0pt}\ {\isacharunderscore}{\kern0pt}{\isacharcomma}{\kern0pt}\ X{\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasympsi}\ {\isacharparenleft}{\kern0pt}AD{\isasympsi}{\isacharcomma}{\kern0pt}\ {\isacharunderscore}{\kern0pt}{\isacharcomma}{\kern0pt}\ X{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}let\ AD\ {\isacharequal}{\kern0pt}\ AD{\isasymphi}\ {\isasymunion}\ AD{\isasympsi}{\isacharsemicolon}{\kern0pt}\ AD{\isasymDelta}{\isasymphi}\ {\isacharequal}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ AD{\isasymphi}{\isacharsemicolon}{\kern0pt}\ AD{\isasymDelta}{\isasympsi}\ {\isacharequal}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ AD{\isasympsi}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ ns\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isacharsemicolon}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasympsi}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ idx{\isasymphi}\ {\isacharequal}{\kern0pt}\ cluster\ {\isacharparenleft}{\kern0pt}Some\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}xs{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasymphi}\ X{\isasymphi}{\isacharparenright}{\kern0pt}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ idx{\isasympsi}\ {\isacharequal}{\kern0pt}\ cluster\ {\isacharparenleft}{\kern0pt}Some\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}ys{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isasympsi}\ in\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}set\ ns{\isasymphi}\ {\isasymunion}\ set\ ns{\isasympsi}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}idx\ {\isacharparenleft}{\kern0pt}Mapping{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}values\ {\isacharparenleft}{\kern0pt}{\isasymlambda}xs\ X{\isachardot}{\kern0pt}\ case\ Mapping{\isachardot}{\kern0pt}lookup\ idx{\isasympsi}\ xs\ of\ Some\ Y\ {\isasymRightarrow}\isanewline
\ \ \ \ \ \ idx{\isacharunderscore}{\kern0pt}join\ AD\ ns\ ns{\isasymphi}\ X\ ns{\isasympsi}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ {\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD{\isasympsi}\ ns\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}xs{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbar}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isasymRightarrow}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ idx{\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}disj\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t\ {\isasymRightarrow}\ nat\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t\ {\isasymRightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}disj\ ns{\isasymphi}\ {\isacharparenleft}{\kern0pt}AD{\isasymphi}{\isacharcomma}{\kern0pt}\ {\isacharunderscore}{\kern0pt}{\isacharcomma}{\kern0pt}\ X{\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasympsi}\ {\isacharparenleft}{\kern0pt}AD{\isasympsi}{\isacharcomma}{\kern0pt}\ {\isacharunderscore}{\kern0pt}{\isacharcomma}{\kern0pt}\ X{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}let\ AD\ {\isacharequal}{\kern0pt}\ AD{\isasymphi}\ {\isasymunion}\ AD{\isasympsi}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasympsi}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isacharsemicolon}{\kern0pt}\isanewline
\ \ \ \ AD{\isasymDelta}{\isasymphi}\ {\isacharequal}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ AD{\isasymphi}{\isacharsemicolon}{\kern0pt}\ AD{\isasymDelta}{\isasympsi}\ {\isacharequal}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ AD{\isasympsi}\ in\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}set\ ns{\isasymphi}\ {\isasymunion}\ set\ ns{\isasympsi}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasymphi}\ X{\isasymphi}{\isacharparenright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ \ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasympsi}\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ X{\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}exists\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ nat\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}exists\ i\ ns\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ {\isacharunderscore}{\kern0pt}{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ pos\ i\ ns\ of\ Some\ j\ {\isasymRightarrow}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ length\ ns\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ rem{\isacharunderscore}{\kern0pt}nth\ j\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\isanewline
\ \ {\isacharbar}{\kern0pt}\ None\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ length\ ns{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}forall\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ nat\ list\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}forall\ i\ ns\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ {\isacharunderscore}{\kern0pt}{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ pos\ i\ ns\ of\ Some\ j\ {\isasymRightarrow}\isanewline
\ \ \ \ let\ n\ {\isacharequal}{\kern0pt}\ card\ AD\ in\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ length\ ns\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharcomma}{\kern0pt}\ Mapping{\isachardot}{\kern0pt}keys\ {\isacharparenleft}{\kern0pt}Mapping{\isachardot}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}t\ Z{\isachardot}{\kern0pt}\ n\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ t{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isasymle}\ card\ Z{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}cluster\ {\isacharparenleft}{\kern0pt}Some\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}ts{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharbar}{\kern0pt}\ None\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ length\ ns{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ combine{\isacharunderscore}{\kern0pt}map{\isadigit{2}}{\isacharcolon}{\kern0pt}\ \isakeyword{assumes}\ {\isachardoublequoteopen}length\ ys\ {\isacharequal}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ ys{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ xs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ {\isachardoublequoteopen}distinct\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}distinct\ xs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ xs\ {\isasyminter}\ set\ xs{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}f{\isachardot}{\kern0pt}\ ys\ {\isacharequal}{\kern0pt}\ map\ f\ xs\ {\isasymand}\ ys{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ f\ xs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ f\ g\ \isakeyword{where}\ fg{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ map\ f\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}ys{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ g\ xs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ exists{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fg{\isacharunderscore}{\kern0pt}def\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlambda}x{\isachardot}{\kern0pt}\ if\ x\ {\isasymin}\ set\ xs\ then\ f\ x\ else\ g\ x{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ combine{\isacharunderscore}{\kern0pt}map{\isadigit{3}}{\isacharcolon}{\kern0pt}\ \isakeyword{assumes}\ {\isachardoublequoteopen}length\ ys\ {\isacharequal}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ ys{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ xs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ ys{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ xs{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ {\isachardoublequoteopen}distinct\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}distinct\ xs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}distinct\ xs{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ xs\ {\isasyminter}\ set\ xs{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ xs\ {\isasyminter}\ set\ xs{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ xs{\isacharprime}{\kern0pt}\ {\isasyminter}\ set\ xs{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}f{\isachardot}{\kern0pt}\ ys\ {\isacharequal}{\kern0pt}\ map\ f\ xs\ {\isasymand}\ ys{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ f\ xs{\isacharprime}{\kern0pt}\ {\isasymand}\ ys{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ f\ xs{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ f\ g\ h\ \isakeyword{where}\ fgh{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ map\ f\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}ys{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ g\ xs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ys{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ h\ xs{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ exists{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fgh{\isacharunderscore}{\kern0pt}def\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}{\isasymlambda}x{\isachardot}{\kern0pt}\ if\ x\ {\isasymin}\ set\ xs\ then\ f\ x\ else\ if\ x\ {\isasymin}\ set\ xs{\isacharprime}{\kern0pt}\ then\ g\ x\ else\ h\ x{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}zip{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ nsx\ {\isacharequal}{\kern0pt}\ length\ xs\ {\isasymLongrightarrow}\ distinct\ nsx\ {\isasymLongrightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ b{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}a{\isacharcomma}{\kern0pt}\ ba{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ b\ {\isacharequal}{\kern0pt}\ ba{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ nsx\ xs\ rule{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}induct{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ dest{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}leftD{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharunderscore}{\kern0pt}isl{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ set\ xs\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}case\ x\ of\ Inl\ z\ {\isasymRightarrow}\ z\ {\isasymin}\ X\ {\isacharbar}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isasymRightarrow}\ False{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ X\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ F{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Inl\ x\ {\isasymin}\ set\ xs\ {\isasymLongrightarrow}\ x\ {\isasymin}\ X{\isachardoublequoteclose}\ \isakeyword{for}\ x\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}Inl\ x{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ F{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}case{\isacharunderscore}{\kern0pt}sum\ Map{\isachardot}{\kern0pt}empty\ Some{\isacharparenright}{\kern0pt}\ xs\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}def\ nats{\isacharunderscore}{\kern0pt}def\ F{\isadigit{2}}\ intro{\isacharcolon}{\kern0pt}\ F{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}mapI{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ set\ xs\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}f\ x{\isacharcomma}{\kern0pt}\ g\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}map\ f\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ g\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}isl{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ {\isacharparenleft}{\kern0pt}map\ f\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ g\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ X\ {\isacharparenleft}{\kern0pt}map\ f\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isasymin}\ set\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}isl\ {\isacharparenleft}{\kern0pt}f\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}f\ x\ {\isacharequal}{\kern0pt}\ g\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ {\isacharparenleft}{\kern0pt}f\ x{\isacharcomma}{\kern0pt}\ g\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}mapI{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharminus}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ AD\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isacharunderscore}{\kern0pt}mono\ image{\isacharunderscore}{\kern0pt}eqI\ sum{\isachardot}{\kern0pt}collapse{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ vimageI{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}empty{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ X\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ Y\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}length\ nsx\ {\isacharequal}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ nsy\ {\isacharequal}{\kern0pt}\ length\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ nsx{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ nsy{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ ns\ {\isasymsubseteq}\ set\ nsx\ {\isasyminter}\ set\ nsy{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasyminter}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasyminter}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymor}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ isl\ x{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}y\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ isl\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}xs{\isacharprime}{\kern0pt}\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}ys{\isacharprime}{\kern0pt}\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}\ ys{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ nsx\ nsy\ xs{\isacharprime}{\kern0pt}\ ys{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ cxs\ \isakeyword{where}\ {\isachardoublequoteopen}cxs\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ nsy\ {\isasymand}\ isl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ nxs\ \isakeyword{where}\ {\isachardoublequoteopen}nxs\ {\isacharequal}{\kern0pt}\ map\ fst\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ nsy\ {\isasymand}\ {\isasymnot}isl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ cys\ \isakeyword{where}\ {\isachardoublequoteopen}cys\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ nsx\ {\isasymand}\ isl\ y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ nys\ \isakeyword{where}\ {\isachardoublequoteopen}nys\ {\isacharequal}{\kern0pt}\ map\ fst\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ nsx\ {\isasymand}\ {\isasymnot}isl\ y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ both\ \isakeyword{where}\ {\isachardoublequoteopen}both\ {\isacharequal}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}set\ nsx\ {\isasymunion}\ set\ nsy{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ close{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ xs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ xs\ xs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ ys{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ Y\ ys\ ys{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{0}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ sup{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}commute{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ close{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ xs{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ ys{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ close\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}sort{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}nsx\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}length\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}nsy\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ merge{\isacharunderscore}{\kern0pt}length\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ close{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ zs\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}zs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}fs{\isachardot}{\kern0pt}\ map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}nsx\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ nys\ fs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\isanewline
\ \ \ \ \ \ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ nys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}zs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}fs{\isachardot}{\kern0pt}\ map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}nsy\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ nxs\ fs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\isanewline
\ \ \ \ \ \ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ nxs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ zxs\ zys\ \isakeyword{where}\ nall{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}zxs\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ nys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}zs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}nsx\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ nys\ zxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}zys\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ nxs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}zs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}nsy\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ nxs\ zys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}zs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ zxs\ {\isacharequal}{\kern0pt}\ length\ nys{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ zys\ {\isacharequal}{\kern0pt}\ length\ nxs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ nall{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ dest{\isacharcolon}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ aux{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ {\isacharparenleft}{\kern0pt}map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ nxs{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ nsy{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ {\isacharparenleft}{\kern0pt}map\ fst\ cys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ nys{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ nsx{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}map\ fst\ cxs{\isacharparenright}{\kern0pt}\ {\isasyminter}\ set\ nsy\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}map\ fst\ cxs{\isacharparenright}{\kern0pt}\ {\isasyminter}\ set\ nxs\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ nsy\ {\isasyminter}\ set\ nxs\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}map\ fst\ cys{\isacharparenright}{\kern0pt}\ {\isasyminter}\ set\ nsx\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}map\ fst\ cys{\isacharparenright}{\kern0pt}\ {\isasyminter}\ set\ nys\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ nsx\ {\isasyminter}\ set\ nys\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ close{\isacharprime}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}zip\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cxs{\isacharunderscore}{\kern0pt}def\ nxs{\isacharunderscore}{\kern0pt}def\ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ sorted{\isacharunderscore}{\kern0pt}filter\ distinct{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}filter{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}z{\isadigit{3}}{\isacharparenright}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ xf\ \isakeyword{where}\ xf{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ snd\ cxs\ {\isacharequal}{\kern0pt}\ map\ xf\ {\isacharparenleft}{\kern0pt}map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ys{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ xf\ nsy{\isachardoublequoteclose}\ {\isachardoublequoteopen}zys\ {\isacharequal}{\kern0pt}\ map\ xf\ nxs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ combine{\isacharunderscore}{\kern0pt}map{\isadigit{3}}{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}ys{\isacharequal}{\kern0pt}{\isachardoublequoteopen}map\ snd\ cxs{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}{\kern0pt}xs{\isacharequal}{\kern0pt}{\isachardoublequoteopen}map\ fst\ cxs{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}{\kern0pt}ys{\isacharprime}{\kern0pt}{\isacharequal}{\kern0pt}ys{\isacharprime}{\kern0pt}\ \isakeyword{and}\ {\isacharquery}{\kern0pt}xs{\isacharprime}{\kern0pt}{\isacharequal}{\kern0pt}nsy\ \isakeyword{and}\ {\isacharquery}{\kern0pt}ys{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharequal}{\kern0pt}zys\ \isakeyword{and}\ {\isacharquery}{\kern0pt}xs{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharequal}{\kern0pt}nxs{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ aux\ close{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ len{\isacharunderscore}{\kern0pt}zs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ ysf\ \isakeyword{where}\ ysf{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ map\ ysf\ nsy{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ exists{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ xg\ \isakeyword{where}\ xg{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ snd\ cys\ {\isacharequal}{\kern0pt}\ map\ xg\ {\isacharparenleft}{\kern0pt}map\ fst\ cys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}xs{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ xg\ nsx{\isachardoublequoteclose}\ {\isachardoublequoteopen}zxs\ {\isacharequal}{\kern0pt}\ map\ xg\ nys{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ combine{\isacharunderscore}{\kern0pt}map{\isadigit{3}}{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}ys{\isacharequal}{\kern0pt}{\isachardoublequoteopen}map\ snd\ cys{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}{\kern0pt}xs{\isacharequal}{\kern0pt}{\isachardoublequoteopen}map\ fst\ cys{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}{\kern0pt}ys{\isacharprime}{\kern0pt}{\isacharequal}{\kern0pt}xs{\isacharprime}{\kern0pt}\ \isakeyword{and}\ {\isacharquery}{\kern0pt}xs{\isacharprime}{\kern0pt}{\isacharequal}{\kern0pt}nsx\ \isakeyword{and}\ {\isacharquery}{\kern0pt}ys{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharequal}{\kern0pt}zxs\ \isakeyword{and}\ {\isacharquery}{\kern0pt}xs{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharequal}{\kern0pt}nys{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ aux\ close{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ len{\isacharunderscore}{\kern0pt}zs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ xsf\ \isakeyword{where}\ xsf{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ map\ xsf\ nsx{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\ exists{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}cxs{\isacharunderscore}{\kern0pt}nxs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}map\ fst\ cxs\ {\isacharat}{\kern0pt}\ nxs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ nsx\ {\isacharminus}{\kern0pt}\ set\ nsy{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ cxs{\isacharunderscore}{\kern0pt}def\ nxs{\isacharunderscore}{\kern0pt}def\ close{\isacharprime}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ nsx\ xs{\isacharprime}{\kern0pt}\ rule{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}induct{\isadigit{2}}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}cys{\isacharunderscore}{\kern0pt}nys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}map\ fst\ cys\ {\isacharat}{\kern0pt}\ nys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ nsy\ {\isacharminus}{\kern0pt}\ set\ nsx{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ close{\isacharprime}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ nsy\ ys{\isacharprime}{\kern0pt}\ rule{\isacharcolon}{\kern0pt}\ list{\isacharunderscore}{\kern0pt}induct{\isadigit{2}}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ sort{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}both{\isacharunderscore}{\kern0pt}xs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sort\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}nsy\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\ nxs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ both{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ close{\isacharprime}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}cxs{\isacharunderscore}{\kern0pt}nxs\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ both{\isacharunderscore}{\kern0pt}def\ nxs{\isacharunderscore}{\kern0pt}def\ cxs{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}filter{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ sort{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}both{\isacharunderscore}{\kern0pt}ys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sort\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}nsx\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\ nys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ both{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ close{\isacharprime}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}cys{\isacharunderscore}{\kern0pt}nys\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ both{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ cys{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}filter{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ cxs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ xf\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}nsy\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}{\isasymsigma}{\isacharequal}{\kern0pt}xf\ \isakeyword{and}\ {\isacharquery}{\kern0pt}ns{\isacharequal}{\kern0pt}nsy\ \isakeyword{and}\ {\isacharquery}{\kern0pt}ms{\isacharequal}{\kern0pt}{\isachardoublequoteopen}map\ fst\ cxs{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ aux\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ xf{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ xf{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ zip{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}snd{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ zs{\isacharunderscore}{\kern0pt}xf{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}zs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ xf\ both{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isasymsigma}{\isacharequal}{\kern0pt}xf\ \isakeyword{and}\ {\isacharquery}{\kern0pt}ns{\isacharequal}{\kern0pt}{\isachardoublequoteopen}sort\ {\isacharparenleft}{\kern0pt}nsy\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}{\kern0pt}ms{\isacharequal}{\kern0pt}nxs{\isacharbrackright}{\kern0pt}\ aux\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ nall{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ xf{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ sort{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}both{\isacharunderscore}{\kern0pt}xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ xg\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}nsx\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}{\isasymsigma}{\isacharequal}{\kern0pt}xg\ \isakeyword{and}\ {\isacharquery}{\kern0pt}ns{\isacharequal}{\kern0pt}nsx\ \isakeyword{and}\ {\isacharquery}{\kern0pt}ms{\isacharequal}{\kern0pt}{\isachardoublequoteopen}map\ fst\ cys{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\ aux\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ xg{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ xg{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ zip{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}snd{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ zs{\isacharunderscore}{\kern0pt}xg{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}zs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ xg\ both{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isasymsigma}{\isacharequal}{\kern0pt}xg\ \isakeyword{and}\ {\isacharquery}{\kern0pt}ns{\isacharequal}{\kern0pt}{\isachardoublequoteopen}sort\ {\isacharparenleft}{\kern0pt}nsx\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}{\kern0pt}ms{\isacharequal}{\kern0pt}nys{\isacharbrackright}{\kern0pt}\ aux\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ nall{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ xg{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ sort{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}both{\isacharunderscore}{\kern0pt}ys{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ xg\ ns{\isachardoublequoteclose}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ xf\ ns{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ xsf\ ns{\isachardoublequoteclose}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ ysf\ ns{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ xf{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ xg{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ xsf{\isacharunderscore}{\kern0pt}def\ ysf{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharcomma}{\kern0pt}{\isadigit{6}}{\isacharcomma}{\kern0pt}{\isadigit{7}}{\isacharcomma}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ xg\ both{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ xf\ both{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ zs{\isacharunderscore}{\kern0pt}xg\ zs{\isacharunderscore}{\kern0pt}xf\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ dest{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ both{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset{\isacharbrackleft}{\kern0pt}rotated{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}Un{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{9}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ disjE{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ c{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasyminter}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasyminter}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}Int{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasyminter}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasyminter}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}Un\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}mono{\isacharcomma}{\kern0pt}\ rotated{\isacharcomma}{\kern0pt}\ OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqD{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}xs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasyminter}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasyminter}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ Int{\isacharunderscore}{\kern0pt}lower{\isadigit{1}}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ close{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ xsf{\isacharunderscore}{\kern0pt}def\ xg{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}ys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasyminter}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasyminter}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ Int{\isacharunderscore}{\kern0pt}lower{\isadigit{2}}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ close{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ysf{\isacharunderscore}{\kern0pt}def\ xf{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ c\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}Int\ proj{\isacharunderscore}{\kern0pt}xs\ proj{\isacharunderscore}{\kern0pt}ys\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ c{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}x{\isasymin}set\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ isl\ x{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}y{\isasymin}set\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ isl\ y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}case\ x\ of\ Inl\ z\ {\isasymRightarrow}\ z\ {\isasymin}\ X\ {\isasymunion}\ Y\ {\isacharbar}{\kern0pt}\ Inr\ b\ {\isasymRightarrow}\ False{\isachardoublequoteclose}\ \isakeyword{if}\ {\isachardoublequoteopen}x\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{for}\ x\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ close{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\ c\ that\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}isl{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}X{\isacharequal}{\kern0pt}X\ \isakeyword{and}\ {\isacharquery}{\kern0pt}f{\isacharequal}{\kern0pt}xsf\ \isakeyword{and}\ {\isacharquery}{\kern0pt}g{\isacharequal}{\kern0pt}xg\ \isakeyword{and}\ {\isacharquery}{\kern0pt}xs{\isacharequal}{\kern0pt}nsx{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ xsf{\isacharunderscore}{\kern0pt}def\ xg{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ image{\isacharunderscore}{\kern0pt}eqI\ subsetD\ vimageI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ subsetD\ sum{\isachardot}{\kern0pt}disc{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ E{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharunderscore}{\kern0pt}isl{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}case\ y\ of\ Inl\ z\ {\isasymRightarrow}\ z\ {\isasymin}\ X\ {\isasymunion}\ Y\ {\isacharbar}{\kern0pt}\ Inr\ b\ {\isasymRightarrow}\ False{\isachardoublequoteclose}\ \isakeyword{if}\ {\isachardoublequoteopen}y\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{for}\ y\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ close{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\ c\ that\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}isl{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}X{\isacharequal}{\kern0pt}Y\ \isakeyword{and}\ {\isacharquery}{\kern0pt}f{\isacharequal}{\kern0pt}ysf\ \isakeyword{and}\ {\isacharquery}{\kern0pt}g{\isacharequal}{\kern0pt}xf\ \isakeyword{and}\ {\isacharquery}{\kern0pt}xs{\isacharequal}{\kern0pt}nsy{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ysf{\isacharunderscore}{\kern0pt}def\ xf{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ image{\isacharunderscore}{\kern0pt}eqI\ subsetD\ vimageI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ subsetD\ sum{\isachardot}{\kern0pt}disc{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ E{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharunderscore}{\kern0pt}isl{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ {\isacharparenleft}{\kern0pt}map\ xsf\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ xg\ ns{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\ close{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ xsf{\isacharunderscore}{\kern0pt}def\ xg{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x{\isasymin}set\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ isl\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ c\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ E{\isadigit{3}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ ns{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}isl{\isacharbrackleft}{\kern0pt}OF\ close{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ xsf{\isacharunderscore}{\kern0pt}def\ xg{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ xsf{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x{\isasymin}set\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ isl\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ c\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ E{\isadigit{4}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ ns{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}isl{\isacharbrackleft}{\kern0pt}OF\ close{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ysf{\isacharunderscore}{\kern0pt}def\ xf{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ysf{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ c\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}Un\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ E{\isadigit{1}}\ E{\isadigit{2}}\ E{\isadigit{3}}\ E{\isadigit{4}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def\ cxs{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ nxs{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ cys{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ nys{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}OF\ len{\isacharunderscore}{\kern0pt}sort{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}OF\ len{\isacharunderscore}{\kern0pt}sort{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ X\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ Y\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}length\ nsx\ {\isacharequal}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ nsy\ {\isacharequal}{\kern0pt}\ length\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ nsx{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ nsy{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}ns\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ nsy{\isacharparenright}{\kern0pt}\ nsx{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasyminter}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}X\ {\isasyminter}\ Y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}xs{\isacharprime}{\kern0pt}\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}ys{\isacharprime}{\kern0pt}\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}\ ys{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple\ {\isacharparenleft}{\kern0pt}X\ {\isasymunion}\ Y{\isacharparenright}{\kern0pt}\ nsx\ nsy\ xs{\isacharprime}{\kern0pt}\ ys{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ aux{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ ns\ {\isasymsubseteq}\ set\ nsx\ {\isasyminter}\ set\ nsy{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}filter{\isacharbrackleft}{\kern0pt}of\ id{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{7}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}empty{\isadigit{2}}{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ aux{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharminus}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}empty{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ Z\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ Z\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}length\ nsx\ {\isacharequal}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ nsy\ {\isacharequal}{\kern0pt}\ length\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ nsx{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ nsy{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ ns\ {\isasymsubseteq}\ set\ nsx\ {\isasyminter}\ set\ nsy{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ Z\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ fo{\isacharunderscore}{\kern0pt}nmlz\ Z\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymor}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ isl\ x{\isacharparenright}{\kern0pt}\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}y\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ isl\ y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple\ Z\ nsx\ nsy\ xs\ ys\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}empty{\isadigit{2}}{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{9}}{\isacharparenright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}empty\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ Z\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ Z\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}length\ nsx\ {\isacharequal}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ nsy\ {\isacharequal}{\kern0pt}\ length\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ nsx{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ nsy{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}ns\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ nsy{\isacharparenright}{\kern0pt}\ nsx{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ Z\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsx\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ fo{\isacharunderscore}{\kern0pt}nmlz\ Z\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ nsy\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple\ Z\ nsx\ nsy\ xs\ ys\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ aux{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ ns\ {\isasymsubseteq}\ set\ nsx\ {\isasyminter}\ set\ nsy{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}filter{\isacharbrackleft}{\kern0pt}of\ id{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{7}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}empty{\isadigit{2}}{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ aux{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharminus}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}filter{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}xs\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ n\ {\isacharparenleft}{\kern0pt}length\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ {\isasymnot}isl\ x{\isacharparenright}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}ys\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ n\ {\isacharparenleft}{\kern0pt}length\ ys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ n\ ys{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ x\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ x{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Inr\ b{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ b{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}i{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}b\ {\isasymle}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ zs\ \isakeyword{where}\ ys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ Inr\ b\ {\isacharhash}{\kern0pt}\ zs{\isachardoublequoteclose}\ {\isachardoublequoteopen}zs\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ {\isasymnot}\ isl\ x{\isacharparenright}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}b\ {\isacharless}{\kern0pt}\ n{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ of\ n{\isacharbrackright}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ of\ {\isachardoublequoteopen}Suc\ n{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}rev{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ys\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ n\ {\isacharparenleft}{\kern0pt}length\ ys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ {\isasymnot}isl\ x{\isacharparenright}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}xs\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ n\ {\isacharparenleft}{\kern0pt}length\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ xs\ arbitrary{\isacharcolon}{\kern0pt}\ n\ ys{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ x\ xs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ x{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Inl\ a{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}AD{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}a\ {\isasymin}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inl{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ a{\isacharunderscore}{\kern0pt}AD\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inl{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Inr\ b{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ zs\ \isakeyword{where}\ ys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ Inr\ b\ {\isacharhash}{\kern0pt}\ zs{\isachardoublequoteclose}\ {\isachardoublequoteopen}zs\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ {\isasymnot}\ isl\ x{\isacharparenright}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Inr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ Inr{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}aux{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ AD\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X{\isasymphi}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R{\isasymphi}\ ns{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X{\isasympsi}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R{\isasympsi}\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ distinct{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ cxs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cxs\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasympsi}\ {\isasymand}\ isl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ nxs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nxs\ {\isacharequal}{\kern0pt}\ map\ fst\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasympsi}\ {\isasymand}\ {\isasymnot}isl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ cys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cys\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}\ {\isasymand}\ isl\ y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ nys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nys\ {\isacharequal}{\kern0pt}\ map\ fst\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}\ {\isasymand}\ {\isasymnot}isl\ y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ xs{\isacharunderscore}{\kern0pt}ys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isasymin}\ X{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ys\ {\isasymin}\ X{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ ns{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fs{\isasymphi}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}ys\ ns{\isasympsi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fs{\isasympsi}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}ys\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ fs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fs{\isasymphi}\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ fs{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fs{\isasympsi}\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}ys\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ fs{\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}zip\ nys\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ nys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}map\ {\isasymsigma}xs\ nys\ {\isasymin}\isanewline
\ \ \ \ \ \ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ nys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ xs\ {\isacharequal}{\kern0pt}\ length\ ns{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ ys\ {\isacharequal}{\kern0pt}\ length\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}ys{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}fs{\isasymphi}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ fs{\isasymphi}\ {\isacharequal}{\kern0pt}\ length\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ fst\ cys{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ nys{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ dest{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}leftD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ image{\isacharunderscore}{\kern0pt}eqI\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}impl{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}zip{\isadigit{1}}\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \ \ \ \ prod{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ split{\isacharunderscore}{\kern0pt}conv{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ Inl\ x\ {\isasymin}\ set\ xs\ {\isasymunion}\ set\ fs{\isasymphi}\ {\isasymLongrightarrow}\ x\ {\isasymin}\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymAnd}y{\isachardot}{\kern0pt}\ Inl\ y\ {\isasymin}\ set\ ys\ {\isasymunion}\ set\ fs{\isasympsi}\ {\isasymLongrightarrow}\ y\ {\isasymin}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}ys{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}set{\isacharbrackleft}{\kern0pt}of\ AD{\isacharbrackright}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}Inl{\isacharbrackleft}{\kern0pt}OF\ fs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}Inl{\isacharbrackleft}{\kern0pt}OF\ fs{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ Inl{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ ns{\isasymphi}\ {\isasymunion}\ set\ ns{\isasympsi}\ {\isasymLongrightarrow}\ isl\ {\isacharparenleft}{\kern0pt}{\isasymsigma}xs\ n{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}x{\isachardot}{\kern0pt}\ {\isasymsigma}xs\ n\ {\isacharequal}{\kern0pt}\ Inl\ x\ {\isasymand}\ x\ {\isasymin}\ AD{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ ns{\isasymphi}\ {\isasymunion}\ set\ ns{\isasympsi}\ {\isasymLongrightarrow}\ isl\ {\isacharparenleft}{\kern0pt}{\isasymsigma}ys\ n{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}y{\isachardot}{\kern0pt}\ {\isasymsigma}ys\ n\ {\isacharequal}{\kern0pt}\ Inl\ y\ {\isasymand}\ y\ {\isasymin}\ AD{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ isl{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}smt\ imageI\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ sort{\isacharunderscore}{\kern0pt}sort{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ isl{\isacharunderscore}{\kern0pt}iff{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isasymunion}\ set\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\ isl\ {\isacharparenleft}{\kern0pt}{\isasymsigma}xs\ n{\isacharparenright}{\kern0pt}\ {\isasymor}\ isl\ {\isacharparenleft}{\kern0pt}{\isasymsigma}ys\ n{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isasymsigma}xs\ n\ {\isacharequal}{\kern0pt}\ {\isasymsigma}ys\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr\ Inl{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ sort{\isacharunderscore}{\kern0pt}sort{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ UnI{\isadigit{2}}\ image{\isacharunderscore}{\kern0pt}eqI\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ UnI{\isadigit{2}}\ image{\isacharunderscore}{\kern0pt}eqI\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ UnI{\isadigit{1}}\ image{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}map\ fst\ cys{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ isl\ {\isacharparenleft}{\kern0pt}{\isasymsigma}xs\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}map\ fst\ cxs{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ isl\ {\isacharparenleft}{\kern0pt}{\isasymsigma}ys\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ isl{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cys{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ cxs{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ nth{\isacharunderscore}{\kern0pt}mem{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ Inr{\isacharunderscore}{\kern0pt}sort{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ zip{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}snd\ dest{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}leftD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ fst{\isacharunderscore}{\kern0pt}conv\ image{\isacharunderscore}{\kern0pt}iff\ sum{\isachardot}{\kern0pt}disc{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}nys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ {\isasymsigma}xs\ nys\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ {\isasymnot}isl\ x{\isacharparenright}{\kern0pt}\ fs{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ isl{\isacharunderscore}{\kern0pt}iff{\isacharbrackleft}{\kern0pt}unfolded\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ nys{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ filter{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ force{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}nys{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nall{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ {\isasymsigma}xs\ nys\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ nys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}filter{\isacharbrackleft}{\kern0pt}OF\ fs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}folded\ len{\isacharunderscore}{\kern0pt}fs{\isasymphi}{\isacharbrackright}{\kern0pt}\ map{\isacharunderscore}{\kern0pt}nys{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}cys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ snd\ cys\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}map\ fst\ cys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ isl{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cys{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ nth{\isacharunderscore}{\kern0pt}mem{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}cys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ zip{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}snd{\isacharbrackleft}{\kern0pt}of\ cys{\isacharcomma}{\kern0pt}\ symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ map{\isacharunderscore}{\kern0pt}cys\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ merge{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cys{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def\ sorted{\isacharunderscore}{\kern0pt}filter\ distinct{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}take{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}nys{\isacharunderscore}{\kern0pt}prems{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ nys{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ set\ nys\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ distinct{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ sorted{\isacharunderscore}{\kern0pt}filter{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ eq{\isacharunderscore}{\kern0pt}key{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}value\ map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}snd{\isacharunderscore}{\kern0pt}merge{\isacharunderscore}{\kern0pt}nys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\ nys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}zip\ nys\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ nys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ merge{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ merge{\isacharunderscore}{\kern0pt}nys{\isacharunderscore}{\kern0pt}prems{\isacharcomma}{\kern0pt}\ symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ sort{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}nys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sort\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\ nys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\ merge{\isacharunderscore}{\kern0pt}nys{\isacharunderscore}{\kern0pt}prems\ set{\isacharunderscore}{\kern0pt}ns{\isasymphi}{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ dest{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}leftD{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}merge{\isacharunderscore}{\kern0pt}fs{\isasymphi}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ fs{\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ merge{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\ sorted{\isacharunderscore}{\kern0pt}filter{\isacharbrackleft}{\kern0pt}of\ id{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ fs{\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}zip\ nys\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ nys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}merge{\isacharunderscore}{\kern0pt}fs{\isasymphi}\ map{\isacharunderscore}{\kern0pt}snd{\isacharunderscore}{\kern0pt}merge{\isacharunderscore}{\kern0pt}nys{\isacharbrackleft}{\kern0pt}unfolded\ sort{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}nys{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}map\ {\isasymsigma}xs\ nys\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ nys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}nys{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}nall\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Inr{\isacharunderscore}{\kern0pt}sort{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}aux{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ AD\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X{\isasymphi}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R{\isasymphi}\ ns{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X{\isasympsi}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R{\isasympsi}\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ distinct{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ cxs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cxs\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasympsi}\ {\isasymand}\ isl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ nxs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nxs\ {\isacharequal}{\kern0pt}\ map\ fst\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasympsi}\ {\isasymand}\ {\isasymnot}isl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ cys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cys\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}\ {\isasymand}\ isl\ y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ nys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nys\ {\isacharequal}{\kern0pt}\ map\ fst\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}\ {\isasymand}\ {\isasymnot}isl\ y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ xs{\isacharunderscore}{\kern0pt}ys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isasymin}\ X{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ys\ {\isasymin}\ X{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ ns{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}map\ snd\ cys\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}map\ fst\ cys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}ys{\isasympsi}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ nys{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}ys\ ns{\isasympsi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}map\ snd\ cxs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}ys\ {\isacharparenleft}{\kern0pt}map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}xs{\isasymphi}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}ys\ nxs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ fs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fs{\isasymphi}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ fs{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fs{\isasympsi}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}ys\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ ys{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ {\isasymsigma}xs\ nys\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ nys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ Inl{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}AD{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}map\ snd\ cxs{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ xs{\isasymphi}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}map\ snd\ cys{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ ys{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}ys\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
\ \ \ \ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ fs{\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}zip\ nys\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ nys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}fs{\isasymphi}\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ xs\ {\isacharequal}{\kern0pt}\ length\ ns{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ ys\ {\isacharequal}{\kern0pt}\ length\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}ys{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}fs{\isasymphi}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ fs{\isasymphi}\ {\isacharequal}{\kern0pt}\ length\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}ns{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ fst\ cys{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ nys{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ fst\ cxs{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ nxs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ cxs{\isacharunderscore}{\kern0pt}def\ nxs{\isacharunderscore}{\kern0pt}def\ dest{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}leftD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ image{\isacharunderscore}{\kern0pt}eqI\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}impl{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}zip{\isadigit{1}}\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \ \ \ \ prod{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ split{\isacharunderscore}{\kern0pt}conv{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}{\isasymsigma}{\isacharunderscore}{\kern0pt}ns{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymsigma}xs\ {\isacharbackquote}{\kern0pt}\ set\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isasymunion}\ {\isasymsigma}xs\ {\isacharbackquote}{\kern0pt}\ set\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isasymsubseteq}\ set\ xs\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}map\ snd\ cys{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ ys{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymsigma}ys\ {\isacharbackquote}{\kern0pt}\ set\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isasymunion}\ {\isasymsigma}ys\ {\isacharbackquote}{\kern0pt}\ set\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isasymsubseteq}\ set\ ys\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}map\ snd\ cxs{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ xs{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ Inl{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}AD{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ Inl\ x\ {\isasymin}\ set\ xs\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}map\ snd\ cys{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ ys{\isasympsi}\ {\isasymLongrightarrow}\ x\ {\isasymin}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}y{\isachardot}{\kern0pt}\ Inl\ y\ {\isasymin}\ set\ ys\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}map\ snd\ cxs{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ xs{\isasymphi}\ {\isasymLongrightarrow}\ y\ {\isasymin}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}ys{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}set{\isacharbrackleft}{\kern0pt}of\ AD{\isacharbrackright}{\kern0pt}\ Inl{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}AD\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}zipE\ set{\isacharunderscore}{\kern0pt}map\ subset{\isacharunderscore}{\kern0pt}eq\ vimageI\ zip{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}snd{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ Inl{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isasymunion}\ set\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\ isl\ {\isacharparenleft}{\kern0pt}{\isasymsigma}xs\ n{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}x{\isachardot}{\kern0pt}\ {\isasymsigma}xs\ n\ {\isacharequal}{\kern0pt}\ Inl\ x\ {\isasymand}\ x\ {\isasymin}\ AD{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isasymunion}\ set\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\ isl\ {\isacharparenleft}{\kern0pt}{\isasymsigma}ys\ n{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}y{\isachardot}{\kern0pt}\ {\isasymsigma}ys\ n\ {\isacharequal}{\kern0pt}\ Inl\ y\ {\isasymand}\ y\ {\isasymin}\ AD{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}{\isasymsigma}{\isacharunderscore}{\kern0pt}ns\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ isl{\isacharunderscore}{\kern0pt}def\ rev{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ sort{\isacharunderscore}{\kern0pt}sort{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ isl{\isacharunderscore}{\kern0pt}iff{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isasymunion}\ set\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\ isl\ {\isacharparenleft}{\kern0pt}{\isasymsigma}xs\ n{\isacharparenright}{\kern0pt}\ {\isasymor}\ isl\ {\isacharparenleft}{\kern0pt}{\isasymsigma}ys\ n{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isasymsigma}xs\ n\ {\isacharequal}{\kern0pt}\ {\isasymsigma}ys\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr\ Inl{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ sort{\isacharunderscore}{\kern0pt}sort{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ UnI{\isadigit{2}}\ image{\isacharunderscore}{\kern0pt}eqI\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ UnI{\isadigit{2}}\ image{\isacharunderscore}{\kern0pt}eqI\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ UnI{\isadigit{1}}\ image{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}map\ fst\ cys{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ isl\ {\isacharparenleft}{\kern0pt}{\isasymsigma}xs\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}map\ fst\ cxs{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ isl\ {\isacharparenleft}{\kern0pt}{\isasymsigma}ys\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ isl{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cys{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ cxs{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ nth{\isacharunderscore}{\kern0pt}mem{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ Inr{\isacharunderscore}{\kern0pt}sort{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ zip{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}snd\ dest{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}leftD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ fst{\isacharunderscore}{\kern0pt}conv\ image{\isacharunderscore}{\kern0pt}iff\ sum{\isachardot}{\kern0pt}disc{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}nys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ {\isasymsigma}xs\ nys\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ {\isasymnot}isl\ x{\isacharparenright}{\kern0pt}\ fs{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ isl{\isacharunderscore}{\kern0pt}iff{\isacharbrackleft}{\kern0pt}unfolded\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ nys{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ fs{\isasymphi}{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ force{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}cys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ snd\ cys\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}map\ fst\ cys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ isl{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cys{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ nth{\isacharunderscore}{\kern0pt}mem{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}cys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ zip{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}snd{\isacharbrackleft}{\kern0pt}of\ cys{\isacharcomma}{\kern0pt}\ symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ map{\isacharunderscore}{\kern0pt}cys\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ merge{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cys{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def\ sorted{\isacharunderscore}{\kern0pt}filter\ distinct{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}take{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}nys{\isacharunderscore}{\kern0pt}prems{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ nys{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ set\ nys\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ distinct{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter\ sorted{\isacharunderscore}{\kern0pt}filter{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ eq{\isacharunderscore}{\kern0pt}key{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}value\ map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}snd{\isacharunderscore}{\kern0pt}merge{\isacharunderscore}{\kern0pt}nys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\ nys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}zip\ nys\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ nys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ merge{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ merge{\isacharunderscore}{\kern0pt}nys{\isacharunderscore}{\kern0pt}prems{\isacharcomma}{\kern0pt}\ symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ sort{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}nys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sort\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\ nys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\ merge{\isacharunderscore}{\kern0pt}nys{\isacharunderscore}{\kern0pt}prems\ set{\isacharunderscore}{\kern0pt}ns\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ dest{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}leftD{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}merge{\isacharunderscore}{\kern0pt}fs{\isasymphi}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ fs{\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def\ fs{\isasymphi}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ merge{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\ sorted{\isacharunderscore}{\kern0pt}filter{\isacharbrackleft}{\kern0pt}of\ id{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ fs{\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}zip\ nys\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ nys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}merge{\isacharunderscore}{\kern0pt}fs{\isasymphi}\ map{\isacharunderscore}{\kern0pt}snd{\isacharunderscore}{\kern0pt}merge{\isacharunderscore}{\kern0pt}nys{\isacharbrackleft}{\kern0pt}unfolded\ sort{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}nys{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ fs{\isasymphi}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Inl{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}AD{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}{\isasymsigma}{\isacharunderscore}{\kern0pt}ns\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp{\isacharcolon}{\kern0pt}\ fs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}fs{\isasymphi}\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}fs{\isasymphi}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}rev{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ map{\isacharunderscore}{\kern0pt}nys{\isacharbrackright}{\kern0pt}\ ys{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}unfolded\ Inr{\isacharunderscore}{\kern0pt}sort{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}correct{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X{\isasymphi}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R{\isasymphi}\ ns{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X{\isasympsi}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ R{\isasympsi}\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ distinct{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ X{\isasymphi}\ ns{\isasympsi}\ X{\isasympsi}\ {\isacharequal}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ X{\isasymphi}\ {\isasyminter}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasympsi}\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ X{\isasympsi}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ aux{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ X{\isasymphi}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple\ AD\ ns{\isasymphi}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ X{\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasympsi}\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ X{\isasympsi}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple\ AD\ ns{\isasympsi}\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ X{\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}def\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ image{\isacharunderscore}{\kern0pt}iff\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ aux\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ set{\isacharunderscore}{\kern0pt}eqI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple\ AD\ ns{\isasymphi}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ X{\isasymphi}{\isacharparenright}{\kern0pt}\ {\isasyminter}\isanewline
\ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple\ AD\ ns{\isasympsi}\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ X{\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ xs\ ys\ \isakeyword{where}\ xs{\isacharunderscore}{\kern0pt}ys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isasymin}\ X{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple\ AD\ ns{\isasymphi}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}ys\ {\isasymin}\ X{\isasympsi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple\ AD\ ns{\isasympsi}\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ xs\ {\isacharequal}{\kern0pt}\ length\ ns{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ ys\ {\isacharequal}{\kern0pt}\ length\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ fs{\isasymphi}\ \isakeyword{where}\ fs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ fs{\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}fs{\isasymphi}\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}map\ length{\isacharunderscore}{\kern0pt}map\ map{\isacharunderscore}{\kern0pt}snd{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ fs{\isasympsi}\ \isakeyword{where}\ fs{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ fs{\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}fs{\isasympsi}\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ AD\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}map\ length{\isacharunderscore}{\kern0pt}map\ map{\isacharunderscore}{\kern0pt}snd{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}fs{\isasymphi}\ {\isacharequal}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}OF\ fs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}fs{\isasympsi}\ {\isacharequal}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}OF\ fs{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}xs\ \isakeyword{where}\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ ns{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fs{\isasymphi}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}xs\ {\isacharat}{\kern0pt}\ fs{\isasymphi}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ len{\isacharunderscore}{\kern0pt}fs{\isasymphi}\ distinct\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}ys\ \isakeyword{where}\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}ys\ ns{\isasympsi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fs{\isasympsi}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}ys\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ys\ {\isacharat}{\kern0pt}\ fs{\isasympsi}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ len{\isacharunderscore}{\kern0pt}fs{\isasympsi}\ distinct\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}merge{\isacharunderscore}{\kern0pt}fs{\isasymphi}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ fs{\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ merge{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\ sorted{\isacharunderscore}{\kern0pt}filter{\isacharbrackleft}{\kern0pt}of\ id{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}merge{\isacharunderscore}{\kern0pt}fs{\isasympsi}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ fs{\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}ys\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ merge{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\ sorted{\isacharunderscore}{\kern0pt}filter{\isacharbrackleft}{\kern0pt}of\ id{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{define}\isamarkupfalse%
\ cxs\ \isakeyword{where}\ {\isachardoublequoteopen}cxs\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasympsi}\ {\isasymand}\ isl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{define}\isamarkupfalse%
\ nxs\ \isakeyword{where}\ {\isachardoublequoteopen}nxs\ {\isacharequal}{\kern0pt}\ map\ fst\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasympsi}\ {\isasymand}\ {\isasymnot}isl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{define}\isamarkupfalse%
\ cys\ \isakeyword{where}\ {\isachardoublequoteopen}cys\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}\ {\isasymand}\ isl\ y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{define}\isamarkupfalse%
\ nys\ \isakeyword{where}\ {\isachardoublequoteopen}nys\ {\isacharequal}{\kern0pt}\ map\ fst\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}\ {\isasymand}\ {\isasymnot}isl\ y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqD{\isacharbrackleft}{\kern0pt}OF\ trans{\isacharbrackleft}{\kern0pt}OF\ fs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ fs{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ unfolded\ map{\isacharunderscore}{\kern0pt}merge{\isacharunderscore}{\kern0pt}fs{\isasymphi}\ map{\isacharunderscore}{\kern0pt}merge{\isacharunderscore}{\kern0pt}fs{\isasympsi}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isadigit{1}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}xs\ \isakeyword{where}\ aux{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ fs{\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}zip\ nys\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ nys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}map\ {\isasymsigma}xs\ nys\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ nys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}aux{\isacharbrackleft}{\kern0pt}OF\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ distinct\ cxs{\isacharunderscore}{\kern0pt}def\ nxs{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ xs{\isacharunderscore}{\kern0pt}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def\ fs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ fs{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isadigit{2}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}ys\ \isakeyword{where}\ aux{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ fs{\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}ys\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}zip\ nxs\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}ys\ nxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}\ cxs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}ys\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}map\ {\isasymsigma}ys\ nxs\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}ys\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}length\ nxs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}aux{\isacharbrackleft}{\kern0pt}OF\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ distinct{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ cxs{\isacharunderscore}{\kern0pt}def\ nxs{\isacharunderscore}{\kern0pt}def\ xs{\isacharunderscore}{\kern0pt}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def\ fs{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ fs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isadigit{1}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}ext{\isacharunderscore}{\kern0pt}nys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ nys\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ aux{\isadigit{1}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ fs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ aux{\isadigit{1}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}OF\ length{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ aux{\isadigit{1}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}ext{\isacharunderscore}{\kern0pt}nxs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ nxs\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ aux{\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ fs{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ aux{\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}OF\ length{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ aux{\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ X{\isasymphi}\ ns{\isasympsi}\ X{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}ext{\isacharunderscore}{\kern0pt}nys\ vs{\isacharunderscore}{\kern0pt}ext{\isacharunderscore}{\kern0pt}nxs\ xs{\isacharunderscore}{\kern0pt}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ cys{\isacharunderscore}{\kern0pt}def\ nxs{\isacharunderscore}{\kern0pt}def\ cxs{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ X{\isasymphi}\ ns{\isasympsi}\ X{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ xs\ ys\ cxs\ nxs\ cys\ nys\ \isakeyword{where}\isanewline
\ \ \ \ \ \ cxs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cxs\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasympsi}\ {\isasymand}\ isl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ nxs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nxs\ {\isacharequal}{\kern0pt}\ map\ fst\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasympsi}\ {\isasymand}\ {\isasymnot}isl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ cys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cys\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}\ {\isasymand}\ isl\ y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ nys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nys\ {\isacharequal}{\kern0pt}\ map\ fst\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}{\isacharparenleft}{\kern0pt}n{\isacharcomma}{\kern0pt}\ y{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}\ {\isasymand}\ {\isasymnot}isl\ y{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ xs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isasymin}\ X{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ nys\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ ys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isasymin}\ X{\isasympsi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ nxs\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ image{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ xs\ {\isacharequal}{\kern0pt}\ length\ ns{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ ys\ {\isacharequal}{\kern0pt}\ length\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}merge{\isacharunderscore}{\kern0pt}cys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ length\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}zip\ ns{\isasymphi}\ xs{\isachardoublequoteclose}\ cys{\isacharbrackright}{\kern0pt}\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ ys{\isasympsi}\ \isakeyword{where}\ ys{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ nys\ ys{\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}ys{\isasympsi}\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}length\ nys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}OF\ len{\isacharunderscore}{\kern0pt}merge{\isacharunderscore}{\kern0pt}cys{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}nys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys\ {\isacharat}{\kern0pt}\ nys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ sorted{\isacharunderscore}{\kern0pt}filter\ distinct{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ eq{\isacharunderscore}{\kern0pt}key{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}value\ map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}xs\ \isakeyword{where}\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ ns{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}map\ snd\ cys\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}map\ fst\ cys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}ys{\isasympsi}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ nys{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}nys{\isacharcomma}{\kern0pt}\ of\ {\isachardoublequoteopen}xs\ {\isacharat}{\kern0pt}\ map\ snd\ cys\ {\isacharat}{\kern0pt}\ ys{\isasympsi}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}OF\ ys{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}merge{\isacharunderscore}{\kern0pt}cxs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ length\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}zip\ ns{\isasympsi}\ ys{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ xs{\isasymphi}\ \isakeyword{where}\ xs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ nxs\ xs{\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}xs{\isasymphi}\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}length\ nxs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}OF\ len{\isacharunderscore}{\kern0pt}merge{\isacharunderscore}{\kern0pt}cxs{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ distinct{\isacharunderscore}{\kern0pt}nxs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}distinct\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ map\ fst\ cxs\ {\isacharat}{\kern0pt}\ nxs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cxs{\isacharunderscore}{\kern0pt}def\ nxs{\isacharunderscore}{\kern0pt}def\ sorted{\isacharunderscore}{\kern0pt}filter\ distinct{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ eq{\isacharunderscore}{\kern0pt}key{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}value\ map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}ys\ \isakeyword{where}\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}ys\ ns{\isasympsi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}map\ snd\ cxs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}ys\ {\isacharparenleft}{\kern0pt}map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}xs{\isasymphi}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}ys\ nxs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}nxs{\isacharcomma}{\kern0pt}\ of\ {\isachardoublequoteopen}ys\ {\isacharat}{\kern0pt}\ map\ snd\ cxs\ {\isacharat}{\kern0pt}\ xs{\isasymphi}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}OF\ xs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ sd{\isacharunderscore}{\kern0pt}cs{\isacharunderscore}{\kern0pt}ns{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ {\isacharparenleft}{\kern0pt}map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ nxs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ {\isacharparenleft}{\kern0pt}map\ fst\ cys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ nys{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cxs{\isacharunderscore}{\kern0pt}def\ nxs{\isacharunderscore}{\kern0pt}def\ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ sorted{\isacharunderscore}{\kern0pt}filter\ distinct{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}cs{\isacharunderscore}{\kern0pt}ns{\isacharunderscore}{\kern0pt}disj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}map\ fst\ cxs{\isacharparenright}{\kern0pt}\ {\isasyminter}\ set\ nxs\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}map\ fst\ cys{\isacharparenright}{\kern0pt}\ {\isasyminter}\ set\ nys\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ set\ nys\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ set\ nxs\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\ nth{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}index{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cxs{\isacharunderscore}{\kern0pt}def\ nxs{\isacharunderscore}{\kern0pt}def\ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}cxs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}\ cxs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}ys\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ zip{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}snd{\isacharbrackleft}{\kern0pt}of\ cxs{\isacharcomma}{\kern0pt}\ symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ merge{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ sd{\isacharunderscore}{\kern0pt}cs{\isacharunderscore}{\kern0pt}ns\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cxs{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}cys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ snd\ {\isacharparenleft}{\kern0pt}merge\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}\ cys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ zip{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}fst{\isacharunderscore}{\kern0pt}snd{\isacharbrackleft}{\kern0pt}of\ cys{\isacharcomma}{\kern0pt}\ symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ merge{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ sd{\isacharunderscore}{\kern0pt}cs{\isacharunderscore}{\kern0pt}ns\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cys{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ fst\ cys{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ nys{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ dest{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}leftD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ image{\isacharunderscore}{\kern0pt}eqI\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}impl{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}zip{\isadigit{1}}\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \ \ \ \ \ \ prod{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ split{\isacharunderscore}{\kern0pt}conv{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ sort{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}nys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sort\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ map\ fst\ cys{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\ nys{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\ sd{\isacharunderscore}{\kern0pt}cs{\isacharunderscore}{\kern0pt}ns\ set{\isacharunderscore}{\kern0pt}cs{\isacharunderscore}{\kern0pt}ns{\isacharunderscore}{\kern0pt}disj\ set{\isacharunderscore}{\kern0pt}ns{\isasymphi}{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ dest{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}leftD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ fst\ cxs{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ nxs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ cxs{\isacharunderscore}{\kern0pt}def\ nxs{\isacharunderscore}{\kern0pt}def\ dest{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}leftD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ image{\isacharunderscore}{\kern0pt}eqI\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}impl{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}zip{\isadigit{1}}\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \ \ \ \ \ \ prod{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ split{\isacharunderscore}{\kern0pt}conv{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ sort{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}nxs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sort\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ map\ fst\ cxs{\isacharparenright}{\kern0pt}\ {\isacharat}{\kern0pt}\ nxs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ distinct\ sd{\isacharunderscore}{\kern0pt}cs{\isacharunderscore}{\kern0pt}ns\ set{\isacharunderscore}{\kern0pt}cs{\isacharunderscore}{\kern0pt}ns{\isacharunderscore}{\kern0pt}disj\ set{\isacharunderscore}{\kern0pt}ns{\isasympsi}{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cxs{\isacharunderscore}{\kern0pt}def\ nxs{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ dest{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}leftD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}ys\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasympsi}\ {\isacharat}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}xs\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}ns{\isasymphi}\ {\isacharat}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqD{\isacharbrackleft}{\kern0pt}OF\ trans{\isacharbrackleft}{\kern0pt}OF\ xs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ ys{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ merge{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}cxs\ merge{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}cys\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ sd{\isacharunderscore}{\kern0pt}cs{\isacharunderscore}{\kern0pt}ns{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\ sd{\isacharunderscore}{\kern0pt}cs{\isacharunderscore}{\kern0pt}ns{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}cs{\isacharunderscore}{\kern0pt}ns{\isacharunderscore}{\kern0pt}disj{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ merge{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ sd{\isacharunderscore}{\kern0pt}cs{\isacharunderscore}{\kern0pt}ns{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ sd{\isacharunderscore}{\kern0pt}cs{\isacharunderscore}{\kern0pt}ns{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}cs{\isacharunderscore}{\kern0pt}ns{\isacharunderscore}{\kern0pt}disj{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ sort{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}nxs\ sort{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}nys\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isadigit{1}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ Inl{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}AD{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}map\ snd\ cxs{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ xs{\isasymphi}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}map\ snd\ cys{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ ys{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}Inl{\isacharbrackleft}{\kern0pt}OF\ xs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}Inl{\isacharbrackleft}{\kern0pt}OF\ ys{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}set{\isacharbrackleft}{\kern0pt}of\ AD{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ cxs{\isacharunderscore}{\kern0pt}def\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ cys{\isacharunderscore}{\kern0pt}def\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ dest{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharunderscore}{\kern0pt}rightD{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ aux{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}aux{\isacharprime}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ distinct\ cxs{\isacharunderscore}{\kern0pt}def\ nxs{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\ xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def\ refl\ refl\isanewline
\ \ \ \ \ \ \ \ ys{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ merge{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}cys{\isacharbrackright}{\kern0pt}\ Inl{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}AD\ ad{\isacharunderscore}{\kern0pt}agr{\isadigit{1}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ aux{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}aux{\isacharprime}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ distinct{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ cys{\isacharunderscore}{\kern0pt}def\ nys{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ cxs{\isacharunderscore}{\kern0pt}def\ nxs{\isacharunderscore}{\kern0pt}def\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def\ refl\ refl\isanewline
\ \ \ \ \ \ \ \ xs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ merge{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}cxs{\isacharbrackright}{\kern0pt}\ Inl{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}AD{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isadigit{2}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple\ AD\ ns{\isasymphi}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ X{\isasymphi}{\isacharparenright}{\kern0pt}\ {\isasyminter}\isanewline
\ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple\ AD\ ns{\isasympsi}\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ X{\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ ys{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ xs{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ aux{\isadigit{1}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ aux{\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}OF\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ of\ AD\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}OF\ len{\isacharunderscore}{\kern0pt}xs{\isacharunderscore}{\kern0pt}ys{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ of\ AD\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ aux{\isadigit{1}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ aux{\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymsigma}ys{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ {\isasymsigma}xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ aux{\isadigit{1}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ aux{\isadigit{2}}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}exists{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}fv{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isasymnotin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isasymLongrightarrow}\ X\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ esat\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ X\ {\isasymlongleftrightarrow}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ X{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ assms{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isasymnotin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ X{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isasymsigma}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}of\ {\isasymphi}\ {\isasymsigma}\ {\isachardoublequoteopen}{\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ assms{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isasymnotin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}X\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isasymsigma}\ X{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ x{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}of\ {\isasymphi}\ {\isasymsigma}\ {\isachardoublequoteopen}{\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}def\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}forall{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}fv{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isasymnotin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isasymLongrightarrow}\ X\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ esat\ {\isacharparenleft}{\kern0pt}Forall\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ X\ {\isasymlongleftrightarrow}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ X{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}exists{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}fv{\isacharbrackleft}{\kern0pt}of\ n\ {\isachardoublequoteopen}Neg\ {\isasymphi}{\isachardoublequoteclose}\ X\ I\ {\isasymsigma}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}sat{\isacharunderscore}{\kern0pt}vals{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}sat\ {\isasymphi}\ I\ {\isacharequal}{\kern0pt}\isanewline
\ \ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ sat\ {\isasymphi}\ I\ {\isasymsigma}{\isacharbraceright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}sat{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}Pred{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}remdups{\isacharunderscore}{\kern0pt}adj\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}remdups{\isacharunderscore}{\kern0pt}adj{\isacharunderscore}{\kern0pt}sort\ remdups{\isacharunderscore}{\kern0pt}adj{\isacharunderscore}{\kern0pt}distinct\ sorted{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}id{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}map\ set{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ X\ {\isasymLongrightarrow}\isanewline
\ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymodot}e\ ts{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymtau}\ {\isasymodot}e\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ t\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ IH{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymodot}e\ ts{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymtau}\ {\isasymodot}e\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ \ \ \ \ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}{\kern0pt}\ i\ {\isasymin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term{\isacharunderscore}{\kern0pt}set\ t\ {\isasymunion}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term{\isacharunderscore}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ set\ ts{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ i{\isacharcomma}{\kern0pt}\ {\isasymtau}\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ \ \ \ \ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}i\ j{\isachardot}{\kern0pt}\ i\ {\isasymin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term{\isacharunderscore}{\kern0pt}set\ t\ {\isasymunion}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term{\isacharunderscore}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ set\ ts{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ j\ {\isasymin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term{\isacharunderscore}{\kern0pt}set\ t\ {\isasymunion}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term{\isacharunderscore}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ set\ ts{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ i{\isacharcomma}{\kern0pt}\ {\isasymtau}\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ j{\isacharcomma}{\kern0pt}\ {\isasymtau}\ j{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ \ \ \ \ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Const\ c{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ IH\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ Const\isanewline
\ \ \ \ \ \ \ \ \ \ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ nth{\isacharunderscore}{\kern0pt}map\ rev{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Var\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}def\ {\isacharequal}{\kern0pt}\ Var\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ X\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ n{\isacharcomma}{\kern0pt}\ {\isasymtau}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Var{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}y{\isachardot}{\kern0pt}\ y\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymcdot}e{\isacharparenright}{\kern0pt}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymcdot}e{\isacharparenright}{\kern0pt}\ {\isasymtau}{\isacharparenright}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ y\ {\isasymnoteq}\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ n{\isacharcomma}{\kern0pt}\ {\isasymtau}\ n{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ n{\isacharcomma}{\kern0pt}\ {\isasymtau}\ n{\isacharparenright}{\kern0pt}\ y\ {\isasymand}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ y\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ n{\isacharcomma}{\kern0pt}\ {\isasymtau}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ y\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}y\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymcdot}e{\isacharparenright}{\kern0pt}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymcdot}e{\isacharparenright}{\kern0pt}\ {\isasymtau}{\isacharparenright}{\kern0pt}\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ t{\isacharprime}{\kern0pt}\ \isakeyword{where}\ y{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t{\isacharprime}{\kern0pt}\ {\isasymin}\ set\ ts{\isachardoublequoteclose}\ {\isachardoublequoteopen}y\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymcdot}e\ t{\isacharprime}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymtau}\ {\isasymcdot}e\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ nth{\isacharunderscore}{\kern0pt}mem\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\ blast\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ n{\isacharcomma}{\kern0pt}\ {\isasymtau}\ n{\isacharparenright}{\kern0pt}\ y\ {\isasymand}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ y\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ n{\isacharcomma}{\kern0pt}\ {\isasymtau}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Const\ c{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ c{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}X{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}c{\isacharprime}{\kern0pt}\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ y{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Const{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}meson\ SUP{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}iff\ fo{\isacharunderscore}{\kern0pt}term{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}intros\ subsetD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharbrackleft}{\kern0pt}of\ n{\isacharbrackright}{\kern0pt}\ y{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Const\ t{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ fastforce{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ rev{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Var\ n{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharbrackleft}{\kern0pt}of\ n\ n{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ y{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ y{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def\ Var{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ IH\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ Var\ ad\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ pairwise{\isacharunderscore}{\kern0pt}insert{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}S{\isasymphi}\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ AD{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I\ {\isasymsubseteq}\ AD{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD{\isasymphi}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X{\isasymphi}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasymphi}\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ S{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ sd{\isacharunderscore}{\kern0pt}ns{\isasympsi}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ fv{\isacharunderscore}{\kern0pt}Un{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasympsi}\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isasymunion}\ set\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ AD{\isasymphi}{\isacharparenright}{\kern0pt}\ X{\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ S{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ AD{\isasymphi}{\isacharparenright}{\kern0pt}\ X{\isasymphi}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ S{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}{\isasymphi}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}{\isasymsigma}\ {\isasymtau}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD{\isasymphi}\ {\isasymsigma}\ {\isasymtau}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ {\isasymsigma}\ {\isasymin}\ S{\isasymphi}\ {\isasymlongleftrightarrow}\ {\isasymtau}\ {\isasymin}\ S{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}restrict{\isacharcomma}{\kern0pt}\ OF\ {\isacharunderscore}{\kern0pt}\ subset{\isacharunderscore}{\kern0pt}refl{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}mono\ AD{\isacharunderscore}{\kern0pt}sub\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}alt{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ AD{\isasymphi}{\isacharparenright}{\kern0pt}\ X{\isasymphi}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ S{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}correct{\isacharbrackleft}{\kern0pt}OF\ AD{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}{\isasymphi}{\isacharbrackright}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ Set{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}{\isasymphi}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}Un\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ sd{\isacharunderscore}{\kern0pt}ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sd{\isacharunderscore}{\kern0pt}ns{\isasympsi}\ sorted{\isacharunderscore}{\kern0pt}filter{\isacharbrackleft}{\kern0pt}of\ id{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ AD{\isasymphi}{\isacharparenright}{\kern0pt}\ X{\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ S{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}correct{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\ ad{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}alt\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}{\isasymphi}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ AD{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ fv{\isacharunderscore}{\kern0pt}Un\ sd{\isacharunderscore}{\kern0pt}ns{\isasymphi}{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}S{\isasymphi}\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ AD{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X{\isasymphi}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ S{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ sd{\isacharunderscore}{\kern0pt}ns{\isasympsi}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ fv{\isacharunderscore}{\kern0pt}Un{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasympsi}\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isasymunion}\ set\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ Z{\isacharunderscore}{\kern0pt}props{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}xs{\isachardot}{\kern0pt}\ xs\ {\isasymin}\ Z\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs\ {\isasymand}\ length\ xs\ {\isacharequal}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Z\ {\isasyminter}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ X{\isasymphi}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharbraceleft}{\kern0pt}xs\ {\isasymin}\ Z{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ X{\isasymphi}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}Z\ {\isacharminus}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ X{\isasymphi}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharbraceleft}{\kern0pt}xs\ {\isasymin}\ Z{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ X{\isasymphi}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}{\isasymphi}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}{\isasymsigma}\ {\isasymtau}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD\ {\isasymsigma}\ {\isasymtau}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ {\isasymsigma}\ {\isasymin}\ S{\isasymphi}\ {\isasymlongleftrightarrow}\ {\isasymtau}\ {\isasymin}\ S{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}restrict{\isacharcomma}{\kern0pt}\ OF\ {\isacharunderscore}{\kern0pt}\ subset{\isacharunderscore}{\kern0pt}refl{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}mono\ AD{\isacharunderscore}{\kern0pt}sub\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ sd{\isacharunderscore}{\kern0pt}ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sd{\isacharunderscore}{\kern0pt}ns{\isasympsi}\ sorted{\isacharunderscore}{\kern0pt}filter{\isacharbrackleft}{\kern0pt}of\ id{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ disj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ set\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ Un{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isasymunion}\ set\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}Un\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ proj\ {\isacharequal}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}correct{\isacharbrackleft}{\kern0pt}OF\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\ sd{\isacharunderscore}{\kern0pt}ns{\isasymphi}{\isacharprime}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ \ \ disj\ Un\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}{\isasymphi}{\isacharcomma}{\kern0pt}\ simplified{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ X{\isasymphi}\ {\isacharequal}{\kern0pt}\ X{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ image{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ aux{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ X{\isasymphi}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple\ AD\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ X{\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}Z\ {\isasyminter}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ X{\isasymphi}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharbraceleft}{\kern0pt}xs\ {\isasymin}\ Z{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ X{\isasymphi}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Z{\isacharunderscore}{\kern0pt}props\ proj\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ aux{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}Z\ {\isacharminus}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ X{\isasymphi}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharbraceleft}{\kern0pt}xs\ {\isasymin}\ Z{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ X{\isasymphi}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Z{\isacharunderscore}{\kern0pt}props\ proj\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ aux{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ R\ {\isasymsubseteq}\ nall{\isacharunderscore}{\kern0pt}tuples\ AD\ {\isacharparenleft}{\kern0pt}nfv\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound\ nfv{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ intro{\isacharcolon}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuplesI{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fin{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}iff{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ AD\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharparenright}{\kern0pt}\ set{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymAnd}vs{\isachardot}{\kern0pt}\ vs\ {\isasymin}\ Z\ {\isasymLongrightarrow}\ length\ vs\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}Z\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}ts{\isachardot}{\kern0pt}\ {\isasymexists}ts{\isacharprime}{\kern0pt}\ {\isasymin}\ X{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ Inl\ ts{\isacharparenright}{\kern0pt}\ ts{\isacharprime}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}finite\ Z\ {\isasymlongleftrightarrow}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ Z{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ iffI{\isacharcomma}{\kern0pt}\ rule\ ccontr{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ fin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ Z{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}{\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ Z{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ i\ vs\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ {\isasymsigma}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}\ {\isasymin}\ Z{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ n{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymsigma}\ i\ {\isasymnotin}\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}vs\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ vs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}nth{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ map{\isacharunderscore}{\kern0pt}map\ map{\isacharunderscore}{\kern0pt}nth{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ Y\ \isakeyword{where}\ {\isachardoublequoteopen}Y\ {\isasymequiv}\ AD\ {\isasymunion}\ {\isasymsigma}\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ inf{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}Y{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}infinite\ {\isacharparenleft}{\kern0pt}UNIV\ {\isacharminus}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Y{\isacharunderscore}{\kern0pt}def\ infinite{\isacharunderscore}{\kern0pt}UNIV{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}y{\isachardot}{\kern0pt}\ y\ {\isasymnotin}\ Y\ {\isasymLongrightarrow}\ map\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}z{\isachardot}{\kern0pt}\ if\ z\ {\isacharequal}{\kern0pt}\ {\isasymsigma}\ i\ then\ y\ else\ z{\isacharparenright}{\kern0pt}\ {\isasymcirc}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}\ {\isasymin}\ Z{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ bexI{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip\ Y{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ map\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}z{\isachardot}{\kern0pt}\ if\ z\ {\isacharequal}{\kern0pt}\ {\isasymsigma}\ i\ then\ x{\isacharprime}{\kern0pt}\ else\ z{\isacharparenright}{\kern0pt}\ {\isasymcirc}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}UNIV\ {\isacharminus}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ Z{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}inj\ {\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ map\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}z{\isachardot}{\kern0pt}\ if\ z\ {\isacharequal}{\kern0pt}\ {\isasymsigma}\ i\ then\ x{\isacharprime}{\kern0pt}\ else\ z{\isacharparenright}{\kern0pt}\ {\isasymcirc}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ inf{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}Y\ fin\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}diff\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}finite{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ Z{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Z\ {\isasymsubseteq}\ all{\isacharunderscore}{\kern0pt}tuples\ AD\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ all{\isacharunderscore}{\kern0pt}tuplesI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ Z{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ all{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}finite{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}subset\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}out{\isacharunderscore}{\kern0pt}list{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ AD\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharparenright}{\kern0pt}\ set{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ {\isasymsigma}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ ns\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nat\ list{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ AD{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}{\isasymtau}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymtau}{\isacharparenright}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}j\ x{\isachardot}{\kern0pt}\ j\ {\isasymin}\ set\ ns\ {\isasymlongrightarrow}\ {\isasymsigma}\ j\ {\isacharequal}{\kern0pt}\ Inl\ x\ {\isasymlongrightarrow}\ {\isasymtau}\ j\ {\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}AD\ {\isasymunion}\ Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}Inl{\isacharbrackleft}{\kern0pt}OF\ finite{\isacharunderscore}{\kern0pt}set{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ f\ \isakeyword{where}\ f{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inj\ {\isacharparenleft}{\kern0pt}f\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}range\ f\ {\isasymsubseteq}\ UNIV\ {\isacharminus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD\ {\isasymunion}\ Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ arb{\isacharunderscore}{\kern0pt}countable{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ fin{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isachardoublequoteopen}{\isasymtau}\ {\isacharequal}{\kern0pt}\ case{\isacharunderscore}{\kern0pt}sum\ id\ f\ {\isasymcirc}\ {\isasymsigma}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}out{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}i\ x{\isachardot}{\kern0pt}\ i\ {\isacharless}{\kern0pt}\ length\ ns\ {\isasymLongrightarrow}\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}ns\ {\isacharbang}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Inl\ {\isacharparenleft}{\kern0pt}f\ x{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ False{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ vimage{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ DiffE\ UNIV{\isacharunderscore}{\kern0pt}I\ UnCI\ imageI\ image{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}iff\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\ nth{\isacharunderscore}{\kern0pt}mem{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymtau}{\isacharparenright}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ a\ b\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ f{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ f{\isacharunderscore}{\kern0pt}out\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\ inj{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isasymtau}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}out{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ J\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}intp{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isasymphi}\ I{\isachardoublequoteclose}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}{\isasymtau}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymtau}{\isacharparenright}{\kern0pt}\ UNIV\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}i\ x{\isachardot}{\kern0pt}\ i\ {\isasymin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isasymand}\ {\isasymsigma}\ i\ {\isacharequal}{\kern0pt}\ Inl\ x\ {\isasymlongrightarrow}\ {\isasymtau}\ i\ {\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymtau}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}out{\isacharunderscore}{\kern0pt}list{\isacharbrackleft}{\kern0pt}OF\ finite{\isacharunderscore}{\kern0pt}act{\isacharunderscore}{\kern0pt}edom{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ of\ {\isasymsigma}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ subset{\isacharunderscore}{\kern0pt}refl{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{unfolding}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}esat{\isacharunderscore}{\kern0pt}sat{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{and}\ J\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}intp{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ wf{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ map\ Inl\ {\isacharbackquote}{\kern0pt}\ UNIV\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ map\ Inl\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ sat\ {\isasymphi}\ I\ {\isasymsigma}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ sat{\isacharunderscore}{\kern0pt}esat{\isacharunderscore}{\kern0pt}conv{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharbrackright}{\kern0pt}\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ set{\isacharunderscore}{\kern0pt}eqI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ map\ Inl\ {\isacharbackquote}{\kern0pt}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}set\ vs\ {\isasymsubseteq}\ range\ Inl{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ image{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}iff\ list{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}map\ range{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymtau}{\isacharparenright}{\kern0pt}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}i\ x{\isachardot}{\kern0pt}\ i\ {\isasymin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isasymLongrightarrow}\ {\isasymsigma}\ i\ {\isacharequal}{\kern0pt}\ Inl\ x\ {\isasymLongrightarrow}\ {\isasymtau}\ i\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}out{\isacharbrackleft}{\kern0pt}OF\ assms\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ map\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymtau}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ map\ Inl\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ norm{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}esat{\isacharunderscore}{\kern0pt}sat{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ map\ Inl\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ sat\ {\isasymphi}\ I\ {\isasymsigma}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}esat{\isacharunderscore}{\kern0pt}sat{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharcomma}{\kern0pt}\ symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ image{\isacharunderscore}{\kern0pt}iff\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ {\isasymsigma}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}out{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharcomma}{\kern0pt}\ of\ {\isasymsigma}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ {\isasymtau}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ bexI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}map\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymtau}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ map{\isacharunderscore}{\kern0pt}map\ range{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}sat{\isacharunderscore}{\kern0pt}fmla{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}sat\ {\isasymphi}\ I\ {\isacharequal}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ sat\ {\isasymphi}\ I\ {\isasymsigma}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}sat{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}wf\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}b\ {\isasymtimes}\ nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ list\ set{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ finite\ AD\ {\isasymand}\ finite\ X\ {\isasymand}\ n\ {\isacharequal}{\kern0pt}\ nfv\ {\isasymphi}\ {\isasymand}\isanewline
\ \ \ \ wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isasymphi}\ I\ {\isasymand}\ AD\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I\ {\isasymand}\ fo{\isacharunderscore}{\kern0pt}rep\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}sat\ {\isasymphi}\ I\ {\isasymand}\isanewline
\ \ \ \ Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ AD\ {\isasymand}\ {\isacharparenleft}{\kern0pt}{\isasymforall}vs\ {\isasymin}\ X{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ vs\ {\isasymand}\ length\ vs\ {\isacharequal}{\kern0pt}\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}fin\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}fin\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ isl\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}rep{\isacharunderscore}{\kern0pt}fin{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}fin\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}rep\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ projl\ {\isacharbackquote}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ set{\isacharunderscore}{\kern0pt}eqI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}rep\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ xs\ \isakeyword{where}\ xs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isasymin}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ Inl\ vs{\isacharparenright}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ zs\ \isakeyword{where}\ zs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ map\ Inl\ zs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ {\isacharparenleft}{\kern0pt}meson\ ex{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}conv\ isl{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set\ zs\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ zs{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp{\isacharcolon}{\kern0pt}\ vimage{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}zs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ zs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ zs{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ nth{\isacharunderscore}{\kern0pt}equalityI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ map\ projl\ {\isacharbackquote}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ zs{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ image{\isacharunderscore}{\kern0pt}iff\ comp{\isacharunderscore}{\kern0pt}def\ vs{\isacharunderscore}{\kern0pt}zs\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ bexI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}map\ Inl\ zs{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ map\ projl\ {\isacharbackquote}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ xs\ \isakeyword{where}\ xs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isasymin}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ map\ projl\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}Inl{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ map\ Inl\ vs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ xs{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ map{\isacharunderscore}{\kern0pt}idI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}rep\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ xs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ xs{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}Inl\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ bexI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ xs{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}refl{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}abs\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ table{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}intp\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}abs\ {\isasymphi}\ I\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isacharcomma}{\kern0pt}\ nfv\ {\isasymphi}{\isacharcomma}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}projl{\isacharunderscore}{\kern0pt}Inl{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ projl\ {\isacharparenleft}{\kern0pt}map\ Inl\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}mono{\isacharunderscore}{\kern0pt}tags{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ length{\isacharunderscore}{\kern0pt}map\ nth{\isacharunderscore}{\kern0pt}equalityI\ nth{\isacharunderscore}{\kern0pt}map\ sum{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}rep{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}abs{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}rep\ {\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}abs\ {\isasymphi}\ I{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}sat\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ AD\ n\ X\ \isakeyword{where}\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}abs\ {\isasymphi}\ I\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ nfv\ {\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}abs\ {\isasymphi}\ I{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}abs{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ map\ Inl\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ sat\ {\isasymphi}\ I\ {\isasymsigma}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\ norm{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}esat{\isacharunderscore}{\kern0pt}sat{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}ts{\isachardot}{\kern0pt}\ {\isasymexists}ts{\isacharprime}{\kern0pt}\ {\isasymin}\ X{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ Inl\ ts{\isacharparenright}{\kern0pt}\ ts{\isacharprime}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ sat\ {\isasymphi}\ I\ {\isasymsigma}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ set{\isacharunderscore}{\kern0pt}eqI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}ts{\isachardot}{\kern0pt}\ {\isasymexists}ts{\isacharprime}{\kern0pt}\ {\isasymin}\ X{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ Inl\ ts{\isacharparenright}{\kern0pt}\ ts{\isacharprime}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ vs{\isacharprime}{\kern0pt}\ \isakeyword{where}\ vs{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs{\isacharprime}{\kern0pt}\ {\isasymin}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ sat\ {\isasymphi}\ I\ {\isasymsigma}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ Inl\ vs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ Inl\ vs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}length\ vs\ {\isacharequal}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ vs{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isachardoublequoteclose}\ vs{\isacharbrackright}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ Inl\ vs{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ vs{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\ map{\isacharunderscore}{\kern0pt}map\ vs{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ Inl\ vs{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}sat\ {\isasymphi}\ I\ {\isasymtau}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ vs{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\ map{\isacharunderscore}{\kern0pt}map\ map{\isacharunderscore}{\kern0pt}projl{\isacharunderscore}{\kern0pt}Inl{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ esat{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isasymtau}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharprime}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}sub{\isacharcomma}{\kern0pt}\ folded\ sat{\isacharunderscore}{\kern0pt}esat{\isacharunderscore}{\kern0pt}conv{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ sat\ {\isasymphi}\ I\ {\isasymsigma}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr\ AD{\isacharunderscore}{\kern0pt}sub{\isacharcomma}{\kern0pt}\ folded\ sat{\isacharunderscore}{\kern0pt}esat{\isacharunderscore}{\kern0pt}conv{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ esat\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ sat\ {\isasymphi}\ I\ {\isasymsigma}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}X{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ Inl\ vs{\isacharparenright}{\kern0pt}\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}ts{\isachardot}{\kern0pt}\ {\isasymexists}ts{\isacharprime}{\kern0pt}\ {\isasymin}\ X{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ Inl\ ts{\isacharparenright}{\kern0pt}\ ts{\isacharprime}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}sat{\isacharunderscore}{\kern0pt}fmla{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}abs{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}abs\ {\isasymphi}\ I{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}set{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}act{\isacharunderscore}{\kern0pt}edom{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ finite{\isacharunderscore}{\kern0pt}subset{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}sub{\isacharcomma}{\kern0pt}\ OF\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}finite{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ fo{\isacharunderscore}{\kern0pt}rep{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}abs{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharbrackright}{\kern0pt}\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}abs{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length\ nfv{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}sat{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}fin{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ t\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ t{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}fin\ t\ {\isacharequal}{\kern0pt}\ finite\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}rep\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ AD\ n\ X\ \isakeyword{where}\ t{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}X{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}vs{\isachardot}{\kern0pt}\ vs\ {\isasymin}\ X\ {\isasymLongrightarrow}\ length\ vs\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ Inl{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}AD{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ Inl\ x\ {\isasymin}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ x\ {\isasymin}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ Z\ \isakeyword{where}\ {\isachardoublequoteopen}Z\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}ts{\isachardot}{\kern0pt}\ {\isasymexists}ts{\isacharprime}{\kern0pt}\ {\isasymin}\ X{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ Inl\ ts{\isacharparenright}{\kern0pt}\ ts{\isacharprime}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fin{\isacharunderscore}{\kern0pt}Z{\isacharunderscore}{\kern0pt}iff{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ Z\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ Z{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ AD{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ fin{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}iff{\isacharbrackleft}{\kern0pt}OF\ fin{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ Z{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ of\ n{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Z{\isacharunderscore}{\kern0pt}def\ t{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ Z{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ AD{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ isl\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ iffI{\isacharcomma}{\kern0pt}\ rule\ ccontr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ Z{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}AD{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ Z{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}{\isacharparenleft}{\kern0pt}{\isasymforall}x\ {\isasymin}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ isl\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ vs\ i\ m\ \isakeyword{where}\ vs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isasymin}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ n{\isachardoublequoteclose}\ {\isachardoublequoteopen}vs\ {\isacharbang}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ Inr\ m{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}X\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}nth{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ sum{\isachardot}{\kern0pt}collapse{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\ vs{\isacharbrackright}{\kern0pt}\ len{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}X{\isacharbrackleft}{\kern0pt}OF\ vs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ vs\ {\isacharparenleft}{\kern0pt}map\ Inl\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}out{\isacharunderscore}{\kern0pt}list{\isacharbrackleft}{\kern0pt}OF\ fin{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ of\ {\isasymsigma}\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}Z{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ {\isasymtau}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}\ {\isasymin}\ Z{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm{\isacharbrackleft}{\kern0pt}OF\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Z{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymtau}\ i\ {\isasymnotin}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\ vs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip\ comp{\isacharunderscore}{\kern0pt}def\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ Inl{\isacharunderscore}{\kern0pt}Inr{\isacharunderscore}{\kern0pt}False\ diff{\isacharunderscore}{\kern0pt}zero\ image{\isacharunderscore}{\kern0pt}iff\ length{\isacharunderscore}{\kern0pt}upt\ nth{\isacharunderscore}{\kern0pt}map\ nth{\isacharunderscore}{\kern0pt}upt\isanewline
\ \ \ \ \ \ \ \ \ \ plus{\isacharunderscore}{\kern0pt}nat{\isachardot}{\kern0pt}add{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ Z{\isacharunderscore}{\kern0pt}sub{\isacharunderscore}{\kern0pt}AD\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ isl\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ Z{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Inl{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}AD\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Z{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}nth{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ image{\isacharunderscore}{\kern0pt}eqI\ isl{\isacharunderscore}{\kern0pt}def\ nth{\isacharunderscore}{\kern0pt}map\ nth{\isacharunderscore}{\kern0pt}mem{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def\ Z{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}pred{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ I\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}b\ {\isasymtimes}\ nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite\ list\ set{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}I\ {\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ length\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isacharparenleft}{\kern0pt}Pred\ r\ ts{\isacharparenright}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}pred\ ts\ {\isacharparenleft}{\kern0pt}I\ {\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ length\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ {\isasymphi}\ \isakeyword{where}\ {\isachardoublequoteopen}{\isasymphi}\ {\isacharequal}{\kern0pt}\ Pred\ r\ ts{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ nfv{\isacharunderscore}{\kern0pt}len{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nfv\ {\isasymphi}\ {\isacharequal}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymphi}{\isacharunderscore}{\kern0pt}def\ nfv{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}Pred{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ vimage{\isacharunderscore}{\kern0pt}unfold{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}x{\isasymin}I\ {\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ length\ ts{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ Inl\ {\isacharbackquote}{\kern0pt}\ set\ x{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ length\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}table\ ts\ {\isacharparenleft}{\kern0pt}map\ Inl\ {\isacharbackquote}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ length\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ nall{\isacharunderscore}{\kern0pt}tuples\ {\isacharparenleft}{\kern0pt}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}nfv\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymphi}{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}table\ nfv{\isacharunderscore}{\kern0pt}len{\isacharbrackleft}{\kern0pt}unfolded\ {\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}list\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ vimage{\isacharunderscore}{\kern0pt}unfold\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuplesI\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}all{\isacharunderscore}{\kern0pt}AD\ dest{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term{\isacharunderscore}{\kern0pt}setD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}smt\ UN{\isacharunderscore}{\kern0pt}I\ Un{\isacharunderscore}{\kern0pt}iff\ eval{\isacharunderscore}{\kern0pt}eterm{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ imageE\ image{\isacharunderscore}{\kern0pt}eqI\ list{\isachardot}{\kern0pt}set{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ eval{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}pred\ ts\ {\isacharparenleft}{\kern0pt}I\ {\isacharparenleft}{\kern0pt}r{\isacharcomma}{\kern0pt}\ length\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}abs\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}abs{\isacharunderscore}{\kern0pt}def\ {\isasymphi}{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}pred{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}table\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}Pred\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}set\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem\ nfv{\isacharunderscore}{\kern0pt}len{\isacharbrackleft}{\kern0pt}unfolded\ {\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isacharparenleft}{\kern0pt}Pred\ r\ ts{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}abs{\isacharbrackleft}{\kern0pt}OF\ fin{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval\ {\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}eval{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}map\ set{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ AD\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymodot}e\ ts{\isacharparenright}{\kern0pt}\ zs\ {\isasymLongrightarrow}\isanewline
\ \ {\isasymexists}{\isasymtau}{\isachardot}{\kern0pt}\ zs\ {\isacharequal}{\kern0pt}\ {\isasymtau}\ {\isasymodot}e\ ts{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ ts\ arbitrary{\isacharcolon}{\kern0pt}\ zs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Cons\ t\ ts{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ w\ ws\ \isakeyword{where}\ zs{\isacharunderscore}{\kern0pt}split{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}zs\ {\isacharequal}{\kern0pt}\ w\ {\isacharhash}{\kern0pt}\ ws{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ zs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ws\ {\isacharequal}{\kern0pt}\ {\isasymtau}\ {\isasymodot}e\ ts{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ zs{\isacharunderscore}{\kern0pt}split\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Const\ c{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ zs{\isacharunderscore}{\kern0pt}split{\isacharbrackright}{\kern0pt}\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ Const\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ zs{\isacharunderscore}{\kern0pt}split\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Var\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}n\ {\isasymin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set\ ts{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ i\ \isakeyword{where}\ i{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length\ ts{\isachardoublequoteclose}\ {\isachardoublequoteopen}ts\ {\isacharbang}{\kern0pt}\ i\ {\isacharequal}{\kern0pt}\ Var\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}nth\ dest{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}term{\isacharunderscore}{\kern0pt}setD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isacharequal}{\kern0pt}\ {\isasymtau}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cons{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ zs{\isacharunderscore}{\kern0pt}split\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\ i{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ pairwiseD{\isacharbrackleft}{\kern0pt}of\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymsigma}\ n{\isacharcomma}{\kern0pt}\ w{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymcdot}e\ {\isacharparenleft}{\kern0pt}ts\ {\isacharbang}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ {\isasymtau}\ {\isasymcdot}e\ {\isacharparenleft}{\kern0pt}ts\ {\isacharbang}{\kern0pt}\ i{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp{\isacharcolon}{\kern0pt}\ Var\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Var\ zs{\isacharunderscore}{\kern0pt}split\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ws\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymtau}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ w{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymodot}e\ ts{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}of\ ts\ {\isasymtau}\ {\isachardoublequoteopen}{\isasymtau}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ w{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ zs{\isacharunderscore}{\kern0pt}split\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ Var\ fun{\isacharunderscore}{\kern0pt}upd{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}{\isasymtau}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ w{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymodot}e\ ts{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymtau}\ {\isasymodot}e\ ts{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymodot}e\ {\isacharparenleft}{\kern0pt}map\ Var\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymtau}\ {\isasymodot}e\ {\isacharparenleft}{\kern0pt}map\ Var\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ assms{\isacharbrackleft}{\kern0pt}unfolded\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}list\ dest{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}setD{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ comp{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ {\isacharparenleft}{\kern0pt}{\isasymsigma}\ {\isasymodot}e\ ts{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymtau}\ {\isasymodot}e\ ts{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ X\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ set{\isacharunderscore}{\kern0pt}zip{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ opaque{\isacharunderscore}{\kern0pt}lifting{\isacharparenright}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterm{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}setD\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ \ \ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}nth\ nth{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}bool{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isacharparenleft}{\kern0pt}Bool\ b{\isacharparenright}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}bool\ b{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}bool{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}def\ nats{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def\ List{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}simps\isanewline
\ \ \ \ \ \ proj{\isacharunderscore}{\kern0pt}sat{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ nfv{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ \isakeyword{fixes}\ I\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}b\ {\isasymtimes}\ nat\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite\ list\ set{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isacharparenleft}{\kern0pt}Eqa\ t\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}eq\ t\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\ \isakeyword{where}\ {\isachardoublequoteopen}{\isasymphi}\ {\isacharequal}{\kern0pt}\ Eqa\ t\ t{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ AD\ n\ X\ \isakeyword{where}\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}eq\ t\ t{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}eq\ t\ t{\isacharprime}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}def\ {\isasymphi}{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}term{\isachardot}{\kern0pt}splits\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ n{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ nfv\ {\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharsemicolon}{\kern0pt}\ cases\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymphi}{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}def\ nfv{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ set{\isacharunderscore}{\kern0pt}eqI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{define}\isamarkupfalse%
\ pes\ \isakeyword{where}\ {\isachardoublequoteopen}pes\ {\isacharequal}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}c\ c{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ t\ {\isacharequal}{\kern0pt}\ Const\ c\ {\isasymand}\ t{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Const\ c{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ pes\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ c\ {\isacharequal}{\kern0pt}\ c{\isacharprime}{\kern0pt}\ then\ {\isacharbraceleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ else\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymphi}{\isacharunderscore}{\kern0pt}def\ pes{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}c\ n{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}t\ {\isacharequal}{\kern0pt}\ Const\ c\ {\isasymand}\ t{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Var\ n{\isacharparenright}{\kern0pt}\ {\isasymor}\ {\isacharparenleft}{\kern0pt}t{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Const\ c\ {\isasymand}\ t\ {\isacharequal}{\kern0pt}\ Var\ n{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ pes\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}Inl\ c{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymphi}{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}def\ pes{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}Cons\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ image{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}n{\isachardot}{\kern0pt}\ t\ {\isacharequal}{\kern0pt}\ Var\ n\ {\isasymLongrightarrow}\ t{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Var\ n\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ pes\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}Inr\ {\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymphi}{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}def\ pes{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}Cons\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ image{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}n\ n{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ t\ {\isacharequal}{\kern0pt}\ Var\ n\ {\isasymLongrightarrow}\ t{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Var\ n{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\ n\ {\isasymnoteq}\ n{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ pes\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}Inr\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ Inr\ {\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymphi}{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}def\ pes{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}Cons\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ i\ i{\isacharprime}{\kern0pt}\ {\isasymsigma}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}{\isasymsigma}\ i{\isacharprime}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ i\ i{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ image{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}def\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}Inr\ {\isadigit{0}}{\isacharcomma}{\kern0pt}\ Inr\ {\isadigit{0}}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ pes{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assm\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharsemicolon}{\kern0pt}\ cases\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Eqa\ t\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assm\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymphi}{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharsemicolon}{\kern0pt}\ cases\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymphi}{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}Cons\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}Cons{\isacharunderscore}{\kern0pt}Cons\isanewline
\ \ \ \ \ \ \ \ \ \ split{\isacharcolon}{\kern0pt}\ sum{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ eval{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}eq\ t\ t{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}abs\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}unfolded\ AD{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}abs{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}def\ n{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}abs{\isacharbrackleft}{\kern0pt}OF\ fin{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval\ {\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}Var{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}rec\ {\isacharparenleft}{\kern0pt}map\ Var\ ns{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ ns{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ ns{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}Var{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymodot}e\ map\ Var\ ns\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ ns{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}table{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ AD\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}table\ {\isacharparenleft}{\kern0pt}map\ Var\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}sup{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Inl\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}set\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fvs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}map\ Var\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}terms{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}Var\ remdups{\isacharunderscore}{\kern0pt}adj{\isacharunderscore}{\kern0pt}distinct{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}vs{\isachardot}{\kern0pt}\ vs\ {\isasymin}\ X\ {\isasymLongrightarrow}\ length\ vs\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}map{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}vs{\isachardot}{\kern0pt}\ vs\ {\isasymin}\ X\ {\isasymLongrightarrow}\ {\isasymexists}{\isasymsigma}{\isachardot}{\kern0pt}\ vs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}X{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ {\isasymsigma}\ {\isasymodot}e\ map\ Var\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}\ {\isasymin}\ X{\isacharbraceright}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}eterms{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}Var\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}table\ {\isacharparenleft}{\kern0pt}map\ Var\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}table\ fvs\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}X\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem\ image{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}rep{\isacharunderscore}{\kern0pt}norm{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ AD\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharparenright}{\kern0pt}\ set{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ map\ Inl\ {\isacharbackquote}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}rep\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ set{\isacharunderscore}{\kern0pt}eqI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}in{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fin{\isacharunderscore}{\kern0pt}AD{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}vs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ vs\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}in\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ vs\ {\isacharparenleft}{\kern0pt}map\ Inl\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}out{\isacharunderscore}{\kern0pt}list{\isacharbrackleft}{\kern0pt}OF\ fin{\isacharunderscore}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ of\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharbang}{\kern0pt}{\isacharparenright}{\kern0pt}\ vs{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}length\ vs{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ unfolded\ map{\isacharunderscore}{\kern0pt}nth{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ len{\isacharunderscore}{\kern0pt}vs{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharunderscore}{\kern0pt}in{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ {\isasymtau}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}rep\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}in\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm{\isacharbrackleft}{\kern0pt}OF\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ Inl\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharbrackleft}{\kern0pt}OF\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem\ vs{\isacharunderscore}{\kern0pt}in\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ map\ Inl\ {\isacharbackquote}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}rep\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharunderscore}{\kern0pt}in\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ map\ Inl\ {\isacharbackquote}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}rep\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ xs\ xs{\isacharprime}{\kern0pt}\ \isakeyword{where}\ vs{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs{\isacharprime}{\kern0pt}\ {\isasymin}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ Inl\ xs{\isacharparenright}{\kern0pt}\ xs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ Inl\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharbrackleft}{\kern0pt}OF\ vs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ xs{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}X{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ wf{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fin{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ wf\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ wf\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}wf{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ wf\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}rep{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}rep\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ sat\ {\isasymphi}\ I\ {\isasymsigma}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ wf\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}sat{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}rep{\isacharunderscore}{\kern0pt}norm{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}wf{\isacharbrackright}{\kern0pt}\ norm{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}esat{\isacharunderscore}{\kern0pt}sat{\isacharbrackleft}{\kern0pt}OF\ fin{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}rep\ AD{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}neg{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ wf{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ t{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}neg\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ AD\ n\ X\ \isakeyword{where}\ t{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}neg{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}neg\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ nfv\ {\isasymphi}{\isacharcomma}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples\ AD\ {\isacharparenleft}{\kern0pt}nfv\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def\ nfv{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}unfold{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ nfv{\isacharunderscore}{\kern0pt}unfold{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}nfv\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ nfv\ {\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ nfv{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ wf\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}X{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharbrackleft}{\kern0pt}unfolded\ t{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}iff{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}vs{\isachardot}{\kern0pt}\ vs\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples\ AD\ {\isacharparenleft}{\kern0pt}nfv\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ vs\ {\isasymnotin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ iffI{\isacharsemicolon}{\kern0pt}\ rule\ ccontr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}vs\ {\isasymnotin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}{\isacharprime}{\kern0pt}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV\ {\isacharequal}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}{\isacharprime}{\kern0pt}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}restrict{\isacharbrackleft}{\kern0pt}OF\ iffD{\isadigit{2}}{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqD{\isacharbrackleft}{\kern0pt}OF\ trans{\isacharbrackleft}{\kern0pt}OF\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assms{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isasymnotin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}vs\ {\isasymnotin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ nall{\isacharunderscore}{\kern0pt}tuples\ AD\ {\isacharparenleft}{\kern0pt}nfv\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ l{\isacharunderscore}{\kern0pt}vs{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ vs\ {\isacharequal}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ vs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ nfv{\isacharunderscore}{\kern0pt}def\ dest{\isacharcolon}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuplesD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ l{\isacharunderscore}{\kern0pt}vs\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\ exists{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd\ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ assms\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}R{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ R\ {\isasymsubseteq}\ nall{\isacharunderscore}{\kern0pt}tuples\ AD\ {\isacharparenleft}{\kern0pt}nfv\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map\ nfv{\isacharunderscore}{\kern0pt}def\ nall{\isacharunderscore}{\kern0pt}tuplesI\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ eval{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}neg\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t\ {\isacharequal}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}abs\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}neg\ eval{\isacharunderscore}{\kern0pt}abs{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ X{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}unfold\ nfv{\isacharunderscore}{\kern0pt}unfold\ image{\isacharunderscore}{\kern0pt}subset{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ wf{\isacharunderscore}{\kern0pt}neg{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isacharparenleft}{\kern0pt}Neg\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ wf\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}abs{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharunderscore}{\kern0pt}neg{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isachardoublequoteopen}cross{\isacharunderscore}{\kern0pt}with\ f\ t\ t{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}xs{\isachardot}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}f\ xs\ {\isacharbackquote}{\kern0pt}\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ mapping{\isacharunderscore}{\kern0pt}join{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}with{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymAnd}x\ x{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ x\ {\isasymin}\ t\ {\isasymLongrightarrow}\ x{\isacharprime}{\kern0pt}\ {\isasymin}\ t{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\ h\ x\ {\isasymnoteq}\ h{\isacharprime}{\kern0pt}\ x{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\ f\ x\ x{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}set{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}idx\ {\isacharparenleft}{\kern0pt}mapping{\isacharunderscore}{\kern0pt}join\ {\isacharparenleft}{\kern0pt}cross{\isacharunderscore}{\kern0pt}with\ f{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}cluster\ {\isacharparenleft}{\kern0pt}Some\ {\isasymcirc}\ h{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}cluster\ {\isacharparenleft}{\kern0pt}Some\ {\isasymcirc}\ h{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ t{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ cross{\isacharunderscore}{\kern0pt}with\ f\ t\ t{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}cross{\isacharunderscore}{\kern0pt}with\ f\ {\isacharbraceleft}{\kern0pt}y\ {\isasymin}\ t{\isachardot}{\kern0pt}\ h\ y\ {\isacharequal}{\kern0pt}\ h\ x{\isacharbraceright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}y\ {\isasymin}\ t{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ h{\isacharprime}{\kern0pt}\ y\ {\isacharequal}{\kern0pt}\ h\ x{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ cross{\isacharunderscore}{\kern0pt}with\ f\ t\ t{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{for}\ t\ t{\isacharprime}{\kern0pt}\ x\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cross{\isacharunderscore}{\kern0pt}with{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}a{\isachardot}{\kern0pt}\ a\ {\isasymin}\ h\ {\isacharbackquote}{\kern0pt}\ t\ {\isasymand}\ a\ {\isasymin}\ h{\isacharprime}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ t{\isacharprime}{\kern0pt}\ {\isasymand}\ z\ {\isasymin}\ cross{\isacharunderscore}{\kern0pt}with\ f\ {\isacharbraceleft}{\kern0pt}y\ {\isasymin}\ t{\isachardot}{\kern0pt}\ h\ y\ {\isacharequal}{\kern0pt}\ a{\isacharbraceright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}y\ {\isasymin}\ t{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ h{\isacharprime}{\kern0pt}\ y\ {\isacharequal}{\kern0pt}\ a{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{if}\ z{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isasymin}\ cross{\isacharunderscore}{\kern0pt}with\ f\ t\ t{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{for}\ z\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ xs\ ys\ \isakeyword{where}\ wit{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isasymin}\ t{\isachardoublequoteclose}\ {\isachardoublequoteopen}ys\ {\isasymin}\ t{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}z\ {\isasymin}\ f\ xs\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ z\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cross{\isacharunderscore}{\kern0pt}with{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ h{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h\ xs\ {\isacharequal}{\kern0pt}\ h{\isacharprime}{\kern0pt}\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ wit{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ wit{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ hys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}h{\isacharprime}{\kern0pt}\ ys\ {\isasymin}\ h\ {\isacharbackquote}{\kern0pt}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ wit{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ h{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}h\ xs{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ wit\ hys\ h\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cross{\isacharunderscore}{\kern0pt}with{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sub\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}transfer\ fixing{\isacharcolon}{\kern0pt}\ f\ h\ h{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ fastforce{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}mono{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isasymsubseteq}\ X{\isacharprime}{\kern0pt}\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlzd\ X\ xs\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlzd\ X{\isacharprime}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}meson\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}def\ order{\isacharunderscore}{\kern0pt}trans{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ idx{\isacharunderscore}{\kern0pt}join{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ X{\isasymphi}{\isacharunderscore}{\kern0pt}props{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}vs{\isachardot}{\kern0pt}\ vs\ {\isasymin}\ X{\isasymphi}\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ vs\ {\isasymand}\ length\ vs\ {\isacharequal}{\kern0pt}\ length\ ns{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ X{\isasympsi}{\isacharunderscore}{\kern0pt}props{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}vs{\isachardot}{\kern0pt}\ vs\ {\isasymin}\ X{\isasympsi}\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ vs\ {\isasymand}\ length\ vs\ {\isacharequal}{\kern0pt}\ length\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ sd{\isacharunderscore}{\kern0pt}ns{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ ns{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ns\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}idx{\isacharunderscore}{\kern0pt}join\ AD\ ns\ ns{\isasymphi}\ X{\isasymphi}\ ns{\isasympsi}\ X{\isasympsi}\ {\isacharequal}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ X{\isasymphi}\ ns{\isasympsi}\ X{\isasympsi}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ect{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ X{\isasymphi}\ {\isasymLongrightarrow}\ x{\isacharprime}{\kern0pt}\ {\isasymin}\ X{\isasympsi}\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ x{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple\ AD\ ns{\isasymphi}\ ns{\isasympsi}\ x\ x{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ {\isachardoublequoteopen}X{\isasymphi}{\isacharprime}{\kern0pt}\ {\isasymsubseteq}\ X{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}X{\isasympsi}{\isacharprime}{\kern0pt}\ {\isasymsubseteq}\ X{\isasympsi}{\isachardoublequoteclose}\ \isakeyword{for}\ X{\isasymphi}{\isacharprime}{\kern0pt}\ X{\isasympsi}{\isacharprime}{\kern0pt}\ \isakeyword{and}\ x\ x{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}empty{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}ns{\isacharequal}{\kern0pt}{\isachardoublequoteopen}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ X{\isasymphi}{\isacharunderscore}{\kern0pt}props\ X{\isasympsi}{\isacharunderscore}{\kern0pt}props\ that\ sd{\isacharunderscore}{\kern0pt}ns\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ cross{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}X{\isasymphi}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ X{\isasymphi}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ cross{\isacharunderscore}{\kern0pt}with\ {\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple\ AD\ ns{\isasymphi}\ ns{\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{for}\ AD\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharprime}{\kern0pt}a\ set{\isachardoublequoteclose}\ \isakeyword{and}\ ns{\isasymphi}\ ns{\isasympsi}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ext{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ cross{\isacharunderscore}{\kern0pt}with{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}idx{\isacharunderscore}{\kern0pt}join\ AD\ ns\ ns{\isasymphi}\ X{\isasymphi}\ ns{\isasympsi}\ X{\isasympsi}\ {\isacharequal}{\kern0pt}\ cross{\isacharunderscore}{\kern0pt}with\ {\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple\ AD\ ns{\isasymphi}\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ X{\isasymphi}\ X{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ idx{\isacharunderscore}{\kern0pt}join{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def\ cross{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}tuple\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ mapping{\isacharunderscore}{\kern0pt}join{\isacharunderscore}{\kern0pt}cross{\isacharunderscore}{\kern0pt}with{\isacharbrackleft}{\kern0pt}OF\ ect{\isacharunderscore}{\kern0pt}empty{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ X{\isasymphi}\ ns{\isasympsi}\ X{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ cross{\isacharunderscore}{\kern0pt}with{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ AD{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasympsi}\ I\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}\ {\isasyminter}\isanewline
\ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasympsi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\isanewline
\ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ subsetI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ \ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}\ {\isasyminter}\isanewline
\ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ \ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasympsi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ {\isasymsigma}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymsigma}{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasympsi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasympsi}\ I\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqD{\isacharbrackleft}{\kern0pt}OF\ trans{\isacharbrackleft}{\kern0pt}OF\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasympsi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}restrict{\isacharbrackleft}{\kern0pt}OF\ iffD{\isadigit{2}}{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ OF\ ad{\isacharunderscore}{\kern0pt}agr\ ad{\isacharunderscore}{\kern0pt}sub{\isacharbrackright}{\kern0pt}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ wf{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ t{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasympsi}\ I\ t{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}conj\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}\ t{\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ AD{\isasymphi}\ n{\isasymphi}\ X{\isasymphi}\ AD{\isasympsi}\ n{\isasympsi}\ X{\isasympsi}\ \isakeyword{where}\ ts{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}t{\isasymphi}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isasymphi}{\isacharcomma}{\kern0pt}\ n{\isasymphi}{\isacharcomma}{\kern0pt}\ X{\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}t{\isasympsi}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isasympsi}{\isacharcomma}{\kern0pt}\ n{\isasympsi}{\isacharcomma}{\kern0pt}\ X{\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}AD{\isasymphi}\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD{\isasympsi}\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasympsi}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isasymphi}{\isacharcomma}{\kern0pt}\ cases\ t{\isasympsi}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I\ {\isasymsubseteq}\ AD{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasympsi}\ I\ {\isasymsubseteq}\ AD{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ AD\ n\ X\ \isakeyword{where}\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}conj\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}\ t{\isasympsi}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}conj\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}\ t{\isasympsi}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}AD{\isasymphi}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD{\isasympsi}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ AD{\isasymphi}\ {\isasymunion}\ AD{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ts{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ n{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ nfv\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ts{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def\ nfv{\isacharunderscore}{\kern0pt}card\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ S{\isasymphi}\ \isakeyword{where}\ {\isachardoublequoteopen}S{\isasymphi}\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ S{\isasympsi}\ \isakeyword{where}\ {\isachardoublequoteopen}S{\isasympsi}\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasympsi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ AD{\isasymDelta}{\isasymphi}\ \isakeyword{where}\ {\isachardoublequoteopen}AD{\isasymDelta}{\isasymphi}\ {\isacharequal}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ AD{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ AD{\isasymDelta}{\isasympsi}\ \isakeyword{where}\ {\isachardoublequoteopen}AD{\isasymDelta}{\isasympsi}\ {\isacharequal}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ AD{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ ns{\isasymphi}\ \isakeyword{where}\ {\isachardoublequoteopen}ns{\isasymphi}\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ ns{\isasympsi}\ \isakeyword{where}\ {\isachardoublequoteopen}ns{\isasympsi}\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ ns\ \isakeyword{where}\ {\isachardoublequoteopen}ns\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}X{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ unfolded\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ folded\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}X{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ unfolded\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ folded\ S{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ sd{\isacharunderscore}{\kern0pt}ns{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharunderscore}{\kern0pt}def\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}X{\isasymphi}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasymphi}\ X{\isasymphi}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ S{\isasymphi}\ ns{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eq\ ns{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ AD{\isasymDelta}{\isasymphi}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}correct{\isacharbrackleft}{\kern0pt}OF\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ sd{\isacharunderscore}{\kern0pt}ns{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}X{\isasympsi}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ X{\isasympsi}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ S{\isasympsi}\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eq\ ns{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ AD{\isasymDelta}{\isasympsi}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}correct{\isacharbrackleft}{\kern0pt}OF\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ sd{\isacharunderscore}{\kern0pt}ns{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link\ S{\isasympsi}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ idx{\isacharunderscore}{\kern0pt}join{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}conj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}idx{\isacharunderscore}{\kern0pt}join\ AD\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasymphi}\ X{\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasympsi}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ X{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasymphi}\ X{\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasympsi}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ X{\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ idx{\isacharunderscore}{\kern0pt}join{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ sd{\isacharunderscore}{\kern0pt}ns{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}X{\isasymphi}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}X{\isasympsi}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasympsi}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ res{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}alt\ {\isacharequal}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharbrackleft}{\kern0pt}OF\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ X{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}folded\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ res{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}alt\ {\isacharequal}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharbrackleft}{\kern0pt}OF\ S{\isasympsi}{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ X{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}folded\ S{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ {\isacharequal}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}correct{\isacharbrackleft}{\kern0pt}OF\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}folded\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}folded\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharbrackright}{\kern0pt}\ res{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}alt{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ res{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}alt{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}\ {\isasyminter}\isanewline
\ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasympsi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ Let{\isacharunderscore}{\kern0pt}def\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ idx{\isacharunderscore}{\kern0pt}join{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}conj{\isacharbrackleft}{\kern0pt}unfolded\ ns{\isasymphi}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharunderscore}{\kern0pt}def\ AD{\isasymDelta}{\isasymphi}{\isacharunderscore}{\kern0pt}def\ AD{\isasymDelta}{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ res{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}alt{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ res{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}alt{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def\ S{\isasympsi}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ eval{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}conj\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}\ t{\isasympsi}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ eval{\isacharunderscore}{\kern0pt}abs\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}sub{\isacharbrackleft}{\kern0pt}OF\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ of\ {\isasymphi}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ n{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}abs{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ wf{\isacharunderscore}{\kern0pt}conj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ wf\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}abs{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharunderscore}{\kern0pt}conj{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}values{\isacharunderscore}{\kern0pt}cluster{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}w\ z\ Z{\isachardot}{\kern0pt}\ Z\ {\isasymsubseteq}\ X\ {\isasymLongrightarrow}\ z\ {\isasymin}\ Z\ {\isasymLongrightarrow}\ w\ {\isasymin}\ f\ {\isacharparenleft}{\kern0pt}h\ z{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}z{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ w\ {\isasymin}\ f\ {\isacharparenleft}{\kern0pt}h\ z{\isacharparenright}{\kern0pt}\ Z{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ {\isacharparenleft}{\kern0pt}{\isasymAnd}w\ z\ Z{\isachardot}{\kern0pt}\ Z\ {\isasymsubseteq}\ X\ {\isasymLongrightarrow}\ z\ {\isasymin}\ Z\ {\isasymLongrightarrow}\ w\ {\isasymin}\ f\ {\isacharparenleft}{\kern0pt}h\ z{\isacharparenright}{\kern0pt}\ Z\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymexists}z{\isacharprime}{\kern0pt}{\isasymin}Z{\isachardot}{\kern0pt}\ w\ {\isasymin}\ f\ {\isacharparenleft}{\kern0pt}h\ z{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}z{\isacharprime}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ set{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}idx\ {\isacharparenleft}{\kern0pt}Mapping{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}values\ f\ {\isacharparenleft}{\kern0pt}cluster\ {\isacharparenleft}{\kern0pt}Some\ {\isasymcirc}\ h{\isacharparenright}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymUnion}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}x{\isachardot}{\kern0pt}\ f\ {\isacharparenleft}{\kern0pt}h\ x{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ transfer\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ran{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ del{\isacharunderscore}{\kern0pt}insts{\isacharparenright}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\ subset{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}z{\isadigit{3}}{\isacharparenright}{\kern0pt}\ imageI\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\ subset{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}twice{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ ns\ {\isasymsubseteq}\ set\ ns{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}ys{\isacharequal}{\kern0pt}{\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}{\kern0pt}xs{\isacharequal}{\kern0pt}ns{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ proj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\kern0pt}\ proj\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}values{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymAnd}x\ y{\isachardot}{\kern0pt}\ Mapping{\isachardot}{\kern0pt}lookup\ t\ x\ {\isacharequal}{\kern0pt}\ Some\ y\ {\isasymLongrightarrow}\ f\ x\ y\ {\isacharequal}{\kern0pt}\ f{\isacharprime}{\kern0pt}\ x\ y{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Mapping{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}values\ f\ t\ {\isacharequal}{\kern0pt}\ Mapping{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}values\ f{\isacharprime}{\kern0pt}\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ lookup{\isacharunderscore}{\kern0pt}map{\isacharunderscore}{\kern0pt}values\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ mapping{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{subgoal}\isamarkupfalse%
\ \isakeyword{for}\ x\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}Mapping{\isachardot}{\kern0pt}lookup\ t\ x{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}length{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD\ X\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ X\ {\isasymLongrightarrow}\ length\ x\ {\isacharequal}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ length\ z\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits\ dest{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}sound{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}AD\ {\isacharminus}{\kern0pt}\ AD{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ X\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ X\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlzd\ AD{\isacharprime}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ AD{\isacharprime}{\kern0pt}\ {\isasymsubseteq}\ AD\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ z{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}X{\isacharequal}{\kern0pt}AD{\isacharprime}{\kern0pt}\ \isakeyword{and}\ {\isacharquery}{\kern0pt}Y{\isacharequal}{\kern0pt}{\isachardoublequoteopen}AD\ {\isacharminus}{\kern0pt}\ AD{\isacharprime}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ Set{\isachardot}{\kern0pt}is{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ Diff{\isacharunderscore}{\kern0pt}partition\ Un{\isacharunderscore}{\kern0pt}Diff{\isacharunderscore}{\kern0pt}cancel{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}length{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z\ {\isasymin}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns\ ns{\isacharprime}{\kern0pt}\ X\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ X\ {\isasymLongrightarrow}\ length\ x\ {\isacharequal}{\kern0pt}\ length\ ns{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ length\ z\ {\isacharequal}{\kern0pt}\ length\ ns\ {\isacharplus}{\kern0pt}\ length\ ns{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length\ merge{\isacharunderscore}{\kern0pt}length\ dest{\isacharcolon}{\kern0pt}\ nall{\isacharunderscore}{\kern0pt}tuples{\isacharunderscore}{\kern0pt}rec{\isacharunderscore}{\kern0pt}length\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}ajoin{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ wf{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ t{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasympsi}\ I\ t{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ I\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}ajoin\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}\ t{\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ AD{\isasymphi}\ n{\isasymphi}\ X{\isasymphi}\ AD{\isasympsi}\ n{\isasympsi}\ X{\isasympsi}\ \isakeyword{where}\ ts{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}t{\isasymphi}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isasymphi}{\isacharcomma}{\kern0pt}\ n{\isasymphi}{\isacharcomma}{\kern0pt}\ X{\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}t{\isasympsi}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isasympsi}{\isacharcomma}{\kern0pt}\ n{\isasympsi}{\isacharcomma}{\kern0pt}\ X{\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}AD{\isasymphi}\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD{\isasympsi}\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasympsi}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isasymphi}{\isacharcomma}{\kern0pt}\ cases\ t{\isasympsi}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I\ {\isasymsubseteq}\ AD{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasympsi}\ I\ {\isasymsubseteq}\ AD{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ AD\ n\ X\ \isakeyword{where}\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}ajoin\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}\ t{\isasympsi}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}ajoin\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}\ t{\isasympsi}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ I\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD{\isasymphi}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD{\isasympsi}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ AD{\isasymphi}\ {\isasymunion}\ AD{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ts{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ n{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ nfv\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ts{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def\ nfv{\isacharunderscore}{\kern0pt}card\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ S{\isasymphi}\ \isakeyword{where}\ {\isachardoublequoteopen}S{\isasymphi}\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ S{\isasympsi}\ \isakeyword{where}\ {\isachardoublequoteopen}S{\isasympsi}\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasympsi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ both\ \isakeyword{where}\ {\isachardoublequoteopen}both\ {\isacharequal}{\kern0pt}\ remdups{\isacharunderscore}{\kern0pt}adj\ {\isacharparenleft}{\kern0pt}sort\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}\ {\isacharat}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ AD{\isasymDelta}{\isasymphi}\ \isakeyword{where}\ {\isachardoublequoteopen}AD{\isasymDelta}{\isasymphi}\ {\isacharequal}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ AD{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ AD{\isasymDelta}{\isasympsi}\ \isakeyword{where}\ {\isachardoublequoteopen}AD{\isasymDelta}{\isasympsi}\ {\isacharequal}{\kern0pt}\ AD\ {\isacharminus}{\kern0pt}\ AD{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ ns{\isasymphi}\ \isakeyword{where}\ {\isachardoublequoteopen}ns{\isasymphi}\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ ns{\isasympsi}\ \isakeyword{where}\ {\isachardoublequoteopen}ns{\isasympsi}\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ ns\ \isakeyword{where}\ {\isachardoublequoteopen}ns\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ set\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ X{\isasymphi}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}X{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasymphi}\ X{\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ idx{\isasymphi}\ \isakeyword{where}\ {\isachardoublequoteopen}idx{\isasymphi}\ {\isacharequal}{\kern0pt}\ cluster\ {\isacharparenleft}{\kern0pt}Some\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}xs{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasymphi}\ X{\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ idx{\isasympsi}\ \isakeyword{where}\ {\isachardoublequoteopen}idx{\isasympsi}\ {\isacharequal}{\kern0pt}\ cluster\ {\isacharparenleft}{\kern0pt}Some\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}ys{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ res\ \isakeyword{where}\ {\isachardoublequoteopen}res\ {\isacharequal}{\kern0pt}\ Mapping{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}values\ {\isacharparenleft}{\kern0pt}{\isasymlambda}xs\ X{\isachardot}{\kern0pt}\ case\ Mapping{\isachardot}{\kern0pt}lookup\ idx{\isasympsi}\ xs\ of\isanewline
\ \ \ \ Some\ Y\ {\isasymRightarrow}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ X\ ns{\isasympsi}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ {\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD{\isasympsi}\ ns\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}xs{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharbar}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isasymRightarrow}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ idx{\isasymphi}{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}X{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ unfolded\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ folded\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}X{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ unfolded\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ folded\ S{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasympsi}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}sort{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ both{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ both{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ distinct{\isacharunderscore}{\kern0pt}remdups{\isacharunderscore}{\kern0pt}adj{\isacharunderscore}{\kern0pt}sort{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}disj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}AD{\isasymphi}\ {\isasyminter}\ AD{\isasymDelta}{\isasymphi}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD{\isasympsi}\ {\isasyminter}\ AD{\isasymDelta}{\isasympsi}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ AD{\isasymDelta}{\isasymphi}{\isacharunderscore}{\kern0pt}def\ AD{\isasymDelta}{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}delta{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ AD{\isasymphi}\ {\isasymunion}\ AD{\isasymDelta}{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ AD{\isasympsi}\ {\isasymunion}\ AD{\isasymDelta}{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ AD{\isasymDelta}{\isasymphi}{\isacharunderscore}{\kern0pt}def\ AD{\isasymDelta}{\isasympsi}{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}def\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}X{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Ball\ X{\isasymphi}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD{\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}Ball\ X{\isasympsi}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD{\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ wf\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ Ball{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Ball\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasymphi}\ X{\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}X{\isacharequal}{\kern0pt}{\isachardoublequoteopen}AD{\isasymphi}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}{\kern0pt}Y{\isacharequal}{\kern0pt}{\isachardoublequoteopen}AD{\isasymDelta}{\isasymphi}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}X{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}X{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}disj\ AD{\isacharunderscore}{\kern0pt}delta{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}{\isasymphi}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}{\isasymsigma}\ {\isasymtau}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD{\isasymphi}\ {\isasymsigma}\ {\isasymtau}\ {\isasymLongrightarrow}\ {\isasymsigma}\ {\isasymin}\ S{\isasymphi}\ {\isasymlongleftrightarrow}\ {\isasymtau}\ {\isasymin}\ S{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}{\isasymsigma}\ {\isasymtau}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD\ {\isasymsigma}\ {\isasymtau}\ {\isasymLongrightarrow}\ {\isasymsigma}\ {\isasymin}\ S{\isasymphi}\ {\isasymlongleftrightarrow}\ {\isasymtau}\ {\isasymin}\ S{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}restrict{\isacharcomma}{\kern0pt}\ OF\ {\isacharunderscore}{\kern0pt}\ subset{\isacharunderscore}{\kern0pt}refl{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}mono\ AD{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ subset{\isacharunderscore}{\kern0pt}trans{\isacharbrackleft}{\kern0pt}OF\ AD{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}S{\isasymphi}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymtau}{\isacharprime}{\kern0pt}\ {\isasymin}\ S{\isasymphi}\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD{\isasymphi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}{\isacharprime}{\kern0pt}\ ns{\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ ns{\isasymphi}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isasymin}\ S{\isasymphi}{\isachardoublequoteclose}\ \isakeyword{for}\ {\isasymtau}{\isacharprime}{\kern0pt}\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}{\isasymphi}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link\ ns{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}{\isasympsi}{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}{\isasymsigma}\ {\isasymtau}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD{\isasympsi}\ {\isasymsigma}\ {\isasymtau}\ {\isasymLongrightarrow}\ {\isasymsigma}\ {\isasymin}\ S{\isasympsi}\ {\isasymlongleftrightarrow}\ {\isasymtau}\ {\isasymin}\ S{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}restrict{\isacharcomma}{\kern0pt}\ OF\ {\isacharunderscore}{\kern0pt}\ subset{\isacharunderscore}{\kern0pt}refl{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ AD{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ S{\isasympsi}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}S{\isasympsi}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymtau}{\isacharprime}{\kern0pt}\ {\isasymin}\ S{\isasympsi}\ {\isasymLongrightarrow}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}{\isacharprime}{\kern0pt}\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isasymin}\ S{\isasympsi}{\isachardoublequoteclose}\ \isakeyword{for}\ {\isasymtau}{\isacharprime}{\kern0pt}\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}{\isasympsi}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link\ ns{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ aux{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ both{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ ns{\isasymphi}\ {\isasyminter}\ set\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ ns{\isasymphi}\ {\isasymunion}\ set\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ both{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}sort{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\ intro{\isacharcolon}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}filter{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}f{\isacharequal}{\kern0pt}id{\isacharcomma}{\kern0pt}\ simplified{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ aux{\isadigit{2}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ns{\isasymphi}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ aux{\isadigit{3}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isasyminter}\ set\ ns\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isasymunion}\ set\ ns\ {\isacharequal}{\kern0pt}\ set\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharunderscore}{\kern0pt}def\ ns{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ aux{\isadigit{4}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ ns\ {\isasyminter}\ set\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ ns\ {\isasymunion}\ set\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharunderscore}{\kern0pt}def\ ns{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ aux{\isadigit{5}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasymphi}{\isacharparenright}{\kern0pt}\ ns{\isasympsi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ set\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ ns{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ aux{\isadigit{6}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ ns{\isasympsi}\ {\isasyminter}\ set\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ ns{\isasympsi}\ {\isasymunion}\ set\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ both{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasymphi}{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ both{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ns{\isacharunderscore}{\kern0pt}sd{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isasympsi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ ns\ {\isasymsubseteq}\ set\ ns{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ ns\ {\isasymsubseteq}\ set\ ns{\isasympsi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ ns\ {\isasymsubseteq}\ set\ both{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isasymsubseteq}\ set\ ns{\isasympsi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ ns{\isasympsi}\ {\isasymsubseteq}\ set\ both{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharunderscore}{\kern0pt}def\ both{\isacharunderscore}{\kern0pt}def\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\ intro{\isacharcolon}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}filter{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}f{\isacharequal}{\kern0pt}id{\isacharcomma}{\kern0pt}\ simplified{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ns{\isacharunderscore}{\kern0pt}sd{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sorted{\isacharunderscore}{\kern0pt}distinct\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\ intro{\isacharcolon}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}filter{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}f{\isacharequal}{\kern0pt}id{\isacharcomma}{\kern0pt}\ simplified{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ns{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ns\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}unique{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\ intro{\isacharcolon}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}filter{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}f{\isacharequal}{\kern0pt}id{\isacharcomma}{\kern0pt}\ simplified{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}ns{\isasympsi}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}length\ ns\ {\isacharplus}{\kern0pt}\ length\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ length\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ sum{\isacharunderscore}{\kern0pt}length{\isacharunderscore}{\kern0pt}filter{\isacharunderscore}{\kern0pt}compl{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}P{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isacharquery}{\kern0pt}xs{\isacharequal}{\kern0pt}{\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ns\ ns{\isasymphi}{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ res{\isacharunderscore}{\kern0pt}eq{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}res\ {\isacharequal}{\kern0pt}\ Mapping{\isachardot}{\kern0pt}map{\isacharunderscore}{\kern0pt}values\ {\isacharparenleft}{\kern0pt}{\isasymlambda}xs\ X{\isachardot}{\kern0pt}\ case\ Mapping{\isachardot}{\kern0pt}lookup\ idx{\isasympsi}\ xs\ of\isanewline
\ \ \ \ Some\ Y\ {\isasymRightarrow}\ idx{\isacharunderscore}{\kern0pt}join\ AD\ ns\ ns{\isasymphi}\ X\ ns{\isasympsi}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ {\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD{\isasympsi}\ ns\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}xs{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharbar}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ {\isasymRightarrow}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ idx{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}X{\isasymphi}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasymphi}\ X{\isasymphi}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ S{\isasymphi}\ ns{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eq\ ns{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}correct{\isacharbrackleft}{\kern0pt}OF\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ aux{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ folded\ AD{\isasymDelta}{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}S{\isasymphi}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ idx{\isacharunderscore}{\kern0pt}eval{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}idx{\isacharunderscore}{\kern0pt}join\ AD\ ns\ ns{\isasymphi}\ y\ ns{\isasympsi}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ {\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD{\isasympsi}\ ns\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ x{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ y\ ns{\isasympsi}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ {\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD{\isasympsi}\ ns\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ x{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{if}\ lup{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Mapping{\isachardot}{\kern0pt}lookup\ idx{\isasymphi}\ x\ {\isacharequal}{\kern0pt}\ Some\ y{\isachardoublequoteclose}\ {\isachardoublequoteopen}Mapping{\isachardot}{\kern0pt}lookup\ idx{\isasympsi}\ x\ {\isacharequal}{\kern0pt}\ Some\ x{\isadigit{2}}{\isachardoublequoteclose}\ \isakeyword{for}\ x\ y\ x{\isadigit{2}}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ y\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ vs\ {\isasymand}\ length\ vs\ {\isacharequal}{\kern0pt}\ length\ ns{\isasymphi}{\isachardoublequoteclose}\ \isakeyword{for}\ vs\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ lup{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ idx{\isasymphi}{\isacharunderscore}{\kern0pt}def\ lookup{\isacharunderscore}{\kern0pt}cluster{\isacharprime}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}X{\isasymphi}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ {\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD{\isasympsi}\ ns\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ x{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ vs{\isachardoublequoteclose}\ \isakeyword{for}\ vs\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ folded\ AD{\isasymDelta}{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ \isakeyword{where}\ {\isacharquery}{\kern0pt}X{\isacharequal}{\kern0pt}{\isachardoublequoteopen}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD{\isasympsi}\ ns\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ x{\isadigit{2}}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ lup{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ idx{\isasymphi}{\isacharunderscore}{\kern0pt}def\ lookup{\isacharunderscore}{\kern0pt}cluster{\isacharprime}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ {\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD{\isasympsi}\ ns\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ x{\isadigit{2}}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ length\ vs\ {\isacharequal}{\kern0pt}\ length\ ns{\isasympsi}{\isachardoublequoteclose}\ \isakeyword{for}\ vs\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}erule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}AD{\isacharequal}{\kern0pt}AD{\isasympsi}\ \isakeyword{and}\ {\isacharquery}{\kern0pt}ns{\isacharequal}{\kern0pt}ns\ \isakeyword{and}\ {\isacharquery}{\kern0pt}ns{\isacharprime}{\kern0pt}{\isacharequal}{\kern0pt}ns{\isasymphi}{\isacharprime}{\kern0pt}\ \isakeyword{and}\ {\isacharquery}{\kern0pt}X{\isacharequal}{\kern0pt}{\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ unfolded\ len{\isacharunderscore}{\kern0pt}ns{\isasympsi}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ lup{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ ns{\isacharunderscore}{\kern0pt}sd{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ idx{\isasymphi}{\isacharunderscore}{\kern0pt}def\ lookup{\isacharunderscore}{\kern0pt}cluster{\isacharprime}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}X{\isasymphi}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}length\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ idx{\isacharunderscore}{\kern0pt}join{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ {\isacharunderscore}{\kern0pt}\ ns{\isacharunderscore}{\kern0pt}sd{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharminus}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ ns{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ res{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ map{\isacharunderscore}{\kern0pt}values{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ idx{\isacharunderscore}{\kern0pt}eval\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ ns{\isasympsi}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ {\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD{\isasympsi}\ ns\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasympsi}\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}\ {\isasymin}\ {\isacharminus}{\kern0pt}\ S{\isasympsi}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ ns{\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{if}\ x{\isacharunderscore}{\kern0pt}ns{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ x{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ x{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}singleton{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isacharbraceright}{\kern0pt}\ ns{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ Some{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Mapping{\isachardot}{\kern0pt}lookup\ idx{\isasympsi}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Some\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \isakeyword{for}\ x\ Y\ {\isasymsigma}\ {\isasymsigma}{\isacharprime}{\kern0pt}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Y\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}ys\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ S{\isasympsi}\ ns{\isasympsi}{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Some\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ idx{\isasympsi}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharunderscore}{\kern0pt}def\ x{\isacharunderscore}{\kern0pt}ns\ lookup{\isacharunderscore}{\kern0pt}cluster{\isacharprime}{\kern0pt}\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}\ {\isasymin}\ S{\isasympsi}{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}twice{\isacharbrackleft}{\kern0pt}OF\ ns{\isacharunderscore}{\kern0pt}sd{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}\ {\isasymin}\ S{\isasympsi}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ Y{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Y\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}\ {\isasymin}\ S{\isasympsi}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ R{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ ns{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}refl\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def\ intro{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD{\isasympsi}\ ns\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}correct{\isacharbrackleft}{\kern0pt}OF\ ns{\isacharunderscore}{\kern0pt}sd{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ aux{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ ns{\isacharunderscore}{\kern0pt}sd{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ aux{\isadigit{4}}\ R{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD{\isasympsi}\ ns\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Y\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}\ {\isasymin}\ {\isacharminus}{\kern0pt}S{\isasympsi}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ Y{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}S{\isasympsi}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}\ {\isasymin}\ {\isacharminus}{\kern0pt}S{\isasympsi}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}\ {\isasymin}\ {\isacharminus}{\kern0pt}S{\isasympsi}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}OF\ Ball{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}correct{\isacharbrackleft}{\kern0pt}OF\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ ns{\isacharunderscore}{\kern0pt}sd{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ folded\ AD{\isasymDelta}{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}S{\isasympsi}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset{\isacharbrackleft}{\kern0pt}OF\ ns{\isacharunderscore}{\kern0pt}sd{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ comp{\isacharunderscore}{\kern0pt}proj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ {\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD{\isasympsi}\ ns\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}\ {\isasymin}\ {\isacharminus}{\kern0pt}S{\isasympsi}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasympsi}\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}\ {\isasymin}\ {\isacharminus}{\kern0pt}\ S{\isasympsi}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}\ {\isasymin}\ {\isacharminus}{\kern0pt}\ S{\isasympsi}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ both{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}correct{\isacharbrackleft}{\kern0pt}OF\ ns{\isacharunderscore}{\kern0pt}sd{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ ns{\isacharunderscore}{\kern0pt}sd{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ aux{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ aux{\isadigit{6}}\ refl{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}S{\isasympsi}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset{\isacharbrackleft}{\kern0pt}OF\ ns{\isacharunderscore}{\kern0pt}sd{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fast{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ ns{\isasympsi}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ {\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD{\isasympsi}\ ns\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasympsi}\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}\ {\isasymin}\ {\isacharminus}{\kern0pt}\ S{\isasympsi}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ ns{\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}ns\ comp{\isacharunderscore}{\kern0pt}proj\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}correct{\isacharbrackleft}{\kern0pt}OF\ aux{\isadigit{5}}\ x{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}singleton\ refl\ aux{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ ns{\isacharunderscore}{\kern0pt}sd{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}idx\ res{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}ajoin{\isachardot}{\kern0pt}simps\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ Let{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set\isanewline
\ \ \ \ \ \ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}sort{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ S{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ AD{\isasymDelta}{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ AD{\isasymDelta}{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ ns{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharcomma}{\kern0pt}\ folded\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharbrackleft}{\kern0pt}of\ {\isasymphi}{\isacharcomma}{\kern0pt}\ folded\ ns{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\ ns{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\ ns{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ ns{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ X{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ idx{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ idx{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ res{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}x{\isasymin}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasymphi}\ X{\isasymphi}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ case\ Mapping{\isachardot}{\kern0pt}lookup\ idx{\isasympsi}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ of\ None\ {\isasymRightarrow}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharbar}{\kern0pt}\ Some\ Y\ {\isasymRightarrow}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ ns{\isasympsi}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ {\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD{\isasympsi}\ ns\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ res{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}unfolded\ idx{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ map{\isacharunderscore}{\kern0pt}values{\isacharunderscore}{\kern0pt}cluster{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasympsi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ S{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}sort\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ set{\isacharunderscore}{\kern0pt}eqI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ t\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}x{\isasymin}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasymphi}\ X{\isasymphi}{\isachardot}{\kern0pt}\ case\ Mapping{\isachardot}{\kern0pt}lookup\ idx{\isasympsi}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ of\isanewline
\ \ \ \ \ \ None\ {\isasymRightarrow}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ {\isacharbar}{\kern0pt}\ Some\ Y\ {\isasymRightarrow}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ ns{\isasympsi}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ {\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD{\isasympsi}\ ns\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ x{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasymphi}\ X{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}Mapping{\isachardot}{\kern0pt}lookup\ idx{\isasympsi}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ None\ {\isasymLongrightarrow}\ t\ {\isasymin}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymAnd}Y{\isachardot}{\kern0pt}\ Mapping{\isachardot}{\kern0pt}lookup\ idx{\isasympsi}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Some\ Y\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ t\ {\isasymin}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ ns{\isasympsi}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ {\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD{\isasympsi}\ ns\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ val{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymin}\ S{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}correct{\isacharbrackleft}{\kern0pt}OF\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}{\isasymphi}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ folded\ AD{\isasymDelta}{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}folded\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}X{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ x{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ fast\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}ys{\isacharequal}{\kern0pt}x\ \isakeyword{and}\ {\isacharquery}{\kern0pt}xs{\isacharequal}{\kern0pt}ns{\isasymphi}{\isacharbrackright}{\kern0pt}\ aux{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ val{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}singleton{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isacharbraceright}{\kern0pt}\ ns{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ val{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}ns{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ x{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ ns{\isacharunderscore}{\kern0pt}sd{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}{\isasymsigma}{\isacharunderscore}{\kern0pt}{\isasymsigma}{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ val{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isasymphi}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ ns{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}{\isasymsigma}{\isacharunderscore}{\kern0pt}{\isasymsigma}{\isacharprime}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ val{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\ blast\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ {\isasymUnion}\ {\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple\ AD\ ns{\isasymphi}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns{\isasymphi}\ {\isacharparenleft}{\kern0pt}zip\ both\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}sound{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ aux\ x{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}proj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isasymin}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ x\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns{\isasymphi}\ {\isacharparenleft}{\kern0pt}zip\ both\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}AD{\isacharequal}{\kern0pt}AD{\isacharbrackright}{\kern0pt}\ Ball{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr\ x{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ val{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}S{\isasymphi}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isasymin}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasymLongrightarrow}\ t\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ S{\isasymphi}\ both{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}correct{\isacharbrackleft}{\kern0pt}OF\ aux\ refl\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}{\isasymphi}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}folded\ ns{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ S{\isasymphi}\ ns{\isasymphi}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ val{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ val{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ S{\isasymphi}\ both\ {\isacharminus}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ S{\isasympsi}\ both{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}Mapping{\isachardot}{\kern0pt}lookup\ idx{\isasympsi}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\ \isakeyword{if}\ t{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}S{\isasympsi}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ S{\isasympsi}\ both{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isasymtau}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymtau}\ {\isasymin}\ S{\isasympsi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ both{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}S{\isasympsi}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ t{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}{\isacharprime}{\kern0pt}\ both{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ aux{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}ys{\isacharequal}{\kern0pt}t\ \isakeyword{and}\ {\isacharquery}{\kern0pt}xs{\isacharequal}{\kern0pt}both{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymtau}{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ ns{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ns{\isacharunderscore}{\kern0pt}sd\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}ys{\isacharequal}{\kern0pt}{\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ ns{\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{and}\ xs{\isacharequal}{\kern0pt}ns{\isasympsi}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ ns{\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ ns{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ns{\isacharunderscore}{\kern0pt}sd\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ ns{\isasymphi}\ {\isacharparenleft}{\kern0pt}zip\ both\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}{\isacharprime}{\kern0pt}\ ns{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ aux\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}{\isacharprime}{\kern0pt}\ ns{\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ x{\isacharunderscore}{\kern0pt}proj{\isacharbrackleft}{\kern0pt}OF\ x{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ None{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ ns{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ aux\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}ys{\isacharequal}{\kern0pt}x\ \isakeyword{and}\ {\isacharquery}{\kern0pt}xs{\isacharequal}{\kern0pt}ns{\isasymphi}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ x{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharprime}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ both{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}{\isacharprime}{\kern0pt}\ both{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymtau}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ ns{\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}{\isacharprime}{\kern0pt}\ ns{\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ ns{\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ x{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ ns{\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ ns{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ aux\ ns{\isacharunderscore}{\kern0pt}sd\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasympsi}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ ns{\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset\ ns{\isacharunderscore}{\kern0pt}sd{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharminus}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ None\ {\isasymtau}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ idx{\isasympsi}{\isacharunderscore}{\kern0pt}def\ lookup{\isacharunderscore}{\kern0pt}cluster{\isacharprime}{\kern0pt}\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ ns{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}S{\isasymphi}{\isacharbrackleft}{\kern0pt}OF\ x{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ None{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ Y{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}in{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isasymin}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}t\ {\isasymin}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasympsi}\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}\ {\isasymin}\ {\isacharminus}{\kern0pt}\ S{\isasympsi}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ ns{\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ x{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}OF\ Some{\isacharbrackright}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharbrackleft}{\kern0pt}OF\ x{\isacharunderscore}{\kern0pt}ns\ x{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}singleton\ Some{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasympsi}\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}\ {\isasymin}\ {\isacharminus}{\kern0pt}\ S{\isasympsi}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}\ {\isasymin}\ {\isacharminus}{\kern0pt}\ S{\isasympsi}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ both{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}correct{\isacharbrackleft}{\kern0pt}OF\ ns{\isacharunderscore}{\kern0pt}sd{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ ns{\isacharunderscore}{\kern0pt}sd{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ aux{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ aux{\isadigit{6}}\ refl{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}S{\isasympsi}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset{\isacharbrackleft}{\kern0pt}OF\ ns{\isacharunderscore}{\kern0pt}sd{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fast{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}both{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}\ {\isasymin}\ {\isacharminus}{\kern0pt}\ S{\isasympsi}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ both{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}in{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ S{\isasympsi}\ both{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isasymtau}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymtau}\ {\isasymin}\ S{\isasympsi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ both{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isasymtau}{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymtau}{\isacharprime}{\kern0pt}\ {\isasymnotin}\ S{\isasympsi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}{\isacharprime}{\kern0pt}\ both{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}both\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymtau}\ {\isasymtau}{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}S{\isasympsi}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset{\isacharbrackleft}{\kern0pt}OF\ ns{\isacharunderscore}{\kern0pt}sd{\isacharparenleft}{\kern0pt}{\isadigit{8}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}S{\isasymphi}{\isacharbrackleft}{\kern0pt}OF\ t{\isacharunderscore}{\kern0pt}in{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ t\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}asm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ S{\isasymphi}\ both\ {\isacharminus}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ S{\isasympsi}\ both{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ val{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymin}\ S{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ both{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{define}\isamarkupfalse%
\ x\ \isakeyword{where}\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isasymsigma}{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ exists{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}ys{\isacharequal}{\kern0pt}x\ \isakeyword{and}\ {\isacharquery}{\kern0pt}xs{\isacharequal}{\kern0pt}ns{\isasymphi}{\isacharbrackright}{\kern0pt}\ aux{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ x{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}singleton{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isacharbraceright}{\kern0pt}\ ns{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ x{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}x\ {\isasymin}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasymphi}\ X{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}correct{\isacharbrackleft}{\kern0pt}OF\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}{\isasymphi}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ folded\ AD{\isasymDelta}{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\ val{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}X{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ x{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}folded\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ x{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}{\isasymsigma}{\isacharunderscore}{\kern0pt}{\isasymsigma}{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ x{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isasymphi}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ ns{\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}{\isasymsigma}{\isacharunderscore}{\kern0pt}{\isasymsigma}{\isacharprime}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ x{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}ns{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ x{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ ns{\isacharunderscore}{\kern0pt}sd{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}{\isadigit{2}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isasymphi}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ both{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}correct{\isacharbrackleft}{\kern0pt}OF\ aux\ x{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharparenright}{\kern0pt}\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}ext{\isacharunderscore}{\kern0pt}x{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isasymin}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}{\isasymsigma}{\isacharunderscore}{\kern0pt}{\isasymsigma}{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ val{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ Y\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ Some{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Mapping{\isachardot}{\kern0pt}lookup\ idx{\isasympsi}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Some\ Y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ tmp{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ x{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ proj{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ ns{\isacharunderscore}{\kern0pt}sd{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ aux{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ ns{\isacharunderscore}{\kern0pt}sd{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ unfold{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasympsi}\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}\ {\isasymin}\ {\isacharminus}{\kern0pt}\ S{\isasympsi}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ ns{\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}\ {\isasymin}\ {\isacharminus}{\kern0pt}\ S{\isasympsi}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ both{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}correct{\isacharbrackleft}{\kern0pt}OF\ ns{\isacharunderscore}{\kern0pt}sd{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ ns{\isacharunderscore}{\kern0pt}sd{\isacharprime}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ aux{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ aux{\isadigit{6}}\ refl{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}S{\isasympsi}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}trans\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset{\isacharbrackleft}{\kern0pt}OF\ ns{\isacharunderscore}{\kern0pt}sd{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast{\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymnotin}\ S{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}asm\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ val{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}{\isasymsigma}{\isacharunderscore}{\kern0pt}{\isasymsigma}{\isacharprime}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}mono{\isacharbrackleft}{\kern0pt}OF\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset{\isacharbrackleft}{\kern0pt}OF\ ns{\isacharunderscore}{\kern0pt}sd{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasympsi}\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}\ {\isasymin}\ {\isacharminus}{\kern0pt}\ S{\isasympsi}{\isachardot}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ ns{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ ns{\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ unfold\ val{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}vals{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ ns{\isasympsi}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ {\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD{\isasympsi}\ ns\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}{\isacharprime}{\kern0pt}\ ns{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}conj{\isacharbrackleft}{\kern0pt}OF\ tmp\ x{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}singleton\ Some{\isacharbrackleft}{\kern0pt}folded\ x{\isacharunderscore}{\kern0pt}ns{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}ext{\isacharunderscore}{\kern0pt}x\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ x{\isacharunderscore}{\kern0pt}ns{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}x{\isasymin}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasymphi}\ X{\isasymphi}{\isachardot}{\kern0pt}\ case\ Mapping{\isachardot}{\kern0pt}lookup\ idx{\isasympsi}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ of\isanewline
\ \ \ \ \ \ None\ {\isasymRightarrow}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ {\isacharbar}{\kern0pt}\ Some\ Y\ {\isasymRightarrow}\ eval{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}set\ AD\ ns{\isasymphi}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ ns{\isasympsi}\ {\isacharparenleft}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharunderscore}{\kern0pt}set\ AD{\isasymDelta}{\isasympsi}\ {\isacharparenleft}{\kern0pt}ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}set\ AD{\isasympsi}\ ns\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD{\isasympsi}\ {\isacharparenleft}{\kern0pt}proj{\isacharunderscore}{\kern0pt}tuple\ ns\ {\isacharparenleft}{\kern0pt}zip\ ns{\isasymphi}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ Y{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ t{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}ext{\isacharunderscore}{\kern0pt}x\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}intro\ UN{\isacharunderscore}{\kern0pt}I{\isacharbrackleft}{\kern0pt}OF\ x{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ x{\isacharunderscore}{\kern0pt}ns\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasympsi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}Neg{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}\ {\isasyminter}\isanewline
\ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map\ dest{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set\ fv{\isacharunderscore}{\kern0pt}sub\isanewline
\ \ \ \ \ \ \ \ sup{\isacharunderscore}{\kern0pt}ge{\isadigit{1}}\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ eval{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}ajoin\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}\ t{\isasympsi}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ eval{\isacharunderscore}{\kern0pt}abs\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}sub{\isacharbrackleft}{\kern0pt}OF\ AD{\isacharunderscore}{\kern0pt}Neg{\isacharunderscore}{\kern0pt}sub{\isacharcomma}{\kern0pt}\ of\ {\isasymphi}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ n{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}abs{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ wf{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}neg{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isacharparenleft}{\kern0pt}Conj\ {\isasymphi}\ {\isacharparenleft}{\kern0pt}Neg\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ wf\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}abs{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharunderscore}{\kern0pt}conj{\isacharunderscore}{\kern0pt}neg{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}disj{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ wf{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ t{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasympsi}\ I\ t{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}disj\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}\ t{\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ AD{\isasymphi}\ n{\isasymphi}\ X{\isasymphi}\ AD{\isasympsi}\ n{\isasympsi}\ X{\isasympsi}\ \isakeyword{where}\ ts{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}t{\isasymphi}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isasymphi}{\isacharcomma}{\kern0pt}\ n{\isasymphi}{\isacharcomma}{\kern0pt}\ X{\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}t{\isasympsi}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isasympsi}{\isacharcomma}{\kern0pt}\ n{\isasympsi}{\isacharcomma}{\kern0pt}\ X{\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}AD{\isasymphi}\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD{\isasympsi}\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasympsi}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isasymphi}{\isacharcomma}{\kern0pt}\ cases\ t{\isasympsi}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I\ {\isasymsubseteq}\ AD{\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasympsi}\ I\ {\isasymsubseteq}\ AD{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ AD\ n\ X\ \isakeyword{where}\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}disj\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}\ t{\isasympsi}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}disj\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}\ t{\isasympsi}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}AD{\isasymphi}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD{\isasympsi}\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ AD{\isasymphi}\ {\isasymunion}\ AD{\isasympsi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ts{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ n{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ nfv\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ts{\isacharunderscore}{\kern0pt}def\ Let{\isacharunderscore}{\kern0pt}def\ nfv{\isacharunderscore}{\kern0pt}card\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ S{\isasymphi}\ \isakeyword{where}\ {\isachardoublequoteopen}S{\isasymphi}\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ S{\isasympsi}\ \isakeyword{where}\ {\isachardoublequoteopen}S{\isasympsi}\ {\isasymequiv}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasympsi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ ns{\isasymphi}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}ns{\isasymphi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ ns{\isasympsi}{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}ns{\isasympsi}{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}n{\isachardot}{\kern0pt}\ n\ {\isasymnotin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ X{\isasymphi}{\isacharunderscore}{\kern0pt}def\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}X{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ unfolded\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ folded\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ X{\isasympsi}{\isacharunderscore}{\kern0pt}def\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}X{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ unfolded\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ folded\ S{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasympsi}\ {\isasymunion}\ set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ res{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}alt\ {\isacharequal}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharbrackleft}{\kern0pt}OF\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ X{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}folded\ S{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ res{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}alt\ {\isacharequal}{\kern0pt}\ ext{\isacharunderscore}{\kern0pt}tuple{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}close{\isacharbrackleft}{\kern0pt}OF\ S{\isasympsi}{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ X{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}folded\ S{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\ fv{\isacharunderscore}{\kern0pt}sub{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}\ {\isasymunion}\isanewline
\ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasympsi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ Let{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def\ ns{\isasymphi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ ns{\isasympsi}{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ S{\isasymphi}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ S{\isasympsi}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ res{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}alt{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ res{\isacharunderscore}{\kern0pt}right{\isacharunderscore}{\kern0pt}alt{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ eval{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}disj\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isasymphi}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasympsi}{\isacharparenright}{\kern0pt}\ t{\isasympsi}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ eval{\isacharunderscore}{\kern0pt}abs\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}X{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ n{\isacharunderscore}{\kern0pt}def\ eval{\isacharunderscore}{\kern0pt}abs{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ wf{\isacharunderscore}{\kern0pt}disj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isacharparenleft}{\kern0pt}Disj\ {\isasymphi}\ {\isasympsi}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ wf\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ts{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}abs{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharunderscore}{\kern0pt}disj{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}ex{\isacharunderscore}{\kern0pt}all{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}pos\ i\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ None{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ pos{\isacharunderscore}{\kern0pt}complete{\isacharbrackleft}{\kern0pt}of\ i\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}Exists\ i\ {\isasymphi}{\isachardoublequoteclose}\ {\isasymphi}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}Forall\ i\ {\isasymphi}{\isachardoublequoteclose}\ {\isasymphi}{\isacharbrackright}{\kern0pt}\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ nfv{\isacharunderscore}{\kern0pt}ex{\isacharunderscore}{\kern0pt}all{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ Some{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}pos\ i\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Some\ j{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}nfv\ {\isasymphi}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}nfv\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}nfv\ {\isasymphi}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}nfv\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}i\ {\isasymin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}j\ {\isacharless}{\kern0pt}\ nfv\ {\isasymphi}{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isasymin}\ set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set\ pos{\isacharunderscore}{\kern0pt}set{\isacharbrackleft}{\kern0pt}of\ i\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ pos{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}of\ i\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ Some\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ nfv{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}nfv\ {\isasymphi}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}nfv\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}nfv\ {\isasymphi}\ {\isacharequal}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}nfv\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ nfv{\isacharunderscore}{\kern0pt}card{\isacharbrackleft}{\kern0pt}of\ {\isasymphi}{\isacharbrackright}{\kern0pt}\ nfv{\isacharunderscore}{\kern0pt}card{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}Exists\ i\ {\isasymphi}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ nfv{\isacharunderscore}{\kern0pt}card{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}Forall\ i\ {\isasymphi}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ finite{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}exists{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Exists\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymnoteq}{\isacharparenright}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}mono{\isacharunderscore}{\kern0pt}tags{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}filter\ distinct{\isacharunderscore}{\kern0pt}remdups{\isacharunderscore}{\kern0pt}adj{\isacharunderscore}{\kern0pt}sort\isanewline
\ \ \ \ \ \ distinct{\isacharunderscore}{\kern0pt}remdups{\isacharunderscore}{\kern0pt}id\ filter{\isacharunderscore}{\kern0pt}set\ filter{\isacharunderscore}{\kern0pt}sort\ remdups{\isacharunderscore}{\kern0pt}adj{\isacharunderscore}{\kern0pt}set\ sorted{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}remdups\isanewline
\ \ \ \ \ \ sorted{\isacharunderscore}{\kern0pt}remdups{\isacharunderscore}{\kern0pt}adj\ sorted{\isacharunderscore}{\kern0pt}sort\ sorted{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}id{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}exists{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ wf{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ t{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}exists\ i\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ AD\ n\ X\ \isakeyword{where}\ t{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}X{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharbrackleft}{\kern0pt}unfolded\ t{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ folded\ t{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ eval{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}exists\ i\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t\ {\isacharequal}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}abs\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}pos\ i\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}eq\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}ex{\isacharunderscore}{\kern0pt}all{\isacharbrackleft}{\kern0pt}OF\ None{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}exists{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}fv{\isacharbrackleft}{\kern0pt}of\ i\ {\isasymphi}\ UNIV\ I{\isacharbrackright}{\kern0pt}\ pos{\isacharunderscore}{\kern0pt}complete{\isacharbrackleft}{\kern0pt}OF\ None{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def\ None\ eval{\isacharunderscore}{\kern0pt}abs{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}eq\ nfv{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ j{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ rem{\isacharunderscore}{\kern0pt}nth\ j\ {\isacharbackquote}{\kern0pt}\ X\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ set{\isacharunderscore}{\kern0pt}eqI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ rem{\isacharunderscore}{\kern0pt}nth\ j\ {\isacharbackquote}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ ws\ \isakeyword{where}\ ws{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ws\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ ws{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}ws\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ws\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}map\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymtau}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackleft}{\kern0pt}of\ AD\ {\isachardoublequoteopen}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ folded\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ unfolded\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def\ intro{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ exI{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}{\isasymtau}\ i{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}ws{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}rem{\isacharunderscore}{\kern0pt}nth\ j\ ws\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isachardoublequoteclose}\ i\ j\ {\isasymtau}{\isacharbrackright}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\ Some\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}exists\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ws{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ esat{\isacharunderscore}{\kern0pt}{\isasymtau}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}ws\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ assm\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ x{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}i\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{define}\isamarkupfalse%
\ ws\ \isakeyword{where}\ {\isachardoublequoteopen}ws\ {\isasymequiv}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}i\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}length\ ws\ {\isacharequal}{\kern0pt}\ nfv\ {\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ nfv{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ length{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ ws{\isacharunderscore}{\kern0pt}in{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ws\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ x{\isacharunderscore}{\kern0pt}def\ ws{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ws\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}map\ ws{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}ws{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}rem{\isacharunderscore}{\kern0pt}nth\ j\ ws\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isachardoublequoteclose}\ i\ j{\isacharbrackright}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\ Some\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}exists\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}exists{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}i\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackleft}{\kern0pt}of\ AD\ {\isachardoublequoteopen}map\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}i\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ folded\ ws{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ unfolded\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}i\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}exists{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ ws{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}ws\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackleft}{\kern0pt}unfolded\ map{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}cong{\isacharbrackright}{\kern0pt}\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ rem{\isacharunderscore}{\kern0pt}nth\ j\ {\isacharbackquote}{\kern0pt}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ Some\ ws{\isacharunderscore}{\kern0pt}in\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ nfv{\isacharunderscore}{\kern0pt}ex{\isacharunderscore}{\kern0pt}all{\isacharbrackleft}{\kern0pt}OF\ Some{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def\ Some\ eval{\isacharunderscore}{\kern0pt}abs{\isacharunderscore}{\kern0pt}def\ nfv{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ wf{\isacharunderscore}{\kern0pt}ex{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isacharparenleft}{\kern0pt}Exists\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ wf\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}abs{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharunderscore}{\kern0pt}ex{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}forall{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Forall\ n\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ filter\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymnoteq}{\isacharparenright}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}mono{\isacharunderscore}{\kern0pt}tags{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ distinct{\isacharunderscore}{\kern0pt}filter\ distinct{\isacharunderscore}{\kern0pt}remdups{\isacharunderscore}{\kern0pt}adj{\isacharunderscore}{\kern0pt}sort\isanewline
\ \ \ \ \ \ distinct{\isacharunderscore}{\kern0pt}remdups{\isacharunderscore}{\kern0pt}id\ filter{\isacharunderscore}{\kern0pt}set\ filter{\isacharunderscore}{\kern0pt}sort\ remdups{\isacharunderscore}{\kern0pt}adj{\isacharunderscore}{\kern0pt}set\ sorted{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}remdups\isanewline
\ \ \ \ \ \ sorted{\isacharunderscore}{\kern0pt}remdups{\isacharunderscore}{\kern0pt}adj\ sorted{\isacharunderscore}{\kern0pt}sort\ sorted{\isacharunderscore}{\kern0pt}sort{\isacharunderscore}{\kern0pt}id{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ pairwise{\isacharunderscore}{\kern0pt}take{\isacharunderscore}{\kern0pt}drop{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}pairwise\ P\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}zip\ xs\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}length\ xs\ {\isacharequal}{\kern0pt}\ length\ ys{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}pairwise\ P\ {\isacharparenleft}{\kern0pt}set\ {\isacharparenleft}{\kern0pt}zip\ {\isacharparenleft}{\kern0pt}take\ i\ xs\ {\isacharat}{\kern0pt}\ drop\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}take\ i\ ys\ {\isacharat}{\kern0pt}\ drop\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ pairwise{\isacharunderscore}{\kern0pt}subset{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}zip\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}card{\isacharcolon}{\kern0pt}\isanewline
\ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs\ {\isasymLongrightarrow}\ set\ xs\ {\isacharequal}{\kern0pt}\ set\ xs\ {\isasyminter}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ xs{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}set\ card{\isacharunderscore}{\kern0pt}Inr{\isacharunderscore}{\kern0pt}vimage{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}length\ min{\isachardot}{\kern0pt}absorb{\isadigit{2}}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}take{\isacharunderscore}{\kern0pt}drop{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ xs\ ys\ {\isasymLongrightarrow}\isanewline
\ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}take\ i\ xs\ {\isacharat}{\kern0pt}\ drop\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}take\ i\ ys\ {\isacharat}{\kern0pt}\ drop\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ ys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ take{\isacharunderscore}{\kern0pt}zip\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}takeD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ drop{\isacharunderscore}{\kern0pt}zip\ in{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}dropD{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ pairwise{\isacharunderscore}{\kern0pt}take{\isacharunderscore}{\kern0pt}drop\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ fastforce%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ zs\ {\isacharequal}{\kern0pt}\ zs{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isasymle}\ length\ zs{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ i\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ zs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ i{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}add{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}length\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}take{\isacharunderscore}{\kern0pt}drop{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcomma}{\kern0pt}\ of\ i{\isacharcomma}{\kern0pt}\ folded\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}take{\isacharunderscore}{\kern0pt}drop{\isacharbrackleft}{\kern0pt}OF\ i{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}add{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}take{\isacharunderscore}{\kern0pt}drop{\isacharbrackleft}{\kern0pt}OF\ i{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}add{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ unfolded\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ eq{\isacharunderscore}{\kern0pt}commute{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}add{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ xs\ ys{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isasymle}\ length\ xs{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}z{\isacharprime}{\kern0pt}\ {\isasymin}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ set\ ys{\isachardot}{\kern0pt}\isanewline
\ \ \ \ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}take\ i\ xs\ {\isacharat}{\kern0pt}\ z\ {\isacharhash}{\kern0pt}\ drop\ i\ xs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}take\ i\ ys\ {\isacharat}{\kern0pt}\ z{\isacharprime}{\kern0pt}\ {\isacharhash}{\kern0pt}\ drop\ i\ ys{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ n\ \isakeyword{where}\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}ys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}n\ {\isacharequal}{\kern0pt}\ length\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ n{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}xs\ {\isacharequal}{\kern0pt}\ map\ {\isasymsigma}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ n{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ map{\isacharunderscore}{\kern0pt}nth{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ys\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ len{\isacharunderscore}{\kern0pt}ys\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ map{\isacharunderscore}{\kern0pt}nth{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ i{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isasymle}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ n{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}n{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}set\ {\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ n\ {\isacharhash}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}i{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ i{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ AD\ {\isasymsigma}\ {\isasymtau}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ iffD{\isadigit{2}}{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharcomma}{\kern0pt}\ OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}n\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}ys{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymtau}\ {\isacharbackquote}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharbraceright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ set\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ z{\isacharprime}{\kern0pt}\ \isakeyword{where}\ z{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}z{\isacharprime}{\kern0pt}\ {\isasymin}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ set\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharbraceright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}n{\isacharbraceright}{\kern0pt}\ AD\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymtau}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ z{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ extend{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr\ subset{\isacharunderscore}{\kern0pt}refl{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ of\ {\isachardoublequoteopen}Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ ys{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ set\ ys{\isachardoublequoteclose}\ z{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}ys{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}take{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}map\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ z{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ n\ {\isacharhash}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}i{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ take\ i\ xs\ {\isacharat}{\kern0pt}\ z\ {\isacharhash}{\kern0pt}\ drop\ i\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}map\ {\isacharparenleft}{\kern0pt}{\isasymtau}{\isacharparenleft}{\kern0pt}n\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ z{\isacharprime}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharbrackleft}{\kern0pt}{\isadigit{0}}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}i{\isacharbrackright}{\kern0pt}\ {\isacharat}{\kern0pt}\ n\ {\isacharhash}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}i{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}n{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ take\ i\ ys\ {\isacharat}{\kern0pt}\ z{\isacharprime}{\kern0pt}\ {\isacharhash}{\kern0pt}\ drop\ i\ ys{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ i{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}n\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\ take{\isacharunderscore}{\kern0pt}map\ drop{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ iffD{\isadigit{1}}{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharcomma}{\kern0pt}\ OF\ z{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ set{\isacharunderscore}{\kern0pt}n{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ z{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}take\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}restrict{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ zs\ {\isacharequal}{\kern0pt}\ zs{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isasymle}\ length\ zs{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}z{\isacharprime}{\kern0pt}\ {\isasymin}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z{\isacharprime}{\kern0pt}\ zs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set\ zs\ {\isasymsubseteq}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}card{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ z{\isacharprime}{\kern0pt}\ \isakeyword{where}\ z{\isacharprime}{\kern0pt}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ {\isachardoublequoteopen}z{\isacharprime}{\kern0pt}\ {\isasymin}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}take\ i\ zs\ {\isacharat}{\kern0pt}\ z\ {\isacharhash}{\kern0pt}\ drop\ i\ zs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}take\ i\ zs\ {\isacharat}{\kern0pt}\ z{\isacharprime}{\kern0pt}\ {\isacharhash}{\kern0pt}\ drop\ i\ zs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}add{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}refl\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ of\ AD\ z{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}take{\isacharunderscore}{\kern0pt}drop{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ intro{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}rem{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}i\ {\isasymle}\ length\ zs{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}z{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ zs\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ zs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ i{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isasymle}\ length\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ zs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ x{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ x\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}add{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}take{\isacharunderscore}{\kern0pt}drop{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}take{\isacharunderscore}{\kern0pt}drop{\isacharbrackleft}{\kern0pt}OF\ i{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}rem{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}i\ {\isasymle}\ length\ zs{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}z{\isacharprime}{\kern0pt}{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z{\isacharprime}{\kern0pt}\ zs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ zs{\isacharparenright}{\kern0pt}\ zs{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}comm{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ i{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isasymle}\ length\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ zs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ x{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ x\ zs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}add{\isacharbrackleft}{\kern0pt}OF\ ad{\isacharunderscore}{\kern0pt}agr\ i{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}take{\isacharunderscore}{\kern0pt}drop{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}take{\isacharunderscore}{\kern0pt}drop{\isacharbrackleft}{\kern0pt}OF\ i{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isacharless}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}z{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ i\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}rem{\isacharbrackleft}{\kern0pt}of\ i\ {\isachardoublequoteopen}rem{\isacharunderscore}{\kern0pt}nth\ i\ xs{\isachardoublequoteclose}\ AD\ {\isachardoublequoteopen}xs\ {\isacharbang}{\kern0pt}\ i{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\isanewline
\ \ \ \ \ \ unfolded\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}self{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}subst\ eq{\isacharunderscore}{\kern0pt}commute{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}almost{\isacharunderscore}{\kern0pt}same{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}xs\ {\isacharat}{\kern0pt}\ v\ {\isacharhash}{\kern0pt}\ ys{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}xs\ {\isacharat}{\kern0pt}\ w\ {\isacharhash}{\kern0pt}\ ys{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ v\ {\isasymin}\ set\ xs\ {\isasymunion}\ set\ ys\ {\isasymor}\ w\ {\isasymin}\ set\ xs\ {\isasymunion}\ set\ ys\ {\isasymLongrightarrow}\ v\ {\isacharequal}{\kern0pt}\ w{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}metis\ UnCI\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps\ zip{\isacharunderscore}{\kern0pt}same{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}i\ {\isasymle}\ length\ zs{\isachardoublequoteclose}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ v\ zs{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ w\ zs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}v\ {\isasymnoteq}\ w{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}v{\isacharcomma}{\kern0pt}\ w{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ {\isacharparenleft}{\kern0pt}Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ set\ zs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}unfolded\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}take{\isacharunderscore}{\kern0pt}drop{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharcomma}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}almost{\isacharunderscore}{\kern0pt}same\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}def\ ad{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}pair{\isachardot}{\kern0pt}simps{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharparenleft}{\kern0pt}smt\ append{\isacharunderscore}{\kern0pt}take{\isacharunderscore}{\kern0pt}drop{\isacharunderscore}{\kern0pt}id\ set{\isacharunderscore}{\kern0pt}append\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}almost{\isacharunderscore}{\kern0pt}same{\isacharparenright}{\kern0pt}{\isacharplus}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Inr{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}tuple{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ zs\ {\isacharequal}{\kern0pt}\ zs{\isachardoublequoteclose}\ {\isachardoublequoteopen}n\ {\isacharless}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Inr\ n\ {\isasymin}\ set\ zs{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}card{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}code{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}wit{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}finite\ Z{\isachardoublequoteclose}\ {\isachardoublequoteopen}card\ Z\ {\isasymle}\ card\ {\isacharbraceleft}{\kern0pt}ts\ {\isasymin}\ X{\isachardot}{\kern0pt}\ {\isasymexists}z\ {\isasymin}\ Z{\isachardot}{\kern0pt}\ ts\ {\isacharequal}{\kern0pt}\ f\ z{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}f\ {\isacharbackquote}{\kern0pt}\ Z\ {\isasymsubseteq}\ X{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}unfold{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}ts\ {\isasymin}\ X{\isachardot}{\kern0pt}\ {\isasymexists}z\ {\isasymin}\ Z{\isachardot}{\kern0pt}\ ts\ {\isacharequal}{\kern0pt}\ f\ z{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isacharbackquote}{\kern0pt}\ Z\ {\isasyminter}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}unfold\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Int{\isacharunderscore}{\kern0pt}lower{\isadigit{1}}\ card{\isacharunderscore}{\kern0pt}image{\isacharunderscore}{\kern0pt}le\ card{\isacharunderscore}{\kern0pt}seteq\ finite{\isacharunderscore}{\kern0pt}imageI\ inf{\isachardot}{\kern0pt}absorb{\isacharunderscore}{\kern0pt}iff{\isadigit{1}}\ le{\isacharunderscore}{\kern0pt}antisym\isanewline
\ \ \ \ \ \ \ \ surj{\isacharunderscore}{\kern0pt}card{\isacharunderscore}{\kern0pt}le{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}card{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}xs{\isachardot}{\kern0pt}\ xs\ {\isasymin}\ X\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}xs{\isachardot}{\kern0pt}\ xs\ {\isasymin}\ X\ {\isasymLongrightarrow}\ i\ {\isacharless}{\kern0pt}\ length\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ zs\ {\isacharequal}{\kern0pt}\ zs{\isachardoublequoteclose}\ {\isachardoublequoteopen}i\ {\isasymle}\ length\ zs{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymforall}z{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}\ {\isasymin}\ X{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ Suc\ {\isacharparenleft}{\kern0pt}card\ AD\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ card\ {\isacharbraceleft}{\kern0pt}ts\ {\isasymin}\ X{\isachardot}{\kern0pt}\ {\isasymexists}z{\isachardot}{\kern0pt}\ ts\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ inj{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}inj{\isacharunderscore}{\kern0pt}on\ {\isacharparenleft}{\kern0pt}{\isasymlambda}z{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ Inr{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}tuple{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ less{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}def\ dest{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqD{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}Un{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ Suc\ {\isacharparenleft}{\kern0pt}card\ AD\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}disjoint{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}Inl\ {\isacharbackquote}{\kern0pt}\ AD{\isachardoublequoteclose}\ {\isachardoublequoteopen}Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ card{\isacharunderscore}{\kern0pt}image\ disjoint{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}equal{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ restrict{\isacharunderscore}{\kern0pt}z{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymforall}z{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}\ {\isasymin}\ X{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ {\isacharparenleft}{\kern0pt}{\isasymforall}z\ {\isasymin}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}\ {\isasymin}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}restrict{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ restrict{\isacharunderscore}{\kern0pt}z{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}ts\ {\isasymin}\ X{\isachardot}{\kern0pt}\ {\isasymexists}z{\isachardot}{\kern0pt}\ ts\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ {\isacharbraceleft}{\kern0pt}ts\ {\isasymin}\ X{\isachardot}{\kern0pt}\ {\isasymexists}z\ {\isasymin}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ ts\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}restrict{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharcomma}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}z{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ image{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}z{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbackquote}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\isanewline
\ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}ts\ {\isasymin}\ X{\isachardot}{\kern0pt}\ {\isasymexists}z{\isachardot}{\kern0pt}\ ts\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Suc\ {\isacharparenleft}{\kern0pt}card\ AD\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\isanewline
\ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}ts\ {\isasymin}\ X{\isachardot}{\kern0pt}\ {\isasymexists}z{\isachardot}{\kern0pt}\ ts\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}Un{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}inj{\isacharunderscore}{\kern0pt}on{\isacharunderscore}{\kern0pt}le{\isacharbrackleft}{\kern0pt}OF\ inj\ image{\isacharunderscore}{\kern0pt}sub{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{6}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Suc\ {\isacharparenleft}{\kern0pt}card\ AD\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\isanewline
\ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}ts\ {\isasymin}\ X{\isachardot}{\kern0pt}\ {\isasymexists}z{\isachardot}{\kern0pt}\ ts\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ card{\isacharunderscore}{\kern0pt}image{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}card\ {\isacharparenleft}{\kern0pt}Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\isanewline
\ \ \ \ \ \ card\ {\isacharbraceleft}{\kern0pt}ts\ {\isasymin}\ X{\isachardot}{\kern0pt}\ {\isasymexists}z\ {\isasymin}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ ts\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}z\ {\isasymin}\ Inl\ {\isacharbackquote}{\kern0pt}\ AD\ {\isasymunion}\ Inr\ {\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isachardot}{\kern0pt}{\isachardot}{\kern0pt}{\isacharless}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ zs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ i\ z\ zs{\isacharparenright}{\kern0pt}\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ card{\isacharunderscore}{\kern0pt}wit{\isacharunderscore}{\kern0pt}sub{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ assm{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ restrict{\isacharunderscore}{\kern0pt}z{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ restrict{\isacharunderscore}{\kern0pt}z{\isacharprime}{\kern0pt}{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ card{\isacharunderscore}{\kern0pt}Un\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}j\ {\isacharless}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ X\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ x\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ x\ {\isasymin}\ X\ {\isasymLongrightarrow}\ j\ {\isacharless}{\kern0pt}\ length\ x{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}ts\ {\isasymin}\ X{\isachardot}{\kern0pt}\ {\isasymexists}z{\isachardot}{\kern0pt}\ ts\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ j\ z\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ {\isacharbraceleft}{\kern0pt}y\ {\isasymin}\ X{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ y{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ xs{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth{\isacharbrackleft}{\kern0pt}\isakeyword{where}\ {\isacharquery}{\kern0pt}zs{\isacharequal}{\kern0pt}{\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ xs{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}OF\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharbrackright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ eval{\isacharunderscore}{\kern0pt}forall{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ wf{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ t{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isacharparenleft}{\kern0pt}eval{\isacharunderscore}{\kern0pt}forall\ i\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ AD\ n\ X\ \isakeyword{where}\ t{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}sub{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I\ {\isasymsubseteq}\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fin{\isacharunderscore}{\kern0pt}AD{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ AD{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}act{\isacharunderscore}{\kern0pt}edom\ wf\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ fin{\isacharunderscore}{\kern0pt}X{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ wf\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}X{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharbrackleft}{\kern0pt}unfolded\ t{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharcomma}{\kern0pt}\ folded\ t{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ eval{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}eval{\isacharunderscore}{\kern0pt}forall\ i\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}\ t\ {\isacharequal}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}abs\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}pos\ i\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}eq\ {\isacharequal}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}ex{\isacharunderscore}{\kern0pt}all{\isacharbrackleft}{\kern0pt}OF\ None{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}X\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymdots}\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}forall{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}fv{\isacharbrackleft}{\kern0pt}of\ i\ {\isasymphi}\ UNIV\ I{\isacharbrackright}{\kern0pt}\ pos{\isacharunderscore}{\kern0pt}complete{\isacharbrackleft}{\kern0pt}OF\ None{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def\ None\ eval{\isacharunderscore}{\kern0pt}abs{\isacharunderscore}{\kern0pt}def\ fv{\isacharunderscore}{\kern0pt}eq\ nfv{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}Some\ j{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ i{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}fv{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}i\ {\isasymin}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ pos{\isacharunderscore}{\kern0pt}set{\isacharbrackleft}{\kern0pt}OF\ Some{\isacharcomma}{\kern0pt}\ unfolded\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}X{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}xs{\isachardot}{\kern0pt}\ xs\ {\isasymin}\ X\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ xs\ {\isacharequal}{\kern0pt}\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ X{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}len{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}xs{\isachardot}{\kern0pt}\ xs\ {\isasymin}\ X\ {\isasymLongrightarrow}\ j\ {\isacharless}{\kern0pt}\ length\ xs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ pos{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}OF\ Some{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ X{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}j{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}len{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}xs{\isachardot}{\kern0pt}\ xs\ {\isasymin}\ X\ {\isasymLongrightarrow}\ j\ {\isasymle}\ length\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ xs{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}length\ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}len\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ img{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}fmla{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Mapping{\isachardot}{\kern0pt}keys\ {\isacharparenleft}{\kern0pt}Mapping{\isachardot}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}t\ Z{\isachardot}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}card\ AD\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ card\ Z{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacharparenleft}{\kern0pt}cluster\ {\isacharparenleft}{\kern0pt}Some\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}ts{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ set{\isacharunderscore}{\kern0pt}eqI{\isacharcomma}{\kern0pt}\ rule\ iffI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ Mapping{\isachardot}{\kern0pt}keys\ {\isacharparenleft}{\kern0pt}Mapping{\isachardot}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}t\ Z{\isachardot}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}card\ AD\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ card\ Z{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}cluster\ {\isacharparenleft}{\kern0pt}Some\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}ts{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ ws\ \isakeyword{where}\ ws{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ws\ {\isasymin}\ X{\isachardoublequoteclose}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ ws{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymAnd}a{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ j\ a\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ ws{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}card{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}X\ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}len\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}j{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}len\ fin{\isacharunderscore}{\kern0pt}AD\ fin{\isacharunderscore}{\kern0pt}X{\isacharbrackright}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth{\isacharbrackleft}{\kern0pt}OF\ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}len\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}X\ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}len{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ transfer\ {\isacharparenleft}{\kern0pt}fastforce\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isachardoublequoteclose}\ {\isachardoublequoteopen}ws\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ X{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ws\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}map\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlzd{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlzd\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}j{\isacharunderscore}{\kern0pt}ws{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}rem{\isacharunderscore}{\kern0pt}nth\ j\ ws\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymnoteq}{\isacharparenright}{\kern0pt}\ i{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ Some{\isacharbrackright}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}{\isasymtau}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymtau}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ esat{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ballI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ j\ x\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ ws{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}rem{\isacharbrackleft}{\kern0pt}of\ j\ {\isachardoublequoteopen}rem{\isacharunderscore}{\kern0pt}nth\ j\ ws{\isachardoublequoteclose}\ AD\ x{\isacharbrackright}{\kern0pt}\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}length\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}len{\isacharbrackleft}{\kern0pt}OF\ ws{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\ ws{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isasymtau}{\isacharparenleft}{\kern0pt}i\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ Some{\isacharcomma}{\kern0pt}\ of\ x{\isacharbrackright}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymtau}{\isacharparenleft}{\kern0pt}i\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ X{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ AD{\isacharunderscore}{\kern0pt}sub{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ dest{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqD{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}ws{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}rem{\isacharunderscore}{\kern0pt}nth\ j\ ws\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ Some{\isacharbrackright}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}forall\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ws{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ esat{\isacharunderscore}{\kern0pt}{\isasymtau}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}ws{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ vs\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ assm{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ assm\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymsigma}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ all{\isacharunderscore}{\kern0pt}esat{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}i\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{define}\isamarkupfalse%
\ ws\ \isakeyword{where}\ {\isachardoublequoteopen}ws\ {\isasymequiv}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}length\ ws\ {\isacharequal}{\kern0pt}\ nfv\ {\isasymphi}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ nfv{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}length\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ length{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ ws{\isacharunderscore}{\kern0pt}in{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ws\ {\isasymin}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ all{\isacharunderscore}{\kern0pt}esat{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isasymsigma}\ i{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ ws{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ ws{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}X{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ws\ {\isasymin}\ X{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ X{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymtau}\ \isakeyword{where}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ws\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}map\ ws{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}ws{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}rem{\isacharunderscore}{\kern0pt}nth\ j\ ws\ {\isacharequal}{\kern0pt}\ map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}sound{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isachardoublequoteclose}\ i\ j{\isacharbrackright}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\ Some\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}forall\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ set\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}forall{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}map\ {\isasymtau}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}subset{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackleft}{\kern0pt}of\ AD{\isacharbrackright}{\kern0pt}\ ws{\isacharunderscore}{\kern0pt}def\ {\isasymtau}{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ metis\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ map{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}cong{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ map\ {\isacharparenleft}{\kern0pt}{\isasymsigma}{\isacharparenleft}{\kern0pt}i\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}forall{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}vs\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ ws{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}ws\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackleft}{\kern0pt}unfolded\ map{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}cong{\isacharbrackright}{\kern0pt}\ \isacommand{{\isachardot}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}a{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ j\ a\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ ws{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\isanewline
\ \ \ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ a\isanewline
\ \ \ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ add{\isacharunderscore}{\kern0pt}rem{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ j\ a\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ ws{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}{\isasymtau}{\isacharparenleft}{\kern0pt}i\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}map{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ Some{\isacharcomma}{\kern0pt}\ of\ {\isacharunderscore}{\kern0pt}\ {\isasymtau}{\isacharbrackright}{\kern0pt}\ sorted{\isacharunderscore}{\kern0pt}distinct{\isacharunderscore}{\kern0pt}fv{\isacharunderscore}{\kern0pt}list\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}rem{\isacharprime}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ j\ {\isachardoublequoteopen}rem{\isacharunderscore}{\kern0pt}nth\ j\ ws{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}of\ j\ ws{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}len{\isacharbrackleft}{\kern0pt}OF\ ws{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}X{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp{\isacharcolon}{\kern0pt}\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I\ {\isasymtau}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ iffD{\isadigit{1}}{\isacharbrackleft}{\kern0pt}OF\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list\ {\isasymsigma}{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharcomma}{\kern0pt}\ OF\ {\isacharunderscore}{\kern0pt}\ subset{\isacharunderscore}{\kern0pt}refl{\isacharcomma}{\kern0pt}\ folded\ t{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharbrackleft}{\kern0pt}of\ AD\ {\isachardoublequoteopen}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharcomma}{\kern0pt}\ folded\ ws{\isacharunderscore}{\kern0pt}def{\isacharcomma}{\kern0pt}\ unfolded\ {\isasymtau}{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}link{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list{\isacharunderscore}{\kern0pt}set\ ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}sets{\isacharunderscore}{\kern0pt}def\ sp{\isacharunderscore}{\kern0pt}equiv{\isacharunderscore}{\kern0pt}def\ pairwise{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}esat\ {\isasymphi}\ I\ {\isacharparenleft}{\kern0pt}{\isasymtau}{\isacharparenleft}{\kern0pt}i\ {\isacharcolon}{\kern0pt}{\isacharequal}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth\ j\ a\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ ws{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\isanewline
\ \ \ \ \ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharbackquote}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ {\isacharbraceleft}{\kern0pt}{\isasymsigma}{\isachardot}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ add{\isacharunderscore}{\kern0pt}rem\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}vs\ {\isasymin}\ Mapping{\isachardot}{\kern0pt}keys\ {\isacharparenleft}{\kern0pt}Mapping{\isachardot}{\kern0pt}filter\ {\isacharparenleft}{\kern0pt}{\isasymlambda}t\ Z{\isachardot}{\kern0pt}\ Suc\ {\isacharparenleft}{\kern0pt}card\ AD\ {\isacharplus}{\kern0pt}\ card\ {\isacharparenleft}{\kern0pt}Inr\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ set\ t{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymle}\ card\ Z{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}cluster\ {\isacharparenleft}{\kern0pt}Some\ {\isasymcirc}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}ts{\isachardot}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz\ AD\ {\isacharparenleft}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ j\ ts{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ vs{\isacharunderscore}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth\ X{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}symmetric{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}iff{\isacharunderscore}{\kern0pt}card{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}X\ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}len\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}idem{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}sound{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ rem{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}j{\isacharunderscore}{\kern0pt}le{\isacharunderscore}{\kern0pt}len\ fin{\isacharunderscore}{\kern0pt}AD\ fin{\isacharunderscore}{\kern0pt}X{\isacharbrackright}{\kern0pt}\ set{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}nth{\isacharunderscore}{\kern0pt}rem{\isacharunderscore}{\kern0pt}nth{\isacharbrackleft}{\kern0pt}OF\ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}len\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}X\ j{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}len{\isacharbrackright}{\kern0pt}\ ws{\isacharunderscore}{\kern0pt}in{\isacharunderscore}{\kern0pt}X\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ transfer\ {\isacharparenleft}{\kern0pt}fastforce\ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ nfv{\isacharunderscore}{\kern0pt}ex{\isacharunderscore}{\kern0pt}all{\isacharbrackleft}{\kern0pt}OF\ Some{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def\ Some\ eval{\isacharunderscore}{\kern0pt}abs{\isacharunderscore}{\kern0pt}def\ nfv{\isacharunderscore}{\kern0pt}def\ img{\isacharunderscore}{\kern0pt}proj{\isacharunderscore}{\kern0pt}fmla{\isacharbrackleft}{\kern0pt}unfolded\ t{\isacharunderscore}{\kern0pt}def{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ split{\isacharcolon}{\kern0pt}\ option{\isachardot}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ wf{\isacharunderscore}{\kern0pt}all{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isacharparenleft}{\kern0pt}Forall\ i\ {\isasymphi}{\isacharparenright}{\kern0pt}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ wf\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}eval{\isacharunderscore}{\kern0pt}abs{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharunderscore}{\kern0pt}all{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ eval{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}res\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t\ {\isasymRightarrow}\ {\isacharprime}{\kern0pt}a\ eval{\isacharunderscore}{\kern0pt}res{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}res\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ fo{\isacharunderscore}{\kern0pt}fin\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ then\ Fin\ {\isacharparenleft}{\kern0pt}map\ projl\ {\isacharbackquote}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ else\ Infin{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}res{\isacharunderscore}{\kern0pt}fin{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ t\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ t{\isachardoublequoteclose}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}rep\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}res\ t\ {\isacharequal}{\kern0pt}\ Fin\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}rep\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ AD\ n\ X\ \isakeyword{where}\ t{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}fin\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ only{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}res{\isachardot}{\kern0pt}simps\ fo{\isacharunderscore}{\kern0pt}rep{\isacharunderscore}{\kern0pt}fin\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}res{\isacharunderscore}{\kern0pt}infin{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ t\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}t{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ t{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymnot}finite\ {\isacharparenleft}{\kern0pt}fo{\isacharunderscore}{\kern0pt}rep\ t{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}res\ t\ {\isacharequal}{\kern0pt}\ Infin{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ AD\ n\ X\ \isakeyword{where}\ t{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}fin\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}fastforce\ simp\ only{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def\ fo{\isacharunderscore}{\kern0pt}res{\isachardot}{\kern0pt}simps\ split{\isacharcolon}{\kern0pt}\ if{\isacharunderscore}{\kern0pt}splits{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}rep{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}fo{\isacharunderscore}{\kern0pt}wf\ {\isasymphi}\ I\ t\ {\isasymLongrightarrow}\ fo{\isacharunderscore}{\kern0pt}rep\ t\ {\isacharequal}{\kern0pt}\ proj{\isacharunderscore}{\kern0pt}sat\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{global{\isacharunderscore}{\kern0pt}interpretation}\isamarkupfalse%
\ Ailamazyan{\isacharcolon}{\kern0pt}\ eval{\isacharunderscore}{\kern0pt}fo\ fo{\isacharunderscore}{\kern0pt}wf\ eval{\isacharunderscore}{\kern0pt}pred\ fo{\isacharunderscore}{\kern0pt}rep\ fo{\isacharunderscore}{\kern0pt}res\isanewline
\ \ eval{\isacharunderscore}{\kern0pt}bool\ eval{\isacharunderscore}{\kern0pt}eq\ eval{\isacharunderscore}{\kern0pt}neg\ eval{\isacharunderscore}{\kern0pt}conj\ eval{\isacharunderscore}{\kern0pt}ajoin\ eval{\isacharunderscore}{\kern0pt}disj\isanewline
\ \ eval{\isacharunderscore}{\kern0pt}exists\ eval{\isacharunderscore}{\kern0pt}forall\isanewline
\ \ \isakeyword{defines}\ eval{\isacharunderscore}{\kern0pt}fmla\ {\isacharequal}{\kern0pt}\ Ailamazyan{\isachardot}{\kern0pt}eval{\isacharunderscore}{\kern0pt}fmla\isanewline
\ \ \ \ \ \ \isakeyword{and}\ eval\ {\isacharequal}{\kern0pt}\ Ailamazyan{\isachardot}{\kern0pt}eval\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ standard\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}rep{\isacharcomma}{\kern0pt}\ assumption{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}res{\isacharunderscore}{\kern0pt}fin{\isacharcomma}{\kern0pt}\ assumption{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ fo{\isacharunderscore}{\kern0pt}res{\isacharunderscore}{\kern0pt}infin{\isacharcomma}{\kern0pt}\ assumption{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ eval{\isacharunderscore}{\kern0pt}pred{\isacharcomma}{\kern0pt}\ assumption{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ eval{\isacharunderscore}{\kern0pt}bool{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ eval{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ eval{\isacharunderscore}{\kern0pt}neg{\isacharcomma}{\kern0pt}\ assumption{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ eval{\isacharunderscore}{\kern0pt}conj{\isacharcomma}{\kern0pt}\ assumption{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ eval{\isacharunderscore}{\kern0pt}ajoin{\isacharcomma}{\kern0pt}\ assumption{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ eval{\isacharunderscore}{\kern0pt}disj{\isacharcomma}{\kern0pt}\ assumption{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ eval{\isacharunderscore}{\kern0pt}exists{\isacharcomma}{\kern0pt}\ assumption{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}rule\ eval{\isacharunderscore}{\kern0pt}forall{\isacharcomma}{\kern0pt}\ assumption{\isacharplus}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{definition}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}UNIV\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ table{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}intp\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharplus}{\kern0pt}\ nat{\isacharparenright}{\kern0pt}\ val\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}esat{\isacharunderscore}{\kern0pt}UNIV\ {\isasymphi}\ I\ {\isasymsigma}\ {\isacharequal}{\kern0pt}\ esat\ {\isasymphi}\ I\ {\isasymsigma}\ UNIV{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}code{\isacharbrackleft}{\kern0pt}code{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}esat{\isacharunderscore}{\kern0pt}UNIV\ {\isasymphi}\ I\ {\isasymsigma}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}if\ wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isasymphi}\ I\ then\isanewline
\ \ {\isacharparenleft}{\kern0pt}case\ eval{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ I\ of\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\isanewline
\ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ X{\isacharparenright}{\kern0pt}\isanewline
\ \ else\ esat{\isacharunderscore}{\kern0pt}UNIV\ {\isasymphi}\ I\ {\isasymsigma}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ AD\ n\ T\ \isakeyword{where}\ t{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}Ailamazyan{\isachardot}{\kern0pt}eval{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ I\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ T{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}Ailamazyan{\isachardot}{\kern0pt}eval{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ I{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\ auto\isanewline
\ \ \isacommand{{\isacharbraceleft}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}wf\ {\isacharequal}{\kern0pt}\ Ailamazyan{\isachardot}{\kern0pt}eval{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}correct{\isacharbrackleft}{\kern0pt}OF\ wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp{\isacharcomma}{\kern0pt}\ unfolded\ t{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ T{\isacharunderscore}{\kern0pt}def\ {\isacharequal}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}wf{\isacharunderscore}{\kern0pt}X{\isacharbrackleft}{\kern0pt}OF\ fo{\isacharunderscore}{\kern0pt}wf{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ AD{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}AD\ {\isacharequal}{\kern0pt}\ act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fo{\isacharunderscore}{\kern0pt}wf\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}esat{\isacharunderscore}{\kern0pt}UNIV\ {\isasymphi}\ I\ {\isasymsigma}\ {\isasymlongleftrightarrow}\isanewline
\ \ \ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isasymsigma}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ T{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}ad{\isacharunderscore}{\kern0pt}agr{\isacharunderscore}{\kern0pt}list{\isacharbrackleft}{\kern0pt}OF\ {\isacharunderscore}{\kern0pt}\ subset{\isacharunderscore}{\kern0pt}refl{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}force\ simp\ add{\isacharcolon}{\kern0pt}\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}def\ T{\isacharunderscore}{\kern0pt}def\ AD{\isacharunderscore}{\kern0pt}def\ proj{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}map\isanewline
\ \ \ \ \ \ \ \ \ \ dest{\isacharbang}{\kern0pt}{\isacharcolon}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}nmlz{\isacharunderscore}{\kern0pt}eqD{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{{\isacharbraceright}{\kern0pt}}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp{\isacharcolon}{\kern0pt}\ t{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sat{\isacharunderscore}{\kern0pt}code{\isacharbrackleft}{\kern0pt}code{\isacharbrackright}{\kern0pt}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ {\isasymphi}\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharprime}{\kern0pt}a\ {\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ infinite{\isacharcomma}{\kern0pt}\ {\isacharprime}{\kern0pt}b{\isacharparenright}{\kern0pt}\ fo{\isacharunderscore}{\kern0pt}fmla{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sat\ {\isasymphi}\ I\ {\isasymsigma}\ {\isasymlongleftrightarrow}\ {\isacharparenleft}{\kern0pt}if\ wf{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}intp\ {\isasymphi}\ I\ then\isanewline
\ \ {\isacharparenleft}{\kern0pt}case\ eval{\isacharunderscore}{\kern0pt}fmla\ {\isasymphi}\ I\ of\ {\isacharparenleft}{\kern0pt}AD{\isacharcomma}{\kern0pt}\ n{\isacharcomma}{\kern0pt}\ X{\isacharparenright}{\kern0pt}\ {\isasymRightarrow}\isanewline
\ \ \ \ fo{\isacharunderscore}{\kern0pt}nmlz\ {\isacharparenleft}{\kern0pt}act{\isacharunderscore}{\kern0pt}edom\ {\isasymphi}\ I{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}map\ {\isacharparenleft}{\kern0pt}Inl\ {\isasymcirc}\ {\isasymsigma}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}fv{\isacharunderscore}{\kern0pt}fo{\isacharunderscore}{\kern0pt}fmla{\isacharunderscore}{\kern0pt}list\ {\isasymphi}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ X{\isacharparenright}{\kern0pt}\isanewline
\ \ else\ sat\ {\isasymphi}\ I\ {\isasymsigma}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}code\ sat{\isacharunderscore}{\kern0pt}esat{\isacharunderscore}{\kern0pt}conv{\isacharbrackleft}{\kern0pt}folded\ esat{\isacharunderscore}{\kern0pt}UNIV{\isacharunderscore}{\kern0pt}def{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ metis%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/phd/rewriting/ailamazyan/thys/Ailamazyan.thy%:%
%:%10=1%:%
%:%11=1%:%
%:%12=2%:%
%:%13=3%:%
%:%18=3%:%
%:%21=4%:%
%:%22=5%:%
%:%23=5%:%
%:%24=6%:%
%:%25=7%:%
%:%26=8%:%
%:%27=9%:%
%:%28=10%:%
%:%29=11%:%
%:%30=12%:%
%:%31=13%:%
%:%32=14%:%
%:%33=14%:%
%:%36=15%:%
%:%40=15%:%
%:%41=15%:%
%:%46=15%:%
%:%49=16%:%
%:%50=17%:%
%:%51=17%:%
%:%54=18%:%
%:%58=18%:%
%:%59=18%:%
%:%60=18%:%
%:%65=18%:%
%:%68=19%:%
%:%69=20%:%
%:%70=20%:%
%:%71=21%:%
%:%72=22%:%
%:%73=23%:%
%:%74=24%:%
%:%75=25%:%
%:%76=26%:%
%:%77=27%:%
%:%78=28%:%
%:%79=29%:%
%:%80=29%:%
%:%81=30%:%
%:%82=31%:%
%:%83=32%:%
%:%84=32%:%
%:%87=33%:%
%:%91=33%:%
%:%92=33%:%
%:%93=34%:%
%:%94=34%:%
%:%99=34%:%
%:%102=35%:%
%:%103=36%:%
%:%104=36%:%
%:%107=37%:%
%:%111=37%:%
%:%112=37%:%
%:%113=38%:%
%:%114=38%:%
%:%119=38%:%
%:%122=39%:%
%:%123=40%:%
%:%124=40%:%
%:%125=41%:%
%:%126=42%:%
%:%127=43%:%
%:%128=44%:%
%:%129=45%:%
%:%130=46%:%
%:%131=47%:%
%:%132=48%:%
%:%133=49%:%
%:%134=49%:%
%:%137=50%:%
%:%141=50%:%
%:%142=50%:%
%:%147=50%:%
%:%150=51%:%
%:%151=52%:%
%:%152=52%:%
%:%155=53%:%
%:%159=53%:%
%:%160=53%:%
%:%161=54%:%
%:%162=54%:%
%:%167=54%:%
%:%170=55%:%
%:%171=56%:%
%:%172=56%:%
%:%173=57%:%
%:%174=58%:%
%:%175=59%:%
%:%176=60%:%
%:%177=60%:%
%:%178=61%:%
%:%179=62%:%
%:%180=63%:%
%:%181=64%:%
%:%182=64%:%
%:%183=65%:%
%:%186=66%:%
%:%190=66%:%
%:%191=66%:%
%:%196=66%:%
%:%199=67%:%
%:%200=68%:%
%:%201=68%:%
%:%208=69%:%
%:%209=69%:%
%:%210=70%:%
%:%211=70%:%
%:%212=71%:%
%:%213=71%:%
%:%214=71%:%
%:%215=72%:%
%:%216=72%:%
%:%217=73%:%
%:%218=73%:%
%:%223=73%:%
%:%226=74%:%
%:%227=75%:%
%:%228=75%:%
%:%229=76%:%
%:%232=77%:%
%:%236=77%:%
%:%237=77%:%
%:%242=77%:%
%:%245=78%:%
%:%246=79%:%
%:%247=79%:%
%:%254=80%:%
%:%255=80%:%
%:%256=81%:%
%:%257=81%:%
%:%258=82%:%
%:%259=82%:%
%:%260=82%:%
%:%261=83%:%
%:%262=83%:%
%:%263=84%:%
%:%264=84%:%
%:%269=84%:%
%:%272=85%:%
%:%273=86%:%
%:%274=86%:%
%:%275=87%:%
%:%276=88%:%
%:%277=89%:%
%:%278=89%:%
%:%279=90%:%
%:%280=91%:%
%:%281=92%:%
%:%282=92%:%
%:%283=93%:%
%:%284=94%:%
%:%285=95%:%
%:%286=95%:%
%:%287=96%:%
%:%288=97%:%
%:%289=98%:%
%:%290=98%:%
%:%291=99%:%
%:%292=100%:%
%:%293=101%:%
%:%294=101%:%
%:%297=102%:%
%:%301=102%:%
%:%302=102%:%
%:%307=102%:%
%:%310=103%:%
%:%311=104%:%
%:%312=104%:%
%:%313=105%:%
%:%314=106%:%
%:%315=106%:%
%:%318=107%:%
%:%322=107%:%
%:%323=107%:%
%:%328=107%:%
%:%331=108%:%
%:%332=109%:%
%:%333=109%:%
%:%336=110%:%
%:%340=110%:%
%:%341=110%:%
%:%342=111%:%
%:%343=111%:%
%:%348=111%:%
%:%351=112%:%
%:%352=113%:%
%:%353=113%:%
%:%356=114%:%
%:%360=114%:%
%:%361=114%:%
%:%366=114%:%
%:%369=115%:%
%:%370=116%:%
%:%371=116%:%
%:%372=117%:%
%:%373=118%:%
%:%374=119%:%
%:%375=119%:%
%:%378=120%:%
%:%382=120%:%
%:%383=120%:%
%:%388=120%:%
%:%391=121%:%
%:%392=122%:%
%:%393=122%:%
%:%394=123%:%
%:%395=124%:%
%:%396=125%:%
%:%397=126%:%
%:%398=126%:%
%:%401=127%:%
%:%405=127%:%
%:%406=127%:%
%:%407=128%:%
%:%408=128%:%
%:%413=128%:%
%:%416=129%:%
%:%417=130%:%
%:%418=130%:%
%:%421=131%:%
%:%425=131%:%
%:%426=131%:%
%:%427=132%:%
%:%428=132%:%
%:%433=132%:%
%:%436=133%:%
%:%437=134%:%
%:%438=134%:%
%:%441=135%:%
%:%445=135%:%
%:%446=135%:%
%:%451=135%:%
%:%454=136%:%
%:%455=137%:%
%:%456=137%:%
%:%459=138%:%
%:%463=138%:%
%:%464=138%:%
%:%469=138%:%
%:%472=139%:%
%:%473=140%:%
%:%474=140%:%
%:%477=141%:%
%:%481=141%:%
%:%482=141%:%
%:%483=142%:%
%:%484=142%:%
%:%489=142%:%
%:%492=143%:%
%:%493=144%:%
%:%494=144%:%
%:%495=145%:%
%:%496=146%:%
%:%503=147%:%
%:%504=147%:%
%:%505=148%:%
%:%506=148%:%
%:%507=149%:%
%:%508=149%:%
%:%509=150%:%
%:%510=150%:%
%:%511=151%:%
%:%512=151%:%
%:%513=152%:%
%:%514=152%:%
%:%515=153%:%
%:%516=153%:%
%:%517=154%:%
%:%518=154%:%
%:%519=155%:%
%:%520=155%:%
%:%521=155%:%
%:%522=156%:%
%:%523=156%:%
%:%524=157%:%
%:%525=157%:%
%:%526=158%:%
%:%527=158%:%
%:%528=159%:%
%:%529=159%:%
%:%530=160%:%
%:%531=160%:%
%:%532=161%:%
%:%533=161%:%
%:%534=161%:%
%:%535=162%:%
%:%536=162%:%
%:%537=163%:%
%:%538=163%:%
%:%539=164%:%
%:%540=164%:%
%:%541=165%:%
%:%542=165%:%
%:%543=165%:%
%:%544=166%:%
%:%545=166%:%
%:%546=167%:%
%:%547=167%:%
%:%548=168%:%
%:%554=168%:%
%:%557=169%:%
%:%558=170%:%
%:%559=170%:%
%:%560=171%:%
%:%563=172%:%
%:%567=172%:%
%:%568=172%:%
%:%573=172%:%
%:%576=173%:%
%:%577=174%:%
%:%578=174%:%
%:%581=175%:%
%:%585=175%:%
%:%586=175%:%
%:%591=175%:%
%:%594=176%:%
%:%595=177%:%
%:%596=177%:%
%:%599=178%:%
%:%603=178%:%
%:%604=178%:%
%:%609=178%:%
%:%612=179%:%
%:%613=180%:%
%:%614=180%:%
%:%617=181%:%
%:%621=181%:%
%:%622=181%:%
%:%623=182%:%
%:%624=182%:%
%:%625=183%:%
%:%626=183%:%
%:%631=183%:%
%:%634=184%:%
%:%635=185%:%
%:%636=185%:%
%:%637=186%:%
%:%638=187%:%
%:%645=188%:%
%:%646=188%:%
%:%647=189%:%
%:%648=189%:%
%:%649=190%:%
%:%650=190%:%
%:%651=191%:%
%:%652=191%:%
%:%653=192%:%
%:%654=192%:%
%:%655=193%:%
%:%656=193%:%
%:%657=194%:%
%:%658=194%:%
%:%659=195%:%
%:%660=195%:%
%:%661=196%:%
%:%662=196%:%
%:%663=196%:%
%:%664=197%:%
%:%665=198%:%
%:%666=198%:%
%:%667=199%:%
%:%668=199%:%
%:%669=200%:%
%:%670=200%:%
%:%671=201%:%
%:%672=201%:%
%:%673=202%:%
%:%674=202%:%
%:%675=203%:%
%:%676=203%:%
%:%677=204%:%
%:%678=204%:%
%:%679=204%:%
%:%680=205%:%
%:%681=205%:%
%:%682=206%:%
%:%683=206%:%
%:%684=207%:%
%:%685=207%:%
%:%686=207%:%
%:%687=208%:%
%:%688=208%:%
%:%689=209%:%
%:%690=209%:%
%:%691=210%:%
%:%697=210%:%
%:%700=211%:%
%:%701=212%:%
%:%702=212%:%
%:%705=213%:%
%:%709=213%:%
%:%710=213%:%
%:%711=214%:%
%:%712=214%:%
%:%713=215%:%
%:%714=215%:%
%:%715=216%:%
%:%716=216%:%
%:%717=217%:%
%:%723=217%:%
%:%726=218%:%
%:%727=219%:%
%:%728=219%:%
%:%731=220%:%
%:%735=220%:%
%:%736=220%:%
%:%737=221%:%
%:%738=221%:%
%:%743=221%:%
%:%746=222%:%
%:%747=223%:%
%:%748=223%:%
%:%751=224%:%
%:%755=224%:%
%:%756=224%:%
%:%757=225%:%
%:%758=225%:%
%:%763=225%:%
%:%766=226%:%
%:%767=227%:%
%:%768=227%:%
%:%769=228%:%
%:%772=229%:%
%:%776=229%:%
%:%777=229%:%
%:%778=230%:%
%:%779=230%:%
%:%780=231%:%
%:%781=231%:%
%:%782=232%:%
%:%783=232%:%
%:%784=233%:%
%:%785=233%:%
%:%786=234%:%
%:%787=234%:%
%:%788=235%:%
%:%789=235%:%
%:%790=236%:%
%:%791=236%:%
%:%792=237%:%
%:%793=237%:%
%:%794=238%:%
%:%795=238%:%
%:%796=239%:%
%:%797=239%:%
%:%798=240%:%
%:%799=240%:%
%:%800=241%:%
%:%806=241%:%
%:%809=242%:%
%:%810=243%:%
%:%811=243%:%
%:%814=244%:%
%:%818=244%:%
%:%819=244%:%
%:%820=245%:%
%:%821=245%:%
%:%826=245%:%
%:%829=246%:%
%:%830=247%:%
%:%831=247%:%
%:%834=248%:%
%:%838=248%:%
%:%839=248%:%
%:%840=249%:%
%:%845=249%:%
%:%848=250%:%
%:%849=251%:%
%:%850=251%:%
%:%853=252%:%
%:%857=252%:%
%:%858=252%:%
%:%859=253%:%
%:%864=253%:%
%:%867=254%:%
%:%868=255%:%
%:%869=255%:%
%:%872=256%:%
%:%876=256%:%
%:%877=256%:%
%:%882=256%:%
%:%885=257%:%
%:%886=258%:%
%:%887=258%:%
%:%890=259%:%
%:%894=259%:%
%:%895=259%:%
%:%896=260%:%
%:%901=260%:%
%:%904=261%:%
%:%905=262%:%
%:%906=262%:%
%:%907=263%:%
%:%908=264%:%
%:%911=265%:%
%:%915=265%:%
%:%916=265%:%
%:%917=266%:%
%:%918=266%:%
%:%919=267%:%
%:%920=267%:%
%:%921=268%:%
%:%922=268%:%
%:%923=269%:%
%:%924=269%:%
%:%925=269%:%
%:%926=270%:%
%:%927=270%:%
%:%928=271%:%
%:%929=271%:%
%:%930=272%:%
%:%931=272%:%
%:%932=272%:%
%:%933=273%:%
%:%934=273%:%
%:%935=274%:%
%:%936=274%:%
%:%937=275%:%
%:%943=275%:%
%:%946=276%:%
%:%947=277%:%
%:%948=277%:%
%:%949=278%:%
%:%952=279%:%
%:%956=279%:%
%:%957=279%:%
%:%958=280%:%
%:%963=280%:%
%:%966=281%:%
%:%967=282%:%
%:%968=282%:%
%:%969=283%:%
%:%972=284%:%
%:%976=284%:%
%:%977=284%:%
%:%978=285%:%
%:%979=285%:%
%:%980=286%:%
%:%981=286%:%
%:%986=286%:%
%:%989=287%:%
%:%990=288%:%
%:%991=288%:%
%:%992=289%:%
%:%993=290%:%
%:%994=291%:%
%:%995=291%:%
%:%996=292%:%
%:%999=293%:%
%:%1003=293%:%
%:%1004=293%:%
%:%1005=294%:%
%:%1006=294%:%
%:%1007=295%:%
%:%1008=295%:%
%:%1013=295%:%
%:%1016=296%:%
%:%1017=297%:%
%:%1018=297%:%
%:%1021=298%:%
%:%1025=298%:%
%:%1026=298%:%
%:%1027=299%:%
%:%1028=299%:%
%:%1033=299%:%
%:%1036=300%:%
%:%1037=301%:%
%:%1038=301%:%
%:%1039=302%:%
%:%1040=303%:%
%:%1043=304%:%
%:%1047=304%:%
%:%1048=304%:%
%:%1049=305%:%
%:%1050=305%:%
%:%1055=305%:%
%:%1058=306%:%
%:%1059=307%:%
%:%1060=307%:%
%:%1061=308%:%
%:%1062=309%:%
%:%1063=310%:%
%:%1070=311%:%
%:%1071=311%:%
%:%1072=312%:%
%:%1073=312%:%
%:%1074=313%:%
%:%1075=313%:%
%:%1076=314%:%
%:%1077=314%:%
%:%1078=315%:%
%:%1079=315%:%
%:%1080=316%:%
%:%1081=316%:%
%:%1082=317%:%
%:%1083=317%:%
%:%1084=318%:%
%:%1085=318%:%
%:%1086=319%:%
%:%1087=319%:%
%:%1088=320%:%
%:%1089=320%:%
%:%1090=321%:%
%:%1091=321%:%
%:%1092=322%:%
%:%1093=322%:%
%:%1094=323%:%
%:%1095=323%:%
%:%1096=324%:%
%:%1097=324%:%
%:%1098=325%:%
%:%1099=325%:%
%:%1100=326%:%
%:%1101=326%:%
%:%1102=327%:%
%:%1103=327%:%
%:%1104=328%:%
%:%1105=328%:%
%:%1106=329%:%
%:%1107=329%:%
%:%1108=330%:%
%:%1109=330%:%
%:%1110=331%:%
%:%1111=331%:%
%:%1112=332%:%
%:%1113=332%:%
%:%1114=333%:%
%:%1115=333%:%
%:%1116=334%:%
%:%1117=334%:%
%:%1118=335%:%
%:%1119=335%:%
%:%1120=336%:%
%:%1121=336%:%
%:%1122=337%:%
%:%1123=337%:%
%:%1124=338%:%
%:%1125=338%:%
%:%1126=339%:%
%:%1127=339%:%
%:%1128=340%:%
%:%1129=340%:%
%:%1130=341%:%
%:%1131=341%:%
%:%1132=342%:%
%:%1133=342%:%
%:%1134=343%:%
%:%1135=343%:%
%:%1136=344%:%
%:%1137=344%:%
%:%1138=345%:%
%:%1139=345%:%
%:%1140=346%:%
%:%1141=346%:%
%:%1142=347%:%
%:%1143=347%:%
%:%1144=348%:%
%:%1145=348%:%
%:%1146=349%:%
%:%1147=349%:%
%:%1148=350%:%
%:%1149=350%:%
%:%1150=351%:%
%:%1151=351%:%
%:%1152=352%:%
%:%1153=352%:%
%:%1154=353%:%
%:%1155=353%:%
%:%1156=354%:%
%:%1157=354%:%
%:%1158=355%:%
%:%1159=355%:%
%:%1160=356%:%
%:%1161=356%:%
%:%1162=357%:%
%:%1163=357%:%
%:%1164=358%:%
%:%1165=358%:%
%:%1166=359%:%
%:%1167=359%:%
%:%1168=360%:%
%:%1169=360%:%
%:%1170=361%:%
%:%1171=361%:%
%:%1172=362%:%
%:%1173=362%:%
%:%1174=363%:%
%:%1175=363%:%
%:%1176=364%:%
%:%1177=364%:%
%:%1178=365%:%
%:%1179=365%:%
%:%1180=366%:%
%:%1181=366%:%
%:%1182=367%:%
%:%1183=367%:%
%:%1184=368%:%
%:%1185=368%:%
%:%1186=369%:%
%:%1187=369%:%
%:%1188=370%:%
%:%1189=370%:%
%:%1190=371%:%
%:%1191=371%:%
%:%1192=372%:%
%:%1193=372%:%
%:%1194=373%:%
%:%1195=373%:%
%:%1196=374%:%
%:%1197=374%:%
%:%1198=375%:%
%:%1199=375%:%
%:%1200=376%:%
%:%1201=376%:%
%:%1202=377%:%
%:%1203=377%:%
%:%1204=378%:%
%:%1210=378%:%
%:%1213=379%:%
%:%1214=380%:%
%:%1215=380%:%
%:%1216=381%:%
%:%1217=382%:%
%:%1218=383%:%
%:%1225=384%:%
%:%1226=384%:%
%:%1227=385%:%
%:%1228=385%:%
%:%1229=386%:%
%:%1230=386%:%
%:%1231=387%:%
%:%1232=387%:%
%:%1233=388%:%
%:%1234=388%:%
%:%1235=389%:%
%:%1236=389%:%
%:%1237=390%:%
%:%1238=390%:%
%:%1239=391%:%
%:%1240=391%:%
%:%1241=392%:%
%:%1242=392%:%
%:%1243=392%:%
%:%1244=393%:%
%:%1245=393%:%
%:%1246=394%:%
%:%1247=394%:%
%:%1248=395%:%
%:%1249=395%:%
%:%1250=396%:%
%:%1251=396%:%
%:%1252=396%:%
%:%1253=397%:%
%:%1254=397%:%
%:%1255=398%:%
%:%1256=398%:%
%:%1257=399%:%
%:%1258=399%:%
%:%1259=399%:%
%:%1260=400%:%
%:%1261=400%:%
%:%1262=401%:%
%:%1263=401%:%
%:%1264=402%:%
%:%1265=402%:%
%:%1266=403%:%
%:%1267=403%:%
%:%1272=403%:%
%:%1275=404%:%
%:%1276=405%:%
%:%1277=405%:%
%:%1278=406%:%
%:%1279=407%:%
%:%1280=408%:%
%:%1283=409%:%
%:%1287=409%:%
%:%1288=409%:%
%:%1289=410%:%
%:%1290=410%:%
%:%1291=411%:%
%:%1292=411%:%
%:%1293=412%:%
%:%1294=412%:%
%:%1295=413%:%
%:%1296=413%:%
%:%1297=414%:%
%:%1298=414%:%
%:%1299=415%:%
%:%1300=415%:%
%:%1301=416%:%
%:%1302=416%:%
%:%1303=417%:%
%:%1304=417%:%
%:%1305=418%:%
%:%1306=418%:%
%:%1307=419%:%
%:%1308=419%:%
%:%1309=420%:%
%:%1310=420%:%
%:%1311=421%:%
%:%1312=421%:%
%:%1313=422%:%
%:%1314=422%:%
%:%1315=423%:%
%:%1316=423%:%
%:%1317=424%:%
%:%1318=424%:%
%:%1319=425%:%
%:%1320=425%:%
%:%1321=426%:%
%:%1322=426%:%
%:%1323=427%:%
%:%1324=427%:%
%:%1325=428%:%
%:%1326=428%:%
%:%1327=429%:%
%:%1328=429%:%
%:%1329=430%:%
%:%1330=431%:%
%:%1331=431%:%
%:%1332=432%:%
%:%1333=432%:%
%:%1334=432%:%
%:%1335=433%:%
%:%1336=433%:%
%:%1337=434%:%
%:%1338=434%:%
%:%1339=435%:%
%:%1340=435%:%
%:%1341=436%:%
%:%1342=436%:%
%:%1343=437%:%
%:%1344=437%:%
%:%1345=438%:%
%:%1346=438%:%
%:%1347=439%:%
%:%1348=439%:%
%:%1349=440%:%
%:%1350=440%:%
%:%1351=441%:%
%:%1352=441%:%
%:%1353=442%:%
%:%1354=442%:%
%:%1355=443%:%
%:%1356=443%:%
%:%1357=444%:%
%:%1358=444%:%
%:%1359=445%:%
%:%1360=445%:%
%:%1361=446%:%
%:%1362=446%:%
%:%1363=447%:%
%:%1364=447%:%
%:%1365=448%:%
%:%1366=448%:%
%:%1367=449%:%
%:%1368=449%:%
%:%1369=450%:%
%:%1370=450%:%
%:%1371=451%:%
%:%1372=451%:%
%:%1373=452%:%
%:%1374=452%:%
%:%1375=453%:%
%:%1376=453%:%
%:%1377=453%:%
%:%1378=454%:%
%:%1379=454%:%
%:%1380=455%:%
%:%1381=455%:%
%:%1382=456%:%
%:%1383=456%:%
%:%1384=457%:%
%:%1385=457%:%
%:%1386=458%:%
%:%1387=458%:%
%:%1392=458%:%
%:%1395=459%:%
%:%1396=460%:%
%:%1397=460%:%
%:%1398=461%:%
%:%1399=462%:%
%:%1400=463%:%
%:%1401=464%:%
%:%1408=465%:%
%:%1409=465%:%
%:%1410=466%:%
%:%1411=466%:%
%:%1412=467%:%
%:%1413=467%:%
%:%1414=468%:%
%:%1415=468%:%
%:%1416=469%:%
%:%1417=469%:%
%:%1418=470%:%
%:%1419=470%:%
%:%1420=471%:%
%:%1421=471%:%
%:%1422=472%:%
%:%1423=472%:%
%:%1424=473%:%
%:%1425=473%:%
%:%1426=473%:%
%:%1427=474%:%
%:%1428=474%:%
%:%1429=475%:%
%:%1430=475%:%
%:%1431=476%:%
%:%1432=476%:%
%:%1433=476%:%
%:%1434=477%:%
%:%1435=478%:%
%:%1436=478%:%
%:%1437=479%:%
%:%1438=479%:%
%:%1439=480%:%
%:%1440=480%:%
%:%1441=481%:%
%:%1442=481%:%
%:%1443=482%:%
%:%1444=482%:%
%:%1445=483%:%
%:%1446=483%:%
%:%1447=484%:%
%:%1448=484%:%
%:%1449=485%:%
%:%1450=485%:%
%:%1451=486%:%
%:%1457=486%:%
%:%1460=487%:%
%:%1461=488%:%
%:%1462=488%:%
%:%1463=489%:%
%:%1464=490%:%
%:%1465=490%:%
%:%1466=491%:%
%:%1467=492%:%
%:%1468=493%:%
%:%1469=494%:%
%:%1470=495%:%
%:%1471=496%:%
%:%1472=497%:%
%:%1473=498%:%
%:%1474=499%:%
%:%1475=500%:%
%:%1476=500%:%
%:%1477=501%:%
%:%1478=502%:%
%:%1479=503%:%
%:%1480=504%:%
%:%1481=505%:%
%:%1482=506%:%
%:%1483=507%:%
%:%1484=508%:%
%:%1485=508%:%
%:%1486=509%:%
%:%1489=512%:%
%:%1496=513%:%
%:%1497=513%:%
%:%1498=514%:%
%:%1499=514%:%
%:%1500=515%:%
%:%1501=515%:%
%:%1502=516%:%
%:%1503=516%:%
%:%1504=517%:%
%:%1505=517%:%
%:%1506=518%:%
%:%1507=518%:%
%:%1508=518%:%
%:%1509=519%:%
%:%1510=519%:%
%:%1511=520%:%
%:%1512=520%:%
%:%1513=521%:%
%:%1519=521%:%
%:%1522=522%:%
%:%1523=523%:%
%:%1524=523%:%
%:%1531=524%:%
%:%1532=524%:%
%:%1533=525%:%
%:%1534=525%:%
%:%1535=526%:%
%:%1536=526%:%
%:%1537=526%:%
%:%1538=527%:%
%:%1539=527%:%
%:%1540=528%:%
%:%1541=529%:%
%:%1542=530%:%
%:%1543=530%:%
%:%1544=531%:%
%:%1545=531%:%
%:%1546=532%:%
%:%1547=532%:%
%:%1548=532%:%
%:%1549=533%:%
%:%1550=533%:%
%:%1551=534%:%
%:%1552=534%:%
%:%1553=535%:%
%:%1554=535%:%
%:%1555=536%:%
%:%1556=536%:%
%:%1557=537%:%
%:%1558=537%:%
%:%1559=537%:%
%:%1560=538%:%
%:%1561=538%:%
%:%1562=539%:%
%:%1563=539%:%
%:%1564=540%:%
%:%1565=540%:%
%:%1566=541%:%
%:%1567=541%:%
%:%1568=541%:%
%:%1569=542%:%
%:%1570=542%:%
%:%1571=543%:%
%:%1572=543%:%
%:%1573=544%:%
%:%1574=544%:%
%:%1575=545%:%
%:%1576=545%:%
%:%1577=545%:%
%:%1578=546%:%
%:%1579=546%:%
%:%1580=547%:%
%:%1581=547%:%
%:%1582=548%:%
%:%1583=548%:%
%:%1584=549%:%
%:%1585=549%:%
%:%1586=550%:%
%:%1587=550%:%
%:%1588=551%:%
%:%1589=551%:%
%:%1590=551%:%
%:%1591=552%:%
%:%1592=552%:%
%:%1593=553%:%
%:%1594=553%:%
%:%1595=553%:%
%:%1596=554%:%
%:%1597=554%:%
%:%1598=554%:%
%:%1599=555%:%
%:%1600=555%:%
%:%1601=555%:%
%:%1602=556%:%
%:%1603=556%:%
%:%1604=557%:%
%:%1605=557%:%
%:%1606=558%:%
%:%1607=558%:%
%:%1608=559%:%
%:%1609=559%:%
%:%1610=559%:%
%:%1611=560%:%
%:%1612=560%:%
%:%1613=561%:%
%:%1614=561%:%
%:%1615=561%:%
%:%1616=562%:%
%:%1617=562%:%
%:%1618=562%:%
%:%1619=563%:%
%:%1620=563%:%
%:%1621=563%:%
%:%1622=564%:%
%:%1623=564%:%
%:%1624=565%:%
%:%1625=565%:%
%:%1626=566%:%
%:%1627=566%:%
%:%1628=567%:%
%:%1629=567%:%
%:%1630=568%:%
%:%1631=568%:%
%:%1632=568%:%
%:%1633=569%:%
%:%1634=569%:%
%:%1635=570%:%
%:%1636=570%:%
%:%1641=570%:%
%:%1644=571%:%
%:%1645=572%:%
%:%1646=572%:%
%:%1647=573%:%
%:%1648=574%:%
%:%1649=575%:%
%:%1650=575%:%
%:%1651=576%:%
%:%1652=577%:%
%:%1653=578%:%
%:%1654=579%:%
%:%1655=580%:%
%:%1656=581%:%
%:%1657=582%:%
%:%1658=583%:%
%:%1659=584%:%
%:%1660=585%:%
%:%1661=585%:%
%:%1664=586%:%
%:%1668=586%:%
%:%1669=586%:%
%:%1670=587%:%
%:%1671=587%:%
%:%1672=588%:%
%:%1677=588%:%
%:%1680=589%:%
%:%1681=590%:%
%:%1682=590%:%
%:%1683=591%:%
%:%1684=592%:%
%:%1685=593%:%
%:%1686=593%:%
%:%1688=595%:%
%:%1695=596%:%
%:%1696=596%:%
%:%1697=597%:%
%:%1698=597%:%
%:%1699=598%:%
%:%1700=598%:%
%:%1701=599%:%
%:%1702=599%:%
%:%1703=600%:%
%:%1704=600%:%
%:%1705=601%:%
%:%1706=601%:%
%:%1707=602%:%
%:%1708=602%:%
%:%1709=603%:%
%:%1710=603%:%
%:%1711=604%:%
%:%1712=604%:%
%:%1713=605%:%
%:%1714=605%:%
%:%1715=606%:%
%:%1716=606%:%
%:%1717=607%:%
%:%1718=607%:%
%:%1719=608%:%
%:%1720=608%:%
%:%1721=609%:%
%:%1722=610%:%
%:%1723=610%:%
%:%1724=611%:%
%:%1725=611%:%
%:%1726=611%:%
%:%1727=612%:%
%:%1728=612%:%
%:%1729=613%:%
%:%1730=613%:%
%:%1731=614%:%
%:%1732=614%:%
%:%1733=615%:%
%:%1734=615%:%
%:%1735=616%:%
%:%1736=616%:%
%:%1737=617%:%
%:%1738=618%:%
%:%1739=618%:%
%:%1740=619%:%
%:%1741=619%:%
%:%1742=619%:%
%:%1743=620%:%
%:%1744=620%:%
%:%1745=621%:%
%:%1746=621%:%
%:%1747=622%:%
%:%1748=622%:%
%:%1749=623%:%
%:%1750=623%:%
%:%1751=624%:%
%:%1752=624%:%
%:%1753=625%:%
%:%1754=625%:%
%:%1755=626%:%
%:%1756=626%:%
%:%1757=627%:%
%:%1758=627%:%
%:%1759=628%:%
%:%1760=628%:%
%:%1761=628%:%
%:%1762=629%:%
%:%1763=629%:%
%:%1764=630%:%
%:%1765=630%:%
%:%1766=631%:%
%:%1767=631%:%
%:%1768=632%:%
%:%1769=632%:%
%:%1770=633%:%
%:%1771=633%:%
%:%1772=633%:%
%:%1773=634%:%
%:%1774=634%:%
%:%1775=635%:%
%:%1776=635%:%
%:%1777=636%:%
%:%1778=636%:%
%:%1779=637%:%
%:%1780=637%:%
%:%1781=637%:%
%:%1782=638%:%
%:%1783=638%:%
%:%1784=639%:%
%:%1785=639%:%
%:%1786=640%:%
%:%1787=640%:%
%:%1788=641%:%
%:%1789=641%:%
%:%1790=642%:%
%:%1791=642%:%
%:%1792=642%:%
%:%1793=643%:%
%:%1794=643%:%
%:%1795=644%:%
%:%1796=644%:%
%:%1797=645%:%
%:%1798=645%:%
%:%1799=646%:%
%:%1800=646%:%
%:%1801=646%:%
%:%1802=647%:%
%:%1803=647%:%
%:%1804=648%:%
%:%1805=648%:%
%:%1806=649%:%
%:%1807=649%:%
%:%1808=650%:%
%:%1809=650%:%
%:%1810=651%:%
%:%1811=651%:%
%:%1812=651%:%
%:%1813=652%:%
%:%1814=652%:%
%:%1815=653%:%
%:%1816=653%:%
%:%1817=653%:%
%:%1818=654%:%
%:%1819=654%:%
%:%1820=655%:%
%:%1821=655%:%
%:%1822=656%:%
%:%1823=656%:%
%:%1824=657%:%
%:%1825=657%:%
%:%1826=658%:%
%:%1827=658%:%
%:%1828=658%:%
%:%1829=659%:%
%:%1830=659%:%
%:%1831=660%:%
%:%1832=660%:%
%:%1833=660%:%
%:%1834=661%:%
%:%1835=661%:%
%:%1836=662%:%
%:%1837=662%:%
%:%1838=663%:%
%:%1839=663%:%
%:%1840=664%:%
%:%1841=664%:%
%:%1842=665%:%
%:%1843=666%:%
%:%1844=667%:%
%:%1845=667%:%
%:%1846=668%:%
%:%1847=668%:%
%:%1848=669%:%
%:%1849=669%:%
%:%1850=670%:%
%:%1851=670%:%
%:%1852=671%:%
%:%1853=671%:%
%:%1854=672%:%
%:%1855=672%:%
%:%1856=673%:%
%:%1857=673%:%
%:%1858=674%:%
%:%1859=674%:%
%:%1860=675%:%
%:%1861=676%:%
%:%1862=677%:%
%:%1863=677%:%
%:%1864=678%:%
%:%1865=678%:%
%:%1866=679%:%
%:%1867=679%:%
%:%1868=680%:%
%:%1869=680%:%
%:%1870=681%:%
%:%1871=681%:%
%:%1872=682%:%
%:%1873=682%:%
%:%1874=683%:%
%:%1875=683%:%
%:%1876=684%:%
%:%1877=684%:%
%:%1878=685%:%
%:%1879=685%:%
%:%1880=686%:%
%:%1881=686%:%
%:%1882=687%:%
%:%1883=687%:%
%:%1884=687%:%
%:%1885=688%:%
%:%1886=688%:%
%:%1887=689%:%
%:%1888=689%:%
%:%1889=690%:%
%:%1890=690%:%
%:%1891=691%:%
%:%1892=692%:%
%:%1893=692%:%
%:%1894=692%:%
%:%1895=693%:%
%:%1896=693%:%
%:%1897=694%:%
%:%1898=694%:%
%:%1899=694%:%
%:%1900=695%:%
%:%1901=695%:%
%:%1902=696%:%
%:%1903=696%:%
%:%1904=697%:%
%:%1905=697%:%
%:%1906=697%:%
%:%1907=698%:%
%:%1908=698%:%
%:%1909=699%:%
%:%1910=700%:%
%:%1911=701%:%
%:%1912=701%:%
%:%1913=702%:%
%:%1914=702%:%
%:%1915=702%:%
%:%1916=703%:%
%:%1917=703%:%
%:%1918=704%:%
%:%1919=704%:%
%:%1920=704%:%
%:%1921=705%:%
%:%1922=705%:%
%:%1923=705%:%
%:%1924=706%:%
%:%1925=706%:%
%:%1926=706%:%
%:%1927=707%:%
%:%1928=707%:%
%:%1929=708%:%
%:%1930=708%:%
%:%1931=709%:%
%:%1932=709%:%
%:%1933=709%:%
%:%1934=710%:%
%:%1935=710%:%
%:%1936=711%:%
%:%1937=711%:%
%:%1938=712%:%
%:%1939=712%:%
%:%1940=713%:%
%:%1941=713%:%
%:%1942=713%:%
%:%1943=714%:%
%:%1944=714%:%
%:%1945=715%:%
%:%1946=715%:%
%:%1947=716%:%
%:%1948=716%:%
%:%1949=717%:%
%:%1950=717%:%
%:%1951=718%:%
%:%1952=718%:%
%:%1953=719%:%
%:%1954=719%:%
%:%1955=720%:%
%:%1956=720%:%
%:%1957=721%:%
%:%1958=721%:%
%:%1959=722%:%
%:%1960=722%:%
%:%1961=722%:%
%:%1962=723%:%
%:%1963=723%:%
%:%1964=724%:%
%:%1965=724%:%
%:%1966=725%:%
%:%1967=725%:%
%:%1968=726%:%
%:%1969=726%:%
%:%1970=727%:%
%:%1971=727%:%
%:%1972=727%:%
%:%1973=728%:%
%:%1974=728%:%
%:%1975=729%:%
%:%1976=729%:%
%:%1977=730%:%
%:%1978=730%:%
%:%1979=730%:%
%:%1980=731%:%
%:%1981=731%:%
%:%1982=732%:%
%:%1983=732%:%
%:%1984=733%:%
%:%1985=733%:%
%:%1986=734%:%
%:%1987=734%:%
%:%1988=735%:%
%:%1989=735%:%
%:%1990=736%:%
%:%1991=737%:%
%:%1992=738%:%
%:%1993=738%:%
%:%1994=739%:%
%:%1995=739%:%
%:%1996=740%:%
%:%1997=740%:%
%:%1998=741%:%
%:%1999=741%:%
%:%2000=742%:%
%:%2001=742%:%
%:%2002=743%:%
%:%2003=743%:%
%:%2004=744%:%
%:%2005=744%:%
%:%2006=745%:%
%:%2007=745%:%
%:%2012=745%:%
%:%2015=746%:%
%:%2016=747%:%
%:%2017=747%:%
%:%2018=748%:%
%:%2019=749%:%
%:%2020=750%:%
%:%2027=751%:%
%:%2028=751%:%
%:%2029=752%:%
%:%2030=752%:%
%:%2031=753%:%
%:%2032=753%:%
%:%2033=754%:%
%:%2034=754%:%
%:%2035=755%:%
%:%2041=755%:%
%:%2044=756%:%
%:%2045=757%:%
%:%2046=757%:%
%:%2047=758%:%
%:%2048=759%:%
%:%2049=760%:%
%:%2056=761%:%
%:%2057=761%:%
%:%2058=762%:%
%:%2059=762%:%
%:%2060=763%:%
%:%2061=763%:%
%:%2062=764%:%
%:%2063=764%:%
%:%2064=765%:%
%:%2070=765%:%
%:%2073=766%:%
%:%2074=767%:%
%:%2075=767%:%
%:%2076=768%:%
%:%2077=769%:%
%:%2078=770%:%
%:%2079=771%:%
%:%2082=772%:%
%:%2086=772%:%
%:%2087=772%:%
%:%2088=773%:%
%:%2094=773%:%
%:%2097=774%:%
%:%2098=775%:%
%:%2099=775%:%
%:%2100=776%:%
%:%2101=777%:%
%:%2102=778%:%
%:%2103=778%:%
%:%2104=779%:%
%:%2105=780%:%
%:%2106=781%:%
%:%2109=782%:%
%:%2113=782%:%
%:%2114=782%:%
%:%2115=783%:%
%:%2116=783%:%
%:%2117=784%:%
%:%2118=784%:%
%:%2119=785%:%
%:%2120=785%:%
%:%2121=786%:%
%:%2122=786%:%
%:%2123=787%:%
%:%2124=787%:%
%:%2125=788%:%
%:%2126=788%:%
%:%2127=789%:%
%:%2128=789%:%
%:%2129=790%:%
%:%2130=790%:%
%:%2131=791%:%
%:%2132=791%:%
%:%2133=792%:%
%:%2134=792%:%
%:%2135=793%:%
%:%2136=793%:%
%:%2137=794%:%
%:%2138=794%:%
%:%2139=795%:%
%:%2140=795%:%
%:%2141=796%:%
%:%2142=796%:%
%:%2143=797%:%
%:%2144=797%:%
%:%2145=797%:%
%:%2146=798%:%
%:%2147=798%:%
%:%2148=799%:%
%:%2149=799%:%
%:%2150=800%:%
%:%2151=800%:%
%:%2152=801%:%
%:%2153=801%:%
%:%2154=802%:%
%:%2155=802%:%
%:%2156=803%:%
%:%2157=803%:%
%:%2158=804%:%
%:%2159=804%:%
%:%2160=805%:%
%:%2161=805%:%
%:%2162=806%:%
%:%2163=806%:%
%:%2164=807%:%
%:%2165=807%:%
%:%2166=808%:%
%:%2167=808%:%
%:%2168=808%:%
%:%2169=809%:%
%:%2170=809%:%
%:%2171=810%:%
%:%2172=810%:%
%:%2173=811%:%
%:%2174=811%:%
%:%2175=812%:%
%:%2176=812%:%
%:%2177=813%:%
%:%2178=813%:%
%:%2179=814%:%
%:%2180=814%:%
%:%2181=815%:%
%:%2182=815%:%
%:%2183=816%:%
%:%2184=816%:%
%:%2185=817%:%
%:%2186=817%:%
%:%2187=818%:%
%:%2188=818%:%
%:%2189=819%:%
%:%2190=819%:%
%:%2191=820%:%
%:%2192=820%:%
%:%2193=821%:%
%:%2194=821%:%
%:%2195=822%:%
%:%2196=822%:%
%:%2197=823%:%
%:%2198=823%:%
%:%2199=824%:%
%:%2200=824%:%
%:%2201=825%:%
%:%2202=825%:%
%:%2203=826%:%
%:%2204=826%:%
%:%2205=827%:%
%:%2206=827%:%
%:%2207=828%:%
%:%2208=829%:%
%:%2209=829%:%
%:%2210=830%:%
%:%2211=830%:%
%:%2212=831%:%
%:%2213=831%:%
%:%2214=832%:%
%:%2215=832%:%
%:%2216=833%:%
%:%2217=833%:%
%:%2218=834%:%
%:%2219=834%:%
%:%2220=835%:%
%:%2221=835%:%
%:%2222=836%:%
%:%2223=836%:%
%:%2224=836%:%
%:%2225=837%:%
%:%2226=837%:%
%:%2227=838%:%
%:%2228=838%:%
%:%2229=839%:%
%:%2230=839%:%
%:%2231=840%:%
%:%2232=840%:%
%:%2233=841%:%
%:%2234=841%:%
%:%2235=842%:%
%:%2236=842%:%
%:%2237=843%:%
%:%2238=843%:%
%:%2239=844%:%
%:%2240=844%:%
%:%2241=845%:%
%:%2242=845%:%
%:%2247=845%:%
%:%2250=846%:%
%:%2251=847%:%
%:%2252=847%:%
%:%2253=848%:%
%:%2254=849%:%
%:%2255=850%:%
%:%2256=851%:%
%:%2257=852%:%
%:%2258=853%:%
%:%2261=854%:%
%:%2265=854%:%
%:%2266=854%:%
%:%2267=855%:%
%:%2268=855%:%
%:%2273=855%:%
%:%2276=856%:%
%:%2277=857%:%
%:%2278=857%:%
%:%2279=858%:%
%:%2280=859%:%
%:%2281=860%:%
%:%2282=860%:%
%:%2289=861%:%
%:%2290=861%:%
%:%2291=862%:%
%:%2292=862%:%
%:%2293=863%:%
%:%2294=863%:%
%:%2295=864%:%
%:%2296=864%:%
%:%2297=865%:%
%:%2298=865%:%
%:%2299=865%:%
%:%2300=866%:%
%:%2301=866%:%
%:%2302=866%:%
%:%2303=867%:%
%:%2304=867%:%
%:%2305=867%:%
%:%2306=868%:%
%:%2307=868%:%
%:%2308=868%:%
%:%2309=869%:%
%:%2315=869%:%
%:%2318=870%:%
%:%2319=871%:%
%:%2320=871%:%
%:%2321=872%:%
%:%2322=873%:%
%:%2323=874%:%
%:%2324=875%:%
%:%2325=875%:%
%:%2326=876%:%
%:%2329=877%:%
%:%2333=877%:%
%:%2334=877%:%
%:%2335=878%:%
%:%2336=878%:%
%:%2337=879%:%
%:%2338=879%:%
%:%2343=879%:%
%:%2346=880%:%
%:%2347=881%:%
%:%2348=881%:%
%:%2351=882%:%
%:%2355=882%:%
%:%2356=882%:%
%:%2357=883%:%
%:%2358=883%:%
%:%2363=883%:%
%:%2366=884%:%
%:%2367=885%:%
%:%2368=885%:%
%:%2371=886%:%
%:%2375=886%:%
%:%2376=886%:%
%:%2377=887%:%
%:%2378=887%:%
%:%2379=888%:%
%:%2380=888%:%
%:%2381=889%:%
%:%2382=889%:%
%:%2383=890%:%
%:%2389=890%:%
%:%2392=891%:%
%:%2393=892%:%
%:%2394=892%:%
%:%2401=893%:%
%:%2402=893%:%
%:%2403=894%:%
%:%2404=894%:%
%:%2405=895%:%
%:%2406=895%:%
%:%2407=896%:%
%:%2408=896%:%
%:%2409=897%:%
%:%2410=897%:%
%:%2411=898%:%
%:%2412=898%:%
%:%2413=899%:%
%:%2414=899%:%
%:%2415=899%:%
%:%2416=900%:%
%:%2417=900%:%
%:%2418=901%:%
%:%2419=902%:%
%:%2420=902%:%
%:%2421=903%:%
%:%2422=903%:%
%:%2423=904%:%
%:%2424=904%:%
%:%2425=905%:%
%:%2426=905%:%
%:%2427=906%:%
%:%2428=906%:%
%:%2429=907%:%
%:%2430=907%:%
%:%2435=907%:%
%:%2438=908%:%
%:%2439=909%:%
%:%2440=909%:%
%:%2443=910%:%
%:%2447=910%:%
%:%2448=910%:%
%:%2449=911%:%
%:%2450=911%:%
%:%2451=912%:%
%:%2452=912%:%
%:%2453=913%:%
%:%2459=913%:%
%:%2462=914%:%
%:%2463=915%:%
%:%2464=915%:%
%:%2467=916%:%
%:%2471=916%:%
%:%2472=916%:%
%:%2477=916%:%
%:%2480=917%:%
%:%2481=918%:%
%:%2482=918%:%
%:%2489=919%:%
%:%2490=919%:%
%:%2491=920%:%
%:%2492=920%:%
%:%2493=921%:%
%:%2494=921%:%
%:%2495=921%:%
%:%2496=922%:%
%:%2497=922%:%
%:%2498=923%:%
%:%2499=923%:%
%:%2500=924%:%
%:%2501=924%:%
%:%2502=925%:%
%:%2503=925%:%
%:%2504=926%:%
%:%2505=926%:%
%:%2506=927%:%
%:%2507=927%:%
%:%2508=928%:%
%:%2509=928%:%
%:%2510=929%:%
%:%2511=929%:%
%:%2512=930%:%
%:%2518=930%:%
%:%2521=931%:%
%:%2522=932%:%
%:%2523=932%:%
%:%2526=933%:%
%:%2530=933%:%
%:%2531=933%:%
%:%2532=934%:%
%:%2533=934%:%
%:%2538=934%:%
%:%2541=935%:%
%:%2542=936%:%
%:%2543=936%:%
%:%2546=937%:%
%:%2550=937%:%
%:%2551=937%:%
%:%2556=937%:%
%:%2559=938%:%
%:%2560=939%:%
%:%2561=939%:%
%:%2562=940%:%
%:%2563=941%:%
%:%2564=942%:%
%:%2565=942%:%
%:%2566=943%:%
%:%2567=944%:%
%:%2568=945%:%
%:%2569=946%:%
%:%2570=946%:%
%:%2571=947%:%
%:%2572=948%:%
%:%2579=949%:%
%:%2580=949%:%
%:%2581=950%:%
%:%2582=950%:%
%:%2583=951%:%
%:%2584=951%:%
%:%2585=952%:%
%:%2586=952%:%
%:%2587=953%:%
%:%2588=953%:%
%:%2589=953%:%
%:%2590=954%:%
%:%2591=954%:%
%:%2592=955%:%
%:%2593=955%:%
%:%2594=956%:%
%:%2600=956%:%
%:%2603=957%:%
%:%2604=958%:%
%:%2605=958%:%
%:%2612=959%:%
%:%2613=959%:%
%:%2614=960%:%
%:%2615=960%:%
%:%2616=961%:%
%:%2617=961%:%
%:%2618=962%:%
%:%2619=962%:%
%:%2620=962%:%
%:%2621=963%:%
%:%2622=963%:%
%:%2623=964%:%
%:%2624=964%:%
%:%2625=964%:%
%:%2626=964%:%
%:%2627=965%:%
%:%2633=965%:%
%:%2636=966%:%
%:%2637=967%:%
%:%2638=967%:%
%:%2639=968%:%
%:%2640=969%:%
%:%2647=970%:%
%:%2648=970%:%
%:%2649=971%:%
%:%2650=971%:%
%:%2651=972%:%
%:%2652=972%:%
%:%2653=973%:%
%:%2654=973%:%
%:%2655=974%:%
%:%2656=974%:%
%:%2657=974%:%
%:%2658=975%:%
%:%2659=975%:%
%:%2660=976%:%
%:%2661=976%:%
%:%2662=977%:%
%:%2663=978%:%
%:%2664=978%:%
%:%2665=978%:%
%:%2666=979%:%
%:%2667=979%:%
%:%2668=980%:%
%:%2669=980%:%
%:%2670=980%:%
%:%2671=981%:%
%:%2672=981%:%
%:%2673=982%:%
%:%2674=982%:%
%:%2675=983%:%
%:%2681=983%:%
%:%2684=984%:%
%:%2685=985%:%
%:%2686=985%:%
%:%2689=986%:%
%:%2693=986%:%
%:%2694=986%:%
%:%2695=987%:%
%:%2696=987%:%
%:%2697=988%:%
%:%2698=988%:%
%:%2699=989%:%
%:%2700=989%:%
%:%2701=990%:%
%:%2707=990%:%
%:%2710=991%:%
%:%2711=992%:%
%:%2712=992%:%
%:%2715=993%:%
%:%2719=993%:%
%:%2720=993%:%
%:%2721=994%:%
%:%2722=994%:%
%:%2723=994%:%
%:%2724=995%:%
%:%2725=995%:%
%:%2726=996%:%
%:%2727=996%:%
%:%2728=997%:%
%:%2729=997%:%
%:%2730=998%:%
%:%2731=998%:%
%:%2732=999%:%
%:%2733=999%:%
%:%2734=1000%:%
%:%2740=1000%:%
%:%2743=1001%:%
%:%2744=1002%:%
%:%2745=1002%:%
%:%2746=1003%:%
%:%2749=1004%:%
%:%2753=1004%:%
%:%2754=1004%:%
%:%2759=1004%:%
%:%2762=1005%:%
%:%2763=1006%:%
%:%2764=1006%:%
%:%2765=1007%:%
%:%2768=1008%:%
%:%2772=1008%:%
%:%2773=1008%:%
%:%2774=1009%:%
%:%2779=1009%:%
%:%2782=1010%:%
%:%2783=1011%:%
%:%2784=1011%:%
%:%2785=1012%:%
%:%2786=1013%:%
%:%2787=1014%:%
%:%2788=1015%:%
%:%2789=1015%:%
%:%2790=1016%:%
%:%2791=1017%:%
%:%2792=1018%:%
%:%2793=1018%:%
%:%2796=1019%:%
%:%2800=1019%:%
%:%2801=1019%:%
%:%2806=1019%:%
%:%2809=1020%:%
%:%2810=1021%:%
%:%2811=1021%:%
%:%2814=1022%:%
%:%2818=1022%:%
%:%2819=1022%:%
%:%2824=1022%:%
%:%2827=1023%:%
%:%2828=1024%:%
%:%2829=1024%:%
%:%2836=1025%:%
%:%2837=1025%:%
%:%2838=1026%:%
%:%2839=1026%:%
%:%2840=1027%:%
%:%2841=1027%:%
%:%2842=1027%:%
%:%2843=1028%:%
%:%2844=1028%:%
%:%2845=1029%:%
%:%2846=1029%:%
%:%2847=1029%:%
%:%2848=1030%:%
%:%2849=1030%:%
%:%2850=1031%:%
%:%2851=1031%:%
%:%2856=1031%:%
%:%2859=1032%:%
%:%2860=1033%:%
%:%2861=1033%:%
%:%2864=1034%:%
%:%2868=1034%:%
%:%2869=1034%:%
%:%2870=1035%:%
%:%2871=1035%:%
%:%2876=1035%:%
%:%2879=1036%:%
%:%2880=1037%:%
%:%2881=1037%:%
%:%2884=1038%:%
%:%2888=1038%:%
%:%2889=1038%:%
%:%2894=1038%:%
%:%2897=1039%:%
%:%2898=1040%:%
%:%2899=1040%:%
%:%2902=1041%:%
%:%2906=1041%:%
%:%2907=1041%:%
%:%2912=1041%:%
%:%2915=1042%:%
%:%2916=1043%:%
%:%2917=1043%:%
%:%2918=1044%:%
%:%2921=1045%:%
%:%2925=1045%:%
%:%2926=1045%:%
%:%2931=1045%:%
%:%2934=1046%:%
%:%2935=1047%:%
%:%2936=1047%:%
%:%2943=1048%:%
%:%2944=1048%:%
%:%2945=1049%:%
%:%2946=1049%:%
%:%2947=1050%:%
%:%2948=1050%:%
%:%2949=1051%:%
%:%2950=1051%:%
%:%2951=1052%:%
%:%2952=1052%:%
%:%2953=1053%:%
%:%2954=1053%:%
%:%2955=1054%:%
%:%2956=1054%:%
%:%2957=1054%:%
%:%2958=1055%:%
%:%2959=1055%:%
%:%2960=1055%:%
%:%2961=1056%:%
%:%2962=1056%:%
%:%2963=1057%:%
%:%2964=1057%:%
%:%2965=1058%:%
%:%2966=1058%:%
%:%2967=1059%:%
%:%2968=1059%:%
%:%2969=1059%:%
%:%2970=1060%:%
%:%2971=1060%:%
%:%2972=1061%:%
%:%2973=1061%:%
%:%2974=1061%:%
%:%2975=1062%:%
%:%2976=1062%:%
%:%2977=1063%:%
%:%2978=1063%:%
%:%2979=1063%:%
%:%2980=1064%:%
%:%2981=1064%:%
%:%2982=1065%:%
%:%2983=1065%:%
%:%2984=1065%:%
%:%2985=1066%:%
%:%2986=1066%:%
%:%2987=1067%:%
%:%2988=1067%:%
%:%2989=1068%:%
%:%2990=1068%:%
%:%2995=1068%:%
%:%2998=1069%:%
%:%2999=1070%:%
%:%3000=1070%:%
%:%3003=1071%:%
%:%3007=1071%:%
%:%3008=1071%:%
%:%3009=1072%:%
%:%3010=1072%:%
%:%3015=1072%:%
%:%3018=1073%:%
%:%3019=1074%:%
%:%3020=1074%:%
%:%3021=1075%:%
%:%3022=1076%:%
%:%3023=1077%:%
%:%3024=1078%:%
%:%3025=1079%:%
%:%3026=1079%:%
%:%3029=1080%:%
%:%3033=1080%:%
%:%3034=1080%:%
%:%3039=1080%:%
%:%3042=1081%:%
%:%3043=1082%:%
%:%3044=1082%:%
%:%3047=1083%:%
%:%3051=1083%:%
%:%3052=1083%:%
%:%3057=1083%:%
%:%3060=1084%:%
%:%3061=1085%:%
%:%3062=1085%:%
%:%3065=1086%:%
%:%3069=1086%:%
%:%3070=1086%:%
%:%3075=1086%:%
%:%3078=1087%:%
%:%3079=1088%:%
%:%3080=1088%:%
%:%3083=1089%:%
%:%3087=1089%:%
%:%3088=1089%:%
%:%3093=1089%:%
%:%3096=1090%:%
%:%3097=1091%:%
%:%3098=1091%:%
%:%3099=1092%:%
%:%3100=1093%:%
%:%3101=1094%:%
%:%3102=1095%:%
%:%3103=1096%:%
%:%3104=1096%:%
%:%3107=1097%:%
%:%3111=1097%:%
%:%3112=1097%:%
%:%3117=1097%:%
%:%3120=1098%:%
%:%3121=1099%:%
%:%3122=1099%:%
%:%3125=1100%:%
%:%3129=1100%:%
%:%3130=1100%:%
%:%3135=1100%:%
%:%3138=1101%:%
%:%3139=1102%:%
%:%3140=1102%:%
%:%3141=1103%:%
%:%3144=1104%:%
%:%3148=1104%:%
%:%3149=1104%:%
%:%3150=1105%:%
%:%3151=1105%:%
%:%3152=1106%:%
%:%3153=1106%:%
%:%3158=1106%:%
%:%3161=1107%:%
%:%3162=1108%:%
%:%3163=1108%:%
%:%3164=1109%:%
%:%3165=1110%:%
%:%3166=1111%:%
%:%3167=1112%:%
%:%3168=1112%:%
%:%3171=1113%:%
%:%3175=1113%:%
%:%3176=1113%:%
%:%3181=1113%:%
%:%3184=1114%:%
%:%3185=1115%:%
%:%3186=1115%:%
%:%3189=1116%:%
%:%3193=1116%:%
%:%3194=1116%:%
%:%3199=1116%:%
%:%3202=1117%:%
%:%3203=1118%:%
%:%3204=1118%:%
%:%3205=1119%:%
%:%3208=1120%:%
%:%3212=1120%:%
%:%3213=1120%:%
%:%3218=1120%:%
%:%3221=1121%:%
%:%3222=1122%:%
%:%3223=1122%:%
%:%3226=1123%:%
%:%3230=1123%:%
%:%3231=1123%:%
%:%3236=1123%:%
%:%3239=1124%:%
%:%3240=1125%:%
%:%3241=1125%:%
%:%3244=1126%:%
%:%3248=1126%:%
%:%3249=1126%:%
%:%3254=1126%:%
%:%3257=1127%:%
%:%3258=1128%:%
%:%3259=1128%:%
%:%3260=1129%:%
%:%3261=1130%:%
%:%3262=1131%:%
%:%3264=1133%:%
%:%3265=1134%:%
%:%3266=1135%:%
%:%3267=1135%:%
%:%3270=1136%:%
%:%3274=1136%:%
%:%3275=1136%:%
%:%3280=1136%:%
%:%3283=1137%:%
%:%3284=1138%:%
%:%3285=1138%:%
%:%3288=1139%:%
%:%3292=1139%:%
%:%3293=1139%:%
%:%3298=1139%:%
%:%3301=1140%:%
%:%3302=1141%:%
%:%3303=1141%:%
%:%3304=1142%:%
%:%3307=1143%:%
%:%3311=1143%:%
%:%3312=1143%:%
%:%3317=1143%:%
%:%3320=1144%:%
%:%3321=1145%:%
%:%3322=1145%:%
%:%3324=1147%:%
%:%3327=1148%:%
%:%3331=1148%:%
%:%3332=1148%:%
%:%3333=1149%:%
%:%3334=1149%:%
%:%3335=1150%:%
%:%3336=1150%:%
%:%3341=1150%:%
%:%3344=1151%:%
%:%3345=1152%:%
%:%3346=1152%:%
%:%3347=1153%:%
%:%3350=1154%:%
%:%3354=1154%:%
%:%3355=1154%:%
%:%3356=1155%:%
%:%3361=1155%:%
%:%3364=1156%:%
%:%3365=1157%:%
%:%3366=1157%:%
%:%3369=1160%:%
%:%3372=1161%:%
%:%3376=1161%:%
%:%3377=1161%:%
%:%3378=1162%:%
%:%3383=1162%:%
%:%3386=1163%:%
%:%3387=1164%:%
%:%3388=1164%:%
%:%3389=1165%:%
%:%3392=1166%:%
%:%3396=1166%:%
%:%3397=1166%:%
%:%3398=1167%:%
%:%3399=1167%:%
%:%3404=1167%:%
%:%3407=1168%:%
%:%3408=1169%:%
%:%3409=1169%:%
%:%3410=1170%:%
%:%3411=1171%:%
%:%3412=1172%:%
%:%3414=1174%:%
%:%3415=1175%:%
%:%3417=1177%:%
%:%3418=1178%:%
%:%3419=1179%:%
%:%3420=1179%:%
%:%3422=1181%:%
%:%3429=1182%:%
%:%3430=1182%:%
%:%3431=1183%:%
%:%3432=1183%:%
%:%3433=1184%:%
%:%3434=1184%:%
%:%3435=1184%:%
%:%3436=1185%:%
%:%3437=1185%:%
%:%3438=1186%:%
%:%3439=1186%:%
%:%3440=1187%:%
%:%3441=1187%:%
%:%3442=1188%:%
%:%3443=1188%:%
%:%3444=1189%:%
%:%3445=1189%:%
%:%3446=1190%:%
%:%3447=1190%:%
%:%3448=1191%:%
%:%3449=1191%:%
%:%3450=1192%:%
%:%3451=1192%:%
%:%3452=1193%:%
%:%3453=1193%:%
%:%3454=1194%:%
%:%3455=1195%:%
%:%3456=1195%:%
%:%3457=1196%:%
%:%3458=1196%:%
%:%3459=1197%:%
%:%3460=1198%:%
%:%3461=1198%:%
%:%3462=1198%:%
%:%3463=1199%:%
%:%3464=1199%:%
%:%3465=1200%:%
%:%3466=1201%:%
%:%3467=1202%:%
%:%3468=1202%:%
%:%3469=1203%:%
%:%3470=1203%:%
%:%3471=1204%:%
%:%3472=1204%:%
%:%3473=1204%:%
%:%3474=1205%:%
%:%3475=1205%:%
%:%3476=1206%:%
%:%3477=1206%:%
%:%3478=1207%:%
%:%3479=1207%:%
%:%3480=1208%:%
%:%3481=1209%:%
%:%3482=1209%:%
%:%3483=1210%:%
%:%3484=1210%:%
%:%3485=1211%:%
%:%3486=1211%:%
%:%3487=1212%:%
%:%3488=1212%:%
%:%3489=1213%:%
%:%3490=1213%:%
%:%3491=1214%:%
%:%3492=1214%:%
%:%3493=1215%:%
%:%3494=1215%:%
%:%3495=1216%:%
%:%3496=1216%:%
%:%3497=1217%:%
%:%3498=1217%:%
%:%3499=1218%:%
%:%3500=1218%:%
%:%3501=1219%:%
%:%3502=1219%:%
%:%3503=1220%:%
%:%3504=1220%:%
%:%3505=1221%:%
%:%3506=1221%:%
%:%3507=1222%:%
%:%3508=1222%:%
%:%3509=1223%:%
%:%3510=1223%:%
%:%3511=1224%:%
%:%3512=1225%:%
%:%3513=1225%:%
%:%3514=1226%:%
%:%3515=1226%:%
%:%3516=1227%:%
%:%3517=1227%:%
%:%3518=1227%:%
%:%3519=1228%:%
%:%3520=1228%:%
%:%3521=1229%:%
%:%3522=1230%:%
%:%3523=1231%:%
%:%3524=1231%:%
%:%3525=1232%:%
%:%3526=1232%:%
%:%3527=1233%:%
%:%3528=1233%:%
%:%3529=1233%:%
%:%3530=1234%:%
%:%3531=1234%:%
%:%3532=1235%:%
%:%3533=1235%:%
%:%3534=1236%:%
%:%3535=1236%:%
%:%3536=1237%:%
%:%3537=1238%:%
%:%3538=1238%:%
%:%3539=1239%:%
%:%3540=1239%:%
%:%3541=1240%:%
%:%3542=1240%:%
%:%3543=1241%:%
%:%3544=1241%:%
%:%3545=1242%:%
%:%3546=1242%:%
%:%3547=1243%:%
%:%3548=1243%:%
%:%3553=1243%:%
%:%3556=1244%:%
%:%3557=1245%:%
%:%3558=1245%:%
%:%3559=1246%:%
%:%3560=1247%:%
%:%3561=1248%:%
%:%3562=1248%:%
%:%3565=1251%:%
%:%3572=1252%:%
%:%3573=1252%:%
%:%3574=1253%:%
%:%3575=1253%:%
%:%3576=1254%:%
%:%3577=1254%:%
%:%3578=1255%:%
%:%3579=1255%:%
%:%3580=1256%:%
%:%3581=1256%:%
%:%3582=1257%:%
%:%3583=1257%:%
%:%3584=1258%:%
%:%3585=1258%:%
%:%3586=1259%:%
%:%3587=1259%:%
%:%3588=1260%:%
%:%3589=1260%:%
%:%3590=1261%:%
%:%3591=1261%:%
%:%3592=1262%:%
%:%3593=1262%:%
%:%3594=1263%:%
%:%3595=1263%:%
%:%3596=1264%:%
%:%3597=1264%:%
%:%3598=1265%:%
%:%3599=1265%:%
%:%3600=1266%:%
%:%3601=1266%:%
%:%3602=1267%:%
%:%3603=1267%:%
%:%3604=1268%:%
%:%3605=1269%:%
%:%3606=1269%:%
%:%3607=1270%:%
%:%3608=1270%:%
%:%3609=1271%:%
%:%3610=1271%:%
%:%3611=1272%:%
%:%3612=1272%:%
%:%3613=1273%:%
%:%3614=1273%:%
%:%3615=1274%:%
%:%3616=1274%:%
%:%3617=1275%:%
%:%3618=1275%:%
%:%3619=1276%:%
%:%3620=1276%:%
%:%3621=1277%:%
%:%3622=1277%:%
%:%3623=1278%:%
%:%3624=1278%:%
%:%3625=1279%:%
%:%3626=1279%:%
%:%3627=1280%:%
%:%3628=1280%:%
%:%3629=1280%:%
%:%3630=1281%:%
%:%3631=1281%:%
%:%3632=1282%:%
%:%3633=1282%:%
%:%3634=1283%:%
%:%3635=1284%:%
%:%3636=1285%:%
%:%3637=1285%:%
%:%3638=1285%:%
%:%3639=1286%:%
%:%3640=1286%:%
%:%3641=1287%:%
%:%3642=1287%:%
%:%3643=1288%:%
%:%3644=1288%:%
%:%3645=1288%:%
%:%3646=1289%:%
%:%3647=1289%:%
%:%3648=1290%:%
%:%3649=1290%:%
%:%3650=1291%:%
%:%3651=1291%:%
%:%3652=1291%:%
%:%3653=1292%:%
%:%3654=1292%:%
%:%3655=1293%:%
%:%3656=1293%:%
%:%3657=1294%:%
%:%3658=1294%:%
%:%3659=1295%:%
%:%3660=1295%:%
%:%3661=1296%:%
%:%3662=1296%:%
%:%3663=1297%:%
%:%3664=1298%:%
%:%3665=1298%:%
%:%3666=1299%:%
%:%3667=1299%:%
%:%3668=1300%:%
%:%3669=1301%:%
%:%3670=1301%:%
%:%3671=1301%:%
%:%3672=1302%:%
%:%3673=1302%:%
%:%3674=1303%:%
%:%3675=1303%:%
%:%3676=1304%:%
%:%3677=1304%:%
%:%3678=1304%:%
%:%3679=1305%:%
%:%3680=1305%:%
%:%3681=1306%:%
%:%3682=1306%:%
%:%3683=1307%:%
%:%3684=1307%:%
%:%3685=1308%:%
%:%3686=1308%:%
%:%3687=1309%:%
%:%3688=1309%:%
%:%3693=1309%:%
%:%3696=1310%:%
%:%3697=1311%:%
%:%3698=1311%:%
%:%3701=1312%:%
%:%3705=1312%:%
%:%3706=1312%:%
%:%3711=1312%:%
%:%3714=1313%:%
%:%3715=1314%:%
%:%3716=1314%:%
%:%3719=1315%:%
%:%3723=1315%:%
%:%3724=1315%:%
%:%3729=1315%:%
%:%3732=1316%:%
%:%3733=1317%:%
%:%3734=1317%:%
%:%3735=1318%:%
%:%3742=1319%:%
%:%3743=1319%:%
%:%3744=1320%:%
%:%3745=1320%:%
%:%3746=1321%:%
%:%3747=1321%:%
%:%3748=1322%:%
%:%3749=1322%:%
%:%3750=1323%:%
%:%3751=1323%:%
%:%3752=1324%:%
%:%3753=1324%:%
%:%3754=1325%:%
%:%3755=1325%:%
%:%3756=1326%:%
%:%3757=1326%:%
%:%3758=1327%:%
%:%3759=1327%:%
%:%3760=1328%:%
%:%3761=1328%:%
%:%3762=1329%:%
%:%3763=1329%:%
%:%3764=1330%:%
%:%3765=1330%:%
%:%3766=1330%:%
%:%3767=1331%:%
%:%3768=1331%:%
%:%3769=1332%:%
%:%3770=1332%:%
%:%3771=1333%:%
%:%3772=1333%:%
%:%3773=1334%:%
%:%3774=1334%:%
%:%3775=1335%:%
%:%3776=1335%:%
%:%3777=1336%:%
%:%3778=1336%:%
%:%3779=1337%:%
%:%3780=1337%:%
%:%3781=1338%:%
%:%3782=1338%:%
%:%3783=1339%:%
%:%3784=1339%:%
%:%3785=1340%:%
%:%3786=1340%:%
%:%3787=1341%:%
%:%3788=1341%:%
%:%3789=1342%:%
%:%3790=1343%:%
%:%3791=1343%:%
%:%3792=1344%:%
%:%3793=1344%:%
%:%3794=1345%:%
%:%3795=1345%:%
%:%3796=1345%:%
%:%3797=1346%:%
%:%3798=1347%:%
%:%3799=1347%:%
%:%3800=1348%:%
%:%3801=1348%:%
%:%3802=1349%:%
%:%3803=1349%:%
%:%3804=1350%:%
%:%3805=1350%:%
%:%3806=1351%:%
%:%3807=1351%:%
%:%3808=1352%:%
%:%3809=1352%:%
%:%3810=1353%:%
%:%3811=1353%:%
%:%3812=1354%:%
%:%3813=1354%:%
%:%3814=1355%:%
%:%3815=1355%:%
%:%3816=1355%:%
%:%3817=1356%:%
%:%3818=1356%:%
%:%3819=1357%:%
%:%3820=1357%:%
%:%3821=1358%:%
%:%3822=1358%:%
%:%3823=1359%:%
%:%3824=1359%:%
%:%3825=1360%:%
%:%3826=1360%:%
%:%3827=1360%:%
%:%3828=1361%:%
%:%3829=1361%:%
%:%3830=1362%:%
%:%3831=1362%:%
%:%3832=1363%:%
%:%3833=1363%:%
%:%3834=1364%:%
%:%3835=1364%:%
%:%3836=1365%:%
%:%3837=1365%:%
%:%3838=1366%:%
%:%3839=1366%:%
%:%3840=1367%:%
%:%3841=1367%:%
%:%3842=1367%:%
%:%3843=1368%:%
%:%3844=1368%:%
%:%3845=1369%:%
%:%3846=1369%:%
%:%3847=1370%:%
%:%3848=1370%:%
%:%3849=1371%:%
%:%3850=1371%:%
%:%3851=1372%:%
%:%3852=1372%:%
%:%3853=1373%:%
%:%3854=1373%:%
%:%3855=1374%:%
%:%3856=1375%:%
%:%3857=1375%:%
%:%3858=1376%:%
%:%3859=1376%:%
%:%3860=1377%:%
%:%3861=1377%:%
%:%3862=1377%:%
%:%3863=1378%:%
%:%3864=1379%:%
%:%3865=1379%:%
%:%3866=1380%:%
%:%3867=1380%:%
%:%3868=1381%:%
%:%3869=1381%:%
%:%3870=1382%:%
%:%3871=1382%:%
%:%3872=1383%:%
%:%3873=1383%:%
%:%3874=1384%:%
%:%3875=1384%:%
%:%3876=1385%:%
%:%3877=1385%:%
%:%3878=1386%:%
%:%3879=1386%:%
%:%3880=1387%:%
%:%3881=1387%:%
%:%3882=1388%:%
%:%3883=1388%:%
%:%3884=1389%:%
%:%3885=1389%:%
%:%3886=1390%:%
%:%3887=1390%:%
%:%3888=1391%:%
%:%3889=1391%:%
%:%3890=1392%:%
%:%3891=1392%:%
%:%3892=1393%:%
%:%3893=1393%:%
%:%3894=1394%:%
%:%3895=1394%:%
%:%3896=1395%:%
%:%3897=1395%:%
%:%3898=1396%:%
%:%3899=1396%:%
%:%3900=1397%:%
%:%3901=1397%:%
%:%3902=1398%:%
%:%3903=1398%:%
%:%3904=1399%:%
%:%3905=1399%:%
%:%3910=1399%:%
%:%3913=1400%:%
%:%3914=1401%:%
%:%3915=1401%:%
%:%3918=1402%:%
%:%3922=1402%:%
%:%3923=1402%:%
%:%3928=1402%:%
%:%3931=1403%:%
%:%3932=1404%:%
%:%3933=1404%:%
%:%3936=1407%:%
%:%3943=1408%:%
%:%3944=1408%:%
%:%3945=1409%:%
%:%3946=1409%:%
%:%3947=1410%:%
%:%3948=1410%:%
%:%3949=1411%:%
%:%3950=1411%:%
%:%3951=1412%:%
%:%3952=1412%:%
%:%3953=1413%:%
%:%3954=1413%:%
%:%3955=1414%:%
%:%3956=1414%:%
%:%3957=1415%:%
%:%3958=1415%:%
%:%3959=1416%:%
%:%3960=1416%:%
%:%3961=1417%:%
%:%3962=1417%:%
%:%3963=1418%:%
%:%3964=1418%:%
%:%3965=1419%:%
%:%3966=1419%:%
%:%3967=1420%:%
%:%3968=1420%:%
%:%3969=1421%:%
%:%3970=1421%:%
%:%3971=1422%:%
%:%3972=1422%:%
%:%3973=1423%:%
%:%3974=1423%:%
%:%3975=1424%:%
%:%3976=1424%:%
%:%3977=1425%:%
%:%3978=1425%:%
%:%3979=1426%:%
%:%3980=1426%:%
%:%3981=1427%:%
%:%3982=1427%:%
%:%3983=1428%:%
%:%3984=1428%:%
%:%3985=1429%:%
%:%3986=1429%:%
%:%3987=1430%:%
%:%3988=1430%:%
%:%3989=1431%:%
%:%3990=1431%:%
%:%3991=1432%:%
%:%3992=1432%:%
%:%3993=1433%:%
%:%3994=1433%:%
%:%3995=1434%:%
%:%3996=1434%:%
%:%3997=1435%:%
%:%3998=1435%:%
%:%3999=1436%:%
%:%4000=1436%:%
%:%4001=1437%:%
%:%4002=1437%:%
%:%4003=1438%:%
%:%4004=1438%:%
%:%4005=1439%:%
%:%4006=1439%:%
%:%4007=1440%:%
%:%4008=1440%:%
%:%4009=1441%:%
%:%4010=1441%:%
%:%4011=1442%:%
%:%4012=1442%:%
%:%4013=1443%:%
%:%4014=1443%:%
%:%4015=1444%:%
%:%4016=1444%:%
%:%4017=1445%:%
%:%4018=1445%:%
%:%4019=1446%:%
%:%4020=1446%:%
%:%4021=1447%:%
%:%4022=1447%:%
%:%4023=1448%:%
%:%4024=1448%:%
%:%4025=1449%:%
%:%4026=1449%:%
%:%4027=1450%:%
%:%4028=1450%:%
%:%4029=1451%:%
%:%4030=1451%:%
%:%4031=1452%:%
%:%4032=1452%:%
%:%4033=1453%:%
%:%4034=1453%:%
%:%4035=1454%:%
%:%4036=1454%:%
%:%4037=1455%:%
%:%4038=1455%:%
%:%4039=1456%:%
%:%4040=1456%:%
%:%4041=1457%:%
%:%4042=1457%:%
%:%4043=1458%:%
%:%4044=1458%:%
%:%4045=1459%:%
%:%4046=1459%:%
%:%4047=1460%:%
%:%4048=1460%:%
%:%4053=1460%:%
%:%4056=1461%:%
%:%4057=1462%:%
%:%4058=1462%:%
%:%4062=1466%:%
%:%4065=1467%:%
%:%4069=1467%:%
%:%4070=1467%:%
%:%4071=1468%:%
%:%4072=1468%:%
%:%4073=1469%:%
%:%4074=1469%:%
%:%4075=1470%:%
%:%4076=1470%:%
%:%4077=1471%:%
%:%4078=1471%:%
%:%4079=1472%:%
%:%4080=1472%:%
%:%4081=1473%:%
%:%4082=1473%:%
%:%4083=1474%:%
%:%4084=1474%:%
%:%4085=1475%:%
%:%4086=1475%:%
%:%4087=1476%:%
%:%4088=1476%:%
%:%4089=1477%:%
%:%4090=1477%:%
%:%4091=1478%:%
%:%4092=1478%:%
%:%4093=1479%:%
%:%4094=1479%:%
%:%4095=1480%:%
%:%4096=1480%:%
%:%4097=1481%:%
%:%4098=1481%:%
%:%4099=1482%:%
%:%4105=1482%:%
%:%4108=1483%:%
%:%4109=1484%:%
%:%4110=1484%:%
%:%4113=1485%:%
%:%4117=1485%:%
%:%4118=1485%:%
%:%4119=1486%:%
%:%4124=1486%:%
%:%4127=1487%:%
%:%4128=1488%:%
%:%4129=1488%:%
%:%4130=1489%:%
%:%4131=1490%:%
%:%4132=1491%:%
%:%4133=1491%:%
%:%4136=1492%:%
%:%4140=1492%:%
%:%4141=1492%:%
%:%4146=1492%:%
%:%4149=1493%:%
%:%4150=1494%:%
%:%4151=1494%:%
%:%4152=1495%:%
%:%4155=1496%:%
%:%4159=1496%:%
%:%4160=1496%:%
%:%4165=1496%:%
%:%4168=1497%:%
%:%4169=1498%:%
%:%4170=1498%:%
%:%4171=1499%:%
%:%4174=1500%:%
%:%4178=1500%:%
%:%4179=1500%:%
%:%4184=1500%:%
%:%4187=1501%:%
%:%4188=1502%:%
%:%4189=1502%:%
%:%4192=1503%:%
%:%4196=1503%:%
%:%4197=1503%:%
%:%4198=1504%:%
%:%4199=1504%:%
%:%4204=1504%:%
%:%4207=1505%:%
%:%4208=1506%:%
%:%4209=1506%:%
%:%4212=1507%:%
%:%4216=1507%:%
%:%4217=1507%:%
%:%4218=1508%:%
%:%4219=1508%:%
%:%4224=1508%:%
%:%4227=1509%:%
%:%4228=1510%:%
%:%4229=1510%:%
%:%4236=1511%:%
%:%4237=1511%:%
%:%4238=1512%:%
%:%4239=1512%:%
%:%4241=1514%:%
%:%4242=1515%:%
%:%4243=1515%:%
%:%4244=1516%:%
%:%4245=1516%:%
%:%4246=1517%:%
%:%4247=1517%:%
%:%4248=1518%:%
%:%4249=1519%:%
%:%4250=1519%:%
%:%4251=1520%:%
%:%4252=1520%:%
%:%4253=1521%:%
%:%4254=1521%:%
%:%4255=1522%:%
%:%4256=1522%:%
%:%4257=1523%:%
%:%4258=1523%:%
%:%4259=1524%:%
%:%4260=1524%:%
%:%4261=1525%:%
%:%4262=1525%:%
%:%4263=1526%:%
%:%4264=1526%:%
%:%4265=1526%:%
%:%4266=1527%:%
%:%4267=1527%:%
%:%4268=1528%:%
%:%4269=1528%:%
%:%4270=1529%:%
%:%4271=1529%:%
%:%4272=1530%:%
%:%4273=1530%:%
%:%4274=1531%:%
%:%4275=1531%:%
%:%4276=1532%:%
%:%4277=1532%:%
%:%4278=1533%:%
%:%4279=1533%:%
%:%4280=1533%:%
%:%4281=1534%:%
%:%4282=1534%:%
%:%4283=1535%:%
%:%4289=1535%:%
%:%4292=1536%:%
%:%4293=1537%:%
%:%4294=1537%:%
%:%4297=1538%:%
%:%4301=1538%:%
%:%4302=1538%:%
%:%4307=1538%:%
%:%4310=1539%:%
%:%4311=1540%:%
%:%4312=1540%:%
%:%4313=1541%:%
%:%4316=1542%:%
%:%4320=1542%:%
%:%4321=1542%:%
%:%4322=1543%:%
%:%4323=1543%:%
%:%4328=1543%:%
%:%4331=1544%:%
%:%4332=1545%:%
%:%4333=1545%:%
%:%4336=1546%:%
%:%4340=1546%:%
%:%4341=1546%:%
%:%4342=1547%:%
%:%4343=1547%:%
%:%4348=1547%:%
%:%4351=1548%:%
%:%4352=1549%:%
%:%4353=1549%:%
%:%4356=1550%:%
%:%4360=1550%:%
%:%4361=1550%:%
%:%4362=1551%:%
%:%4363=1551%:%
%:%4364=1552%:%
%:%4365=1552%:%
%:%4366=1553%:%
%:%4367=1553%:%
%:%4368=1554%:%
%:%4369=1554%:%
%:%4370=1555%:%
%:%4371=1556%:%
%:%4372=1556%:%
%:%4373=1557%:%
%:%4374=1557%:%
%:%4375=1558%:%
%:%4381=1558%:%
%:%4384=1559%:%
%:%4385=1560%:%
%:%4386=1560%:%
%:%4389=1561%:%
%:%4393=1561%:%
%:%4394=1561%:%
%:%4399=1561%:%
%:%4402=1562%:%
%:%4403=1563%:%
%:%4404=1563%:%
%:%4407=1564%:%
%:%4411=1564%:%
%:%4412=1564%:%
%:%4413=1565%:%
%:%4414=1565%:%
%:%4419=1565%:%
%:%4422=1566%:%
%:%4423=1567%:%
%:%4424=1567%:%
%:%4427=1568%:%
%:%4431=1568%:%
%:%4432=1568%:%
%:%4433=1569%:%
%:%4434=1569%:%
%:%4439=1569%:%
%:%4442=1570%:%
%:%4443=1571%:%
%:%4444=1571%:%
%:%4445=1572%:%
%:%4446=1573%:%
%:%4447=1574%:%
%:%4448=1575%:%
%:%4449=1576%:%
%:%4450=1576%:%
%:%4453=1577%:%
%:%4457=1577%:%
%:%4458=1577%:%
%:%4463=1577%:%
%:%4466=1578%:%
%:%4467=1579%:%
%:%4468=1579%:%
%:%4471=1580%:%
%:%4475=1580%:%
%:%4476=1580%:%
%:%4481=1580%:%
%:%4484=1581%:%
%:%4485=1582%:%
%:%4486=1582%:%
%:%4489=1583%:%
%:%4493=1583%:%
%:%4494=1583%:%
%:%4499=1583%:%
%:%4502=1584%:%
%:%4503=1585%:%
%:%4504=1585%:%
%:%4507=1586%:%
%:%4511=1586%:%
%:%4512=1586%:%
%:%4517=1586%:%
%:%4520=1587%:%
%:%4521=1588%:%
%:%4522=1588%:%
%:%4523=1589%:%
%:%4526=1590%:%
%:%4530=1590%:%
%:%4531=1590%:%
%:%4532=1591%:%
%:%4533=1591%:%
%:%4534=1592%:%
%:%4535=1592%:%
%:%4536=1593%:%
%:%4537=1593%:%
%:%4538=1593%:%
%:%4539=1594%:%
%:%4545=1594%:%
%:%4548=1595%:%
%:%4549=1596%:%
%:%4550=1596%:%
%:%4551=1597%:%
%:%4552=1598%:%
%:%4555=1599%:%
%:%4559=1599%:%
%:%4560=1599%:%
%:%4561=1600%:%
%:%4562=1600%:%
%:%4563=1601%:%
%:%4564=1601%:%
%:%4565=1602%:%
%:%4566=1602%:%
%:%4567=1603%:%
%:%4568=1603%:%
%:%4569=1604%:%
%:%4570=1604%:%
%:%4571=1605%:%
%:%4572=1605%:%
%:%4573=1606%:%
%:%4574=1606%:%
%:%4575=1607%:%
%:%4576=1607%:%
%:%4577=1608%:%
%:%4578=1608%:%
%:%4579=1609%:%
%:%4580=1609%:%
%:%4581=1610%:%
%:%4582=1610%:%
%:%4583=1611%:%
%:%4584=1611%:%
%:%4585=1612%:%
%:%4586=1612%:%
%:%4587=1613%:%
%:%4588=1613%:%
%:%4589=1614%:%
%:%4590=1614%:%
%:%4591=1615%:%
%:%4592=1615%:%
%:%4593=1616%:%
%:%4594=1616%:%
%:%4595=1617%:%
%:%4596=1617%:%
%:%4597=1618%:%
%:%4598=1618%:%
%:%4599=1619%:%
%:%4600=1619%:%
%:%4601=1620%:%
%:%4602=1620%:%
%:%4603=1621%:%
%:%4604=1621%:%
%:%4605=1622%:%
%:%4606=1622%:%
%:%4607=1623%:%
%:%4608=1623%:%
%:%4609=1624%:%
%:%4610=1624%:%
%:%4611=1625%:%
%:%4612=1625%:%
%:%4613=1626%:%
%:%4614=1626%:%
%:%4615=1627%:%
%:%4616=1627%:%
%:%4617=1628%:%
%:%4618=1628%:%
%:%4619=1629%:%
%:%4620=1629%:%
%:%4621=1630%:%
%:%4622=1630%:%
%:%4623=1631%:%
%:%4624=1631%:%
%:%4625=1632%:%
%:%4626=1632%:%
%:%4627=1633%:%
%:%4628=1633%:%
%:%4629=1634%:%
%:%4630=1634%:%
%:%4631=1635%:%
%:%4632=1635%:%
%:%4633=1636%:%
%:%4634=1636%:%
%:%4635=1637%:%
%:%4636=1637%:%
%:%4637=1638%:%
%:%4638=1638%:%
%:%4639=1639%:%
%:%4640=1639%:%
%:%4641=1640%:%
%:%4642=1640%:%
%:%4643=1641%:%
%:%4644=1641%:%
%:%4649=1641%:%
%:%4652=1642%:%
%:%4653=1643%:%
%:%4654=1643%:%
%:%4657=1644%:%
%:%4661=1644%:%
%:%4662=1644%:%
%:%4663=1645%:%
%:%4664=1646%:%
%:%4665=1646%:%
%:%4670=1646%:%
%:%4673=1647%:%
%:%4674=1648%:%
%:%4675=1648%:%
%:%4678=1649%:%
%:%4682=1649%:%
%:%4683=1649%:%
%:%4684=1650%:%
%:%4685=1650%:%
%:%4690=1650%:%
%:%4693=1651%:%
%:%4694=1652%:%
%:%4695=1652%:%
%:%4698=1653%:%
%:%4702=1653%:%
%:%4703=1653%:%
%:%4704=1654%:%
%:%4705=1654%:%
%:%4706=1655%:%
%:%4707=1655%:%
%:%4712=1655%:%
%:%4715=1656%:%
%:%4716=1657%:%
%:%4717=1657%:%
%:%4724=1658%:%
%:%4725=1658%:%
%:%4726=1659%:%
%:%4727=1659%:%
%:%4728=1660%:%
%:%4729=1660%:%
%:%4730=1660%:%
%:%4731=1661%:%
%:%4732=1661%:%
%:%4733=1662%:%
%:%4734=1662%:%
%:%4735=1662%:%
%:%4736=1663%:%
%:%4737=1663%:%
%:%4738=1664%:%
%:%4739=1664%:%
%:%4740=1664%:%
%:%4741=1665%:%
%:%4742=1665%:%
%:%4743=1666%:%
%:%4744=1666%:%
%:%4749=1666%:%
%:%4752=1667%:%
%:%4753=1668%:%
%:%4754=1668%:%
%:%4755=1669%:%
%:%4756=1670%:%
%:%4759=1671%:%
%:%4763=1671%:%
%:%4764=1671%:%
%:%4765=1672%:%
%:%4766=1672%:%
%:%4771=1672%:%
%:%4774=1673%:%
%:%4775=1674%:%
%:%4776=1674%:%
%:%4777=1675%:%
%:%4784=1676%:%
%:%4785=1676%:%
%:%4786=1677%:%
%:%4787=1677%:%
%:%4788=1678%:%
%:%4789=1678%:%
%:%4790=1678%:%
%:%4791=1679%:%
%:%4792=1679%:%
%:%4793=1680%:%
%:%4794=1680%:%
%:%4799=1680%:%
%:%4802=1681%:%
%:%4803=1682%:%
%:%4804=1682%:%
%:%4805=1683%:%
%:%4806=1684%:%
%:%4809=1685%:%
%:%4813=1685%:%
%:%4814=1685%:%
%:%4815=1686%:%
%:%4816=1686%:%
%:%4817=1687%:%
%:%4818=1687%:%
%:%4819=1688%:%
%:%4820=1688%:%
%:%4821=1689%:%
%:%4822=1689%:%
%:%4823=1690%:%
%:%4824=1690%:%
%:%4825=1691%:%
%:%4826=1692%:%
%:%4827=1692%:%
%:%4828=1693%:%
%:%4829=1693%:%
%:%4830=1694%:%
%:%4831=1694%:%
%:%4832=1695%:%
%:%4833=1695%:%
%:%4834=1696%:%
%:%4835=1696%:%
%:%4836=1697%:%
%:%4837=1697%:%
%:%4838=1698%:%
%:%4839=1698%:%
%:%4840=1699%:%
%:%4841=1699%:%
%:%4842=1699%:%
%:%4843=1700%:%
%:%4844=1700%:%
%:%4845=1701%:%
%:%4846=1701%:%
%:%4847=1702%:%
%:%4848=1702%:%
%:%4849=1702%:%
%:%4850=1703%:%
%:%4851=1703%:%
%:%4852=1704%:%
%:%4853=1704%:%
%:%4854=1705%:%
%:%4855=1705%:%
%:%4856=1706%:%
%:%4857=1706%:%
%:%4858=1707%:%
%:%4859=1707%:%
%:%4860=1708%:%
%:%4861=1708%:%
%:%4862=1709%:%
%:%4863=1709%:%
%:%4864=1709%:%
%:%4865=1710%:%
%:%4866=1710%:%
%:%4867=1711%:%
%:%4868=1711%:%
%:%4869=1712%:%
%:%4870=1712%:%
%:%4871=1713%:%
%:%4872=1713%:%
%:%4873=1714%:%
%:%4874=1714%:%
%:%4875=1715%:%
%:%4876=1715%:%
%:%4877=1715%:%
%:%4878=1716%:%
%:%4879=1716%:%
%:%4880=1717%:%
%:%4881=1717%:%
%:%4882=1718%:%
%:%4883=1718%:%
%:%4884=1719%:%
%:%4885=1719%:%
%:%4886=1720%:%
%:%4887=1720%:%
%:%4888=1721%:%
%:%4889=1721%:%
%:%4890=1721%:%
%:%4891=1722%:%
%:%4892=1722%:%
%:%4893=1723%:%
%:%4894=1723%:%
%:%4895=1724%:%
%:%4896=1724%:%
%:%4901=1724%:%
%:%4904=1725%:%
%:%4905=1726%:%
%:%4906=1726%:%
%:%4907=1727%:%
%:%4908=1728%:%
%:%4911=1729%:%
%:%4915=1729%:%
%:%4916=1729%:%
%:%4917=1730%:%
%:%4918=1731%:%
%:%4919=1732%:%
%:%4925=1732%:%
%:%4928=1733%:%
%:%4929=1734%:%
%:%4930=1734%:%
%:%4931=1735%:%
%:%4932=1736%:%
%:%4935=1737%:%
%:%4939=1737%:%
%:%4940=1737%:%
%:%4941=1738%:%
%:%4947=1738%:%
%:%4950=1739%:%
%:%4951=1740%:%
%:%4952=1740%:%
%:%4955=1741%:%
%:%4959=1741%:%
%:%4960=1741%:%
%:%4961=1742%:%
%:%4962=1742%:%
%:%4967=1742%:%
%:%4970=1743%:%
%:%4971=1744%:%
%:%4972=1744%:%
%:%4973=1745%:%
%:%4974=1746%:%
%:%4981=1747%:%
%:%4982=1747%:%
%:%4983=1748%:%
%:%4984=1748%:%
%:%4985=1749%:%
%:%4986=1749%:%
%:%4987=1750%:%
%:%4988=1750%:%
%:%4989=1751%:%
%:%4990=1751%:%
%:%4991=1752%:%
%:%4992=1752%:%
%:%4993=1752%:%
%:%4994=1753%:%
%:%4995=1753%:%
%:%4996=1754%:%
%:%4997=1754%:%
%:%4998=1755%:%
%:%4999=1755%:%
%:%5000=1756%:%
%:%5001=1756%:%
%:%5002=1757%:%
%:%5003=1757%:%
%:%5004=1757%:%
%:%5005=1758%:%
%:%5006=1758%:%
%:%5007=1759%:%
%:%5013=1759%:%
%:%5016=1760%:%
%:%5017=1761%:%
%:%5018=1761%:%
%:%5019=1762%:%
%:%5020=1763%:%
%:%5021=1764%:%
%:%5022=1764%:%
%:%5023=1765%:%
%:%5024=1766%:%
%:%5025=1767%:%
%:%5026=1767%:%
%:%5027=1768%:%
%:%5028=1769%:%
%:%5029=1769%:%
%:%5030=1770%:%
%:%5031=1771%:%
%:%5032=1771%:%
%:%5033=1772%:%
%:%5034=1773%:%
%:%5036=1775%:%
%:%5037=1776%:%
%:%5038=1777%:%
%:%5039=1777%:%
%:%5042=1780%:%
%:%5045=1781%:%
%:%5049=1781%:%
%:%5050=1781%:%
%:%5051=1782%:%
%:%5052=1782%:%
%:%5057=1782%:%
%:%5060=1783%:%
%:%5061=1784%:%
%:%5062=1784%:%
%:%5063=1785%:%
%:%5066=1786%:%
%:%5070=1786%:%
%:%5071=1786%:%
%:%5076=1786%:%
%:%5079=1787%:%
%:%5080=1788%:%
%:%5081=1788%:%
%:%5084=1789%:%
%:%5088=1789%:%
%:%5089=1789%:%
%:%5094=1789%:%
%:%5097=1790%:%
%:%5098=1791%:%
%:%5099=1791%:%
%:%5100=1792%:%
%:%5101=1793%:%
%:%5103=1795%:%
%:%5110=1796%:%
%:%5111=1796%:%
%:%5112=1797%:%
%:%5113=1797%:%
%:%5114=1798%:%
%:%5115=1798%:%
%:%5116=1799%:%
%:%5117=1799%:%
%:%5118=1800%:%
%:%5119=1800%:%
%:%5120=1801%:%
%:%5121=1801%:%
%:%5122=1802%:%
%:%5123=1802%:%
%:%5124=1803%:%
%:%5125=1803%:%
%:%5126=1804%:%
%:%5127=1804%:%
%:%5128=1805%:%
%:%5129=1805%:%
%:%5130=1806%:%
%:%5131=1806%:%
%:%5132=1807%:%
%:%5133=1807%:%
%:%5134=1808%:%
%:%5135=1808%:%
%:%5136=1809%:%
%:%5137=1809%:%
%:%5138=1810%:%
%:%5139=1810%:%
%:%5140=1811%:%
%:%5141=1811%:%
%:%5142=1812%:%
%:%5143=1812%:%
%:%5144=1813%:%
%:%5145=1813%:%
%:%5146=1814%:%
%:%5147=1814%:%
%:%5148=1815%:%
%:%5149=1815%:%
%:%5150=1816%:%
%:%5151=1816%:%
%:%5152=1817%:%
%:%5153=1817%:%
%:%5154=1818%:%
%:%5155=1818%:%
%:%5156=1819%:%
%:%5157=1819%:%
%:%5158=1820%:%
%:%5159=1820%:%
%:%5160=1821%:%
%:%5161=1821%:%
%:%5162=1822%:%
%:%5163=1822%:%
%:%5164=1823%:%
%:%5165=1823%:%
%:%5166=1824%:%
%:%5167=1824%:%
%:%5168=1825%:%
%:%5169=1825%:%
%:%5170=1826%:%
%:%5171=1826%:%
%:%5172=1827%:%
%:%5173=1827%:%
%:%5174=1828%:%
%:%5175=1828%:%
%:%5176=1829%:%
%:%5177=1829%:%
%:%5178=1830%:%
%:%5179=1830%:%
%:%5180=1831%:%
%:%5181=1831%:%
%:%5182=1832%:%
%:%5183=1832%:%
%:%5184=1833%:%
%:%5185=1833%:%
%:%5186=1834%:%
%:%5187=1834%:%
%:%5188=1835%:%
%:%5189=1835%:%
%:%5190=1836%:%
%:%5191=1836%:%
%:%5192=1837%:%
%:%5193=1837%:%
%:%5194=1838%:%
%:%5195=1838%:%
%:%5196=1839%:%
%:%5197=1840%:%
%:%5198=1840%:%
%:%5199=1841%:%
%:%5200=1841%:%
%:%5201=1842%:%
%:%5202=1842%:%
%:%5203=1843%:%
%:%5204=1843%:%
%:%5205=1844%:%
%:%5206=1844%:%
%:%5207=1845%:%
%:%5208=1845%:%
%:%5209=1846%:%
%:%5210=1846%:%
%:%5211=1847%:%
%:%5212=1847%:%
%:%5213=1848%:%
%:%5214=1848%:%
%:%5215=1849%:%
%:%5216=1849%:%
%:%5217=1850%:%
%:%5218=1850%:%
%:%5219=1851%:%
%:%5220=1851%:%
%:%5221=1852%:%
%:%5222=1852%:%
%:%5223=1853%:%
%:%5224=1853%:%
%:%5225=1854%:%
%:%5226=1854%:%
%:%5227=1855%:%
%:%5228=1855%:%
%:%5229=1856%:%
%:%5230=1856%:%
%:%5231=1857%:%
%:%5232=1857%:%
%:%5233=1858%:%
%:%5234=1858%:%
%:%5235=1859%:%
%:%5236=1859%:%
%:%5241=1859%:%
%:%5244=1860%:%
%:%5245=1861%:%
%:%5246=1861%:%
%:%5247=1862%:%
%:%5248=1863%:%
%:%5249=1864%:%
%:%5252=1867%:%
%:%5253=1868%:%
%:%5254=1869%:%
%:%5255=1869%:%
%:%5258=1870%:%
%:%5262=1870%:%
%:%5263=1870%:%
%:%5268=1870%:%
%:%5271=1871%:%
%:%5272=1872%:%
%:%5273=1872%:%
%:%5275=1874%:%
%:%5278=1875%:%
%:%5282=1875%:%
%:%5283=1875%:%
%:%5284=1876%:%
%:%5285=1876%:%
%:%5290=1876%:%
%:%5293=1877%:%
%:%5294=1878%:%
%:%5295=1878%:%
%:%5296=1879%:%
%:%5297=1880%:%
%:%5304=1881%:%
%:%5305=1881%:%
%:%5306=1882%:%
%:%5307=1882%:%
%:%5308=1883%:%
%:%5309=1883%:%
%:%5310=1884%:%
%:%5311=1884%:%
%:%5312=1885%:%
%:%5313=1885%:%
%:%5314=1886%:%
%:%5315=1886%:%
%:%5316=1887%:%
%:%5317=1887%:%
%:%5318=1888%:%
%:%5319=1888%:%
%:%5320=1889%:%
%:%5321=1889%:%
%:%5322=1890%:%
%:%5323=1890%:%
%:%5324=1891%:%
%:%5325=1891%:%
%:%5326=1892%:%
%:%5327=1892%:%
%:%5328=1893%:%
%:%5329=1893%:%
%:%5330=1894%:%
%:%5331=1894%:%
%:%5332=1895%:%
%:%5333=1895%:%
%:%5334=1896%:%
%:%5335=1896%:%
%:%5336=1897%:%
%:%5337=1897%:%
%:%5338=1898%:%
%:%5339=1898%:%
%:%5340=1899%:%
%:%5341=1899%:%
%:%5342=1900%:%
%:%5348=1900%:%
%:%5351=1901%:%
%:%5352=1902%:%
%:%5353=1902%:%
%:%5354=1903%:%
%:%5355=1904%:%
%:%5362=1905%:%
%:%5363=1905%:%
%:%5364=1906%:%
%:%5365=1906%:%
%:%5366=1907%:%
%:%5367=1907%:%
%:%5368=1908%:%
%:%5369=1908%:%
%:%5370=1909%:%
%:%5371=1909%:%
%:%5372=1910%:%
%:%5373=1910%:%
%:%5374=1911%:%
%:%5375=1911%:%
%:%5376=1912%:%
%:%5382=1912%:%
%:%5385=1913%:%
%:%5386=1914%:%
%:%5387=1914%:%
%:%5388=1915%:%
%:%5389=1916%:%
%:%5390=1917%:%
%:%5391=1918%:%
%:%5392=1919%:%
%:%5393=1920%:%
%:%5394=1921%:%
%:%5401=1922%:%
%:%5402=1922%:%
%:%5403=1923%:%
%:%5404=1923%:%
%:%5405=1924%:%
%:%5406=1924%:%
%:%5407=1925%:%
%:%5408=1925%:%
%:%5409=1926%:%
%:%5410=1926%:%
%:%5411=1927%:%
%:%5412=1927%:%
%:%5413=1928%:%
%:%5414=1928%:%
%:%5415=1929%:%
%:%5416=1930%:%
%:%5417=1931%:%
%:%5418=1931%:%
%:%5419=1932%:%
%:%5420=1932%:%
%:%5421=1933%:%
%:%5422=1933%:%
%:%5423=1933%:%
%:%5424=1934%:%
%:%5425=1934%:%
%:%5426=1935%:%
%:%5427=1935%:%
%:%5428=1936%:%
%:%5429=1936%:%
%:%5430=1937%:%
%:%5431=1937%:%
%:%5432=1938%:%
%:%5433=1938%:%
%:%5434=1939%:%
%:%5435=1939%:%
%:%5436=1939%:%
%:%5437=1940%:%
%:%5438=1940%:%
%:%5439=1941%:%
%:%5440=1941%:%
%:%5441=1942%:%
%:%5442=1942%:%
%:%5443=1943%:%
%:%5444=1943%:%
%:%5445=1944%:%
%:%5446=1944%:%
%:%5447=1945%:%
%:%5448=1945%:%
%:%5449=1946%:%
%:%5450=1947%:%
%:%5451=1947%:%
%:%5452=1947%:%
%:%5453=1948%:%
%:%5454=1948%:%
%:%5455=1948%:%
%:%5456=1949%:%
%:%5457=1949%:%
%:%5458=1949%:%
%:%5459=1950%:%
%:%5460=1950%:%
%:%5461=1951%:%
%:%5462=1951%:%
%:%5463=1952%:%
%:%5464=1952%:%
%:%5465=1953%:%
%:%5466=1953%:%
%:%5467=1954%:%
%:%5468=1954%:%
%:%5469=1955%:%
%:%5470=1955%:%
%:%5471=1956%:%
%:%5472=1956%:%
%:%5473=1957%:%
%:%5474=1957%:%
%:%5475=1958%:%
%:%5476=1958%:%
%:%5477=1959%:%
%:%5478=1959%:%
%:%5479=1960%:%
%:%5480=1960%:%
%:%5481=1961%:%
%:%5482=1961%:%
%:%5483=1962%:%
%:%5484=1962%:%
%:%5485=1963%:%
%:%5486=1963%:%
%:%5487=1964%:%
%:%5488=1964%:%
%:%5489=1965%:%
%:%5490=1965%:%
%:%5491=1965%:%
%:%5492=1966%:%
%:%5493=1966%:%
%:%5494=1967%:%
%:%5495=1967%:%
%:%5496=1968%:%
%:%5497=1968%:%
%:%5498=1969%:%
%:%5499=1969%:%
%:%5500=1970%:%
%:%5501=1970%:%
%:%5502=1971%:%
%:%5503=1971%:%
%:%5504=1972%:%
%:%5505=1972%:%
%:%5506=1973%:%
%:%5507=1973%:%
%:%5508=1974%:%
%:%5509=1974%:%
%:%5510=1975%:%
%:%5511=1975%:%
%:%5512=1976%:%
%:%5513=1976%:%
%:%5514=1977%:%
%:%5515=1977%:%
%:%5516=1978%:%
%:%5517=1978%:%
%:%5518=1979%:%
%:%5519=1979%:%
%:%5520=1980%:%
%:%5521=1980%:%
%:%5522=1981%:%
%:%5523=1981%:%
%:%5524=1982%:%
%:%5525=1982%:%
%:%5526=1983%:%
%:%5527=1983%:%
%:%5528=1984%:%
%:%5529=1984%:%
%:%5530=1985%:%
%:%5531=1985%:%
%:%5532=1986%:%
%:%5538=1986%:%
%:%5541=1987%:%
%:%5542=1988%:%
%:%5543=1988%:%
%:%5544=1989%:%
%:%5545=1990%:%
%:%5546=1991%:%
%:%5547=1992%:%
%:%5548=1993%:%
%:%5549=1994%:%
%:%5556=1995%:%
%:%5557=1995%:%
%:%5558=1996%:%
%:%5559=1996%:%
%:%5560=1997%:%
%:%5561=1997%:%
%:%5562=1998%:%
%:%5563=1998%:%
%:%5564=1999%:%
%:%5565=1999%:%
%:%5566=2000%:%
%:%5567=2000%:%
%:%5568=2001%:%
%:%5569=2001%:%
%:%5570=2002%:%
%:%5571=2002%:%
%:%5572=2003%:%
%:%5573=2003%:%
%:%5574=2004%:%
%:%5575=2004%:%
%:%5576=2005%:%
%:%5577=2005%:%
%:%5578=2006%:%
%:%5579=2006%:%
%:%5580=2007%:%
%:%5581=2007%:%
%:%5582=2008%:%
%:%5583=2008%:%
%:%5584=2009%:%
%:%5585=2009%:%
%:%5586=2010%:%
%:%5587=2010%:%
%:%5588=2011%:%
%:%5589=2011%:%
%:%5590=2012%:%
%:%5591=2012%:%
%:%5592=2013%:%
%:%5593=2013%:%
%:%5594=2014%:%
%:%5595=2014%:%
%:%5596=2015%:%
%:%5597=2015%:%
%:%5598=2016%:%
%:%5599=2016%:%
%:%5600=2017%:%
%:%5601=2017%:%
%:%5602=2018%:%
%:%5603=2018%:%
%:%5604=2019%:%
%:%5605=2019%:%
%:%5606=2020%:%
%:%5607=2020%:%
%:%5608=2021%:%
%:%5609=2021%:%
%:%5610=2021%:%
%:%5611=2022%:%
%:%5612=2022%:%
%:%5613=2023%:%
%:%5614=2023%:%
%:%5615=2024%:%
%:%5616=2024%:%
%:%5617=2025%:%
%:%5618=2025%:%
%:%5619=2026%:%
%:%5620=2026%:%
%:%5621=2027%:%
%:%5622=2027%:%
%:%5623=2028%:%
%:%5624=2028%:%
%:%5625=2029%:%
%:%5626=2029%:%
%:%5627=2030%:%
%:%5628=2030%:%
%:%5629=2031%:%
%:%5630=2031%:%
%:%5631=2031%:%
%:%5632=2032%:%
%:%5633=2032%:%
%:%5634=2033%:%
%:%5635=2033%:%
%:%5636=2034%:%
%:%5637=2034%:%
%:%5638=2035%:%
%:%5639=2035%:%
%:%5640=2036%:%
%:%5641=2036%:%
%:%5642=2037%:%
%:%5643=2037%:%
%:%5644=2038%:%
%:%5645=2038%:%
%:%5646=2039%:%
%:%5647=2039%:%
%:%5648=2040%:%
%:%5649=2040%:%
%:%5650=2041%:%
%:%5651=2041%:%
%:%5652=2042%:%
%:%5653=2043%:%
%:%5654=2044%:%
%:%5655=2044%:%
%:%5656=2045%:%
%:%5657=2045%:%
%:%5658=2046%:%
%:%5659=2046%:%
%:%5660=2047%:%
%:%5661=2047%:%
%:%5662=2047%:%
%:%5663=2048%:%
%:%5664=2048%:%
%:%5665=2048%:%
%:%5666=2049%:%
%:%5667=2049%:%
%:%5668=2050%:%
%:%5669=2050%:%
%:%5670=2051%:%
%:%5671=2051%:%
%:%5672=2052%:%
%:%5673=2052%:%
%:%5674=2053%:%
%:%5675=2053%:%
%:%5676=2054%:%
%:%5677=2054%:%
%:%5678=2055%:%
%:%5679=2055%:%
%:%5680=2056%:%
%:%5681=2056%:%
%:%5682=2057%:%
%:%5683=2057%:%
%:%5684=2058%:%
%:%5685=2058%:%
%:%5686=2059%:%
%:%5687=2060%:%
%:%5688=2060%:%
%:%5689=2061%:%
%:%5690=2061%:%
%:%5691=2062%:%
%:%5692=2062%:%
%:%5693=2063%:%
%:%5694=2063%:%
%:%5695=2063%:%
%:%5696=2064%:%
%:%5697=2064%:%
%:%5698=2064%:%
%:%5699=2065%:%
%:%5700=2065%:%
%:%5701=2066%:%
%:%5702=2066%:%
%:%5703=2067%:%
%:%5709=2067%:%
%:%5712=2068%:%
%:%5713=2069%:%
%:%5714=2069%:%
%:%5715=2070%:%
%:%5716=2071%:%
%:%5717=2071%:%
%:%5720=2072%:%
%:%5724=2072%:%
%:%5725=2072%:%
%:%5730=2072%:%
%:%5733=2073%:%
%:%5734=2074%:%
%:%5735=2074%:%
%:%5738=2075%:%
%:%5742=2075%:%
%:%5743=2075%:%
%:%5748=2075%:%
%:%5751=2076%:%
%:%5752=2077%:%
%:%5753=2077%:%
%:%5754=2078%:%
%:%5755=2079%:%
%:%5756=2080%:%
%:%5757=2081%:%
%:%5758=2082%:%
%:%5765=2083%:%
%:%5766=2083%:%
%:%5767=2084%:%
%:%5768=2084%:%
%:%5769=2085%:%
%:%5770=2085%:%
%:%5771=2086%:%
%:%5772=2086%:%
%:%5773=2087%:%
%:%5774=2087%:%
%:%5775=2088%:%
%:%5776=2088%:%
%:%5777=2089%:%
%:%5778=2090%:%
%:%5779=2090%:%
%:%5780=2091%:%
%:%5781=2091%:%
%:%5782=2092%:%
%:%5783=2092%:%
%:%5784=2093%:%
%:%5785=2093%:%
%:%5786=2093%:%
%:%5787=2094%:%
%:%5788=2094%:%
%:%5789=2095%:%
%:%5790=2095%:%
%:%5791=2096%:%
%:%5792=2096%:%
%:%5793=2097%:%
%:%5794=2097%:%
%:%5795=2098%:%
%:%5796=2099%:%
%:%5802=2099%:%
%:%5805=2100%:%
%:%5806=2101%:%
%:%5807=2101%:%
%:%5808=2102%:%
%:%5809=2103%:%
%:%5810=2104%:%
%:%5811=2105%:%
%:%5812=2106%:%
%:%5813=2107%:%
%:%5814=2108%:%
%:%5821=2109%:%
%:%5822=2109%:%
%:%5823=2110%:%
%:%5824=2110%:%
%:%5825=2111%:%
%:%5826=2111%:%
%:%5827=2112%:%
%:%5828=2112%:%
%:%5829=2113%:%
%:%5830=2113%:%
%:%5831=2114%:%
%:%5832=2114%:%
%:%5833=2115%:%
%:%5834=2115%:%
%:%5835=2116%:%
%:%5836=2116%:%
%:%5837=2117%:%
%:%5838=2117%:%
%:%5839=2118%:%
%:%5840=2118%:%
%:%5841=2119%:%
%:%5842=2119%:%
%:%5843=2120%:%
%:%5844=2120%:%
%:%5845=2121%:%
%:%5846=2121%:%
%:%5847=2122%:%
%:%5848=2122%:%
%:%5849=2123%:%
%:%5850=2123%:%
%:%5851=2124%:%
%:%5852=2124%:%
%:%5853=2125%:%
%:%5854=2125%:%
%:%5855=2126%:%
%:%5856=2126%:%
%:%5857=2127%:%
%:%5858=2127%:%
%:%5859=2128%:%
%:%5860=2128%:%
%:%5861=2129%:%
%:%5862=2129%:%
%:%5863=2130%:%
%:%5864=2130%:%
%:%5865=2131%:%
%:%5866=2131%:%
%:%5867=2132%:%
%:%5868=2132%:%
%:%5869=2133%:%
%:%5875=2133%:%
%:%5878=2134%:%
%:%5879=2135%:%
%:%5880=2135%:%
%:%5881=2136%:%
%:%5882=2137%:%
%:%5883=2138%:%
%:%5884=2139%:%
%:%5885=2140%:%
%:%5886=2141%:%
%:%5887=2142%:%
%:%5890=2143%:%
%:%5894=2143%:%
%:%5895=2143%:%
%:%5896=2144%:%
%:%5897=2144%:%
%:%5902=2144%:%
%:%5905=2145%:%
%:%5906=2146%:%
%:%5907=2146%:%
%:%5908=2147%:%
%:%5909=2148%:%
%:%5910=2149%:%
%:%5911=2150%:%
%:%5912=2151%:%
%:%5914=2153%:%
%:%5915=2154%:%
%:%5916=2155%:%
%:%5917=2156%:%
%:%5918=2156%:%
%:%5921=2157%:%
%:%5925=2157%:%
%:%5926=2157%:%
%:%5927=2158%:%
%:%5928=2158%:%
%:%5929=2159%:%
%:%5934=2159%:%
%:%5937=2160%:%
%:%5938=2161%:%
%:%5939=2161%:%
%:%5942=2162%:%
%:%5946=2162%:%
%:%5947=2162%:%
%:%5948=2163%:%
%:%5949=2163%:%
%:%5950=2164%:%
%:%5951=2165%:%
%:%5956=2165%:%
%:%5959=2166%:%
%:%5960=2167%:%
%:%5961=2167%:%
%:%5962=2168%:%
%:%5965=2169%:%
%:%5969=2169%:%
%:%5970=2169%:%
%:%5971=2170%:%
%:%5976=2170%:%
%:%5979=2171%:%
%:%5980=2172%:%
%:%5981=2172%:%
%:%5982=2173%:%
%:%5984=2175%:%
%:%5985=2176%:%
%:%5986=2177%:%
%:%5987=2177%:%
%:%5988=2178%:%
%:%5989=2179%:%
%:%5996=2180%:%
%:%5997=2180%:%
%:%5998=2181%:%
%:%5999=2181%:%
%:%6000=2182%:%
%:%6001=2182%:%
%:%6002=2183%:%
%:%6003=2183%:%
%:%6004=2183%:%
%:%6005=2184%:%
%:%6006=2185%:%
%:%6007=2185%:%
%:%6008=2186%:%
%:%6009=2186%:%
%:%6010=2187%:%
%:%6011=2187%:%
%:%6012=2188%:%
%:%6013=2188%:%
%:%6014=2189%:%
%:%6015=2189%:%
%:%6016=2189%:%
%:%6017=2190%:%
%:%6018=2190%:%
%:%6019=2191%:%
%:%6020=2191%:%
%:%6021=2192%:%
%:%6022=2192%:%
%:%6023=2193%:%
%:%6024=2193%:%
%:%6025=2194%:%
%:%6026=2194%:%
%:%6027=2194%:%
%:%6028=2195%:%
%:%6029=2195%:%
%:%6030=2196%:%
%:%6031=2196%:%
%:%6032=2197%:%
%:%6033=2197%:%
%:%6034=2198%:%
%:%6035=2198%:%
%:%6036=2199%:%
%:%6037=2199%:%
%:%6038=2200%:%
%:%6039=2200%:%
%:%6040=2201%:%
%:%6041=2201%:%
%:%6042=2202%:%
%:%6043=2202%:%
%:%6044=2202%:%
%:%6045=2203%:%
%:%6046=2203%:%
%:%6047=2204%:%
%:%6048=2204%:%
%:%6049=2205%:%
%:%6050=2205%:%
%:%6051=2206%:%
%:%6052=2206%:%
%:%6053=2206%:%
%:%6054=2207%:%
%:%6055=2207%:%
%:%6056=2208%:%
%:%6057=2208%:%
%:%6058=2209%:%
%:%6064=2209%:%
%:%6067=2210%:%
%:%6068=2211%:%
%:%6069=2211%:%
%:%6070=2212%:%
%:%6071=2213%:%
%:%6072=2214%:%
%:%6073=2215%:%
%:%6076=2218%:%
%:%6077=2219%:%
%:%6078=2220%:%
%:%6079=2220%:%
%:%6082=2221%:%
%:%6086=2221%:%
%:%6087=2221%:%
%:%6092=2221%:%
%:%6095=2222%:%
%:%6096=2223%:%
%:%6097=2223%:%
%:%6104=2230%:%
%:%6111=2231%:%
%:%6112=2231%:%
%:%6113=2232%:%
%:%6114=2232%:%
%:%6115=2233%:%
%:%6116=2233%:%
%:%6117=2233%:%
%:%6118=2234%:%
%:%6119=2234%:%
%:%6120=2235%:%
%:%6121=2236%:%
%:%6122=2236%:%
%:%6123=2237%:%
%:%6124=2237%:%
%:%6125=2238%:%
%:%6126=2238%:%
%:%6127=2239%:%
%:%6128=2239%:%
%:%6129=2240%:%
%:%6130=2240%:%
%:%6131=2241%:%
%:%6132=2241%:%
%:%6133=2242%:%
%:%6134=2242%:%
%:%6135=2243%:%
%:%6136=2243%:%
%:%6137=2244%:%
%:%6138=2244%:%
%:%6139=2245%:%
%:%6140=2245%:%
%:%6141=2246%:%
%:%6142=2246%:%
%:%6143=2247%:%
%:%6144=2247%:%
%:%6145=2248%:%
%:%6146=2248%:%
%:%6147=2249%:%
%:%6148=2249%:%
%:%6149=2250%:%
%:%6150=2250%:%
%:%6151=2251%:%
%:%6152=2251%:%
%:%6153=2252%:%
%:%6154=2252%:%
%:%6155=2253%:%
%:%6156=2253%:%
%:%6157=2254%:%
%:%6158=2254%:%
%:%6159=2255%:%
%:%6160=2255%:%
%:%6161=2256%:%
%:%6162=2256%:%
%:%6163=2257%:%
%:%6164=2257%:%
%:%6165=2258%:%
%:%6166=2258%:%
%:%6167=2259%:%
%:%6168=2259%:%
%:%6169=2260%:%
%:%6170=2260%:%
%:%6171=2261%:%
%:%6172=2261%:%
%:%6173=2262%:%
%:%6174=2262%:%
%:%6175=2263%:%
%:%6176=2263%:%
%:%6177=2264%:%
%:%6178=2264%:%
%:%6179=2265%:%
%:%6180=2266%:%
%:%6181=2267%:%
%:%6182=2268%:%
%:%6183=2268%:%
%:%6184=2269%:%
%:%6185=2269%:%
%:%6186=2270%:%
%:%6187=2270%:%
%:%6188=2271%:%
%:%6189=2271%:%
%:%6190=2272%:%
%:%6191=2272%:%
%:%6192=2273%:%
%:%6193=2273%:%
%:%6194=2274%:%
%:%6195=2274%:%
%:%6196=2275%:%
%:%6197=2275%:%
%:%6198=2276%:%
%:%6199=2276%:%
%:%6200=2277%:%
%:%6201=2277%:%
%:%6202=2278%:%
%:%6203=2278%:%
%:%6204=2279%:%
%:%6205=2279%:%
%:%6206=2280%:%
%:%6207=2280%:%
%:%6208=2281%:%
%:%6209=2281%:%
%:%6210=2282%:%
%:%6211=2282%:%
%:%6212=2283%:%
%:%6213=2283%:%
%:%6214=2284%:%
%:%6215=2284%:%
%:%6216=2285%:%
%:%6217=2285%:%
%:%6218=2286%:%
%:%6219=2286%:%
%:%6220=2287%:%
%:%6221=2287%:%
%:%6222=2288%:%
%:%6223=2288%:%
%:%6224=2289%:%
%:%6225=2289%:%
%:%6226=2290%:%
%:%6227=2290%:%
%:%6228=2291%:%
%:%6229=2291%:%
%:%6230=2292%:%
%:%6231=2292%:%
%:%6232=2293%:%
%:%6233=2293%:%
%:%6234=2294%:%
%:%6235=2294%:%
%:%6236=2295%:%
%:%6237=2295%:%
%:%6238=2296%:%
%:%6239=2297%:%
%:%6240=2298%:%
%:%6241=2298%:%
%:%6242=2299%:%
%:%6243=2299%:%
%:%6244=2300%:%
%:%6245=2300%:%
%:%6246=2301%:%
%:%6247=2301%:%
%:%6248=2302%:%
%:%6249=2302%:%
%:%6250=2303%:%
%:%6251=2303%:%
%:%6252=2304%:%
%:%6253=2304%:%
%:%6254=2305%:%
%:%6255=2305%:%
%:%6256=2306%:%
%:%6257=2306%:%
%:%6258=2307%:%
%:%6259=2307%:%
%:%6260=2308%:%
%:%6261=2308%:%
%:%6262=2309%:%
%:%6263=2309%:%
%:%6264=2310%:%
%:%6265=2310%:%
%:%6266=2311%:%
%:%6267=2311%:%
%:%6268=2312%:%
%:%6269=2312%:%
%:%6270=2313%:%
%:%6271=2313%:%
%:%6272=2314%:%
%:%6273=2314%:%
%:%6274=2315%:%
%:%6275=2315%:%
%:%6276=2316%:%
%:%6277=2316%:%
%:%6278=2317%:%
%:%6279=2317%:%
%:%6280=2318%:%
%:%6281=2318%:%
%:%6282=2319%:%
%:%6283=2319%:%
%:%6284=2320%:%
%:%6285=2320%:%
%:%6286=2321%:%
%:%6287=2321%:%
%:%6288=2322%:%
%:%6289=2322%:%
%:%6290=2323%:%
%:%6291=2323%:%
%:%6292=2324%:%
%:%6293=2324%:%
%:%6294=2325%:%
%:%6295=2325%:%
%:%6296=2326%:%
%:%6297=2326%:%
%:%6298=2327%:%
%:%6299=2327%:%
%:%6300=2328%:%
%:%6301=2328%:%
%:%6302=2329%:%
%:%6303=2329%:%
%:%6304=2330%:%
%:%6305=2330%:%
%:%6306=2331%:%
%:%6307=2331%:%
%:%6308=2332%:%
%:%6309=2332%:%
%:%6310=2333%:%
%:%6311=2333%:%
%:%6312=2333%:%
%:%6313=2334%:%
%:%6314=2334%:%
%:%6315=2335%:%
%:%6316=2335%:%
%:%6317=2336%:%
%:%6318=2336%:%
%:%6319=2337%:%
%:%6320=2337%:%
%:%6321=2338%:%
%:%6322=2338%:%
%:%6323=2339%:%
%:%6324=2339%:%
%:%6325=2340%:%
%:%6326=2340%:%
%:%6327=2341%:%
%:%6333=2341%:%
%:%6336=2342%:%
%:%6337=2343%:%
%:%6338=2343%:%
%:%6339=2344%:%
%:%6340=2345%:%
%:%6345=2350%:%
%:%6352=2351%:%
%:%6353=2351%:%
%:%6354=2352%:%
%:%6355=2353%:%
%:%6356=2353%:%
%:%6357=2354%:%
%:%6358=2354%:%
%:%6359=2355%:%
%:%6360=2355%:%
%:%6361=2356%:%
%:%6362=2356%:%
%:%6363=2357%:%
%:%6364=2357%:%
%:%6365=2358%:%
%:%6366=2358%:%
%:%6367=2359%:%
%:%6368=2359%:%
%:%6369=2360%:%
%:%6370=2360%:%
%:%6371=2361%:%
%:%6372=2361%:%
%:%6373=2362%:%
%:%6374=2362%:%
%:%6375=2363%:%
%:%6376=2363%:%
%:%6377=2364%:%
%:%6378=2364%:%
%:%6379=2365%:%
%:%6380=2365%:%
%:%6381=2366%:%
%:%6382=2366%:%
%:%6383=2367%:%
%:%6384=2367%:%
%:%6385=2368%:%
%:%6386=2368%:%
%:%6387=2369%:%
%:%6388=2369%:%
%:%6389=2370%:%
%:%6390=2370%:%
%:%6391=2371%:%
%:%6392=2371%:%
%:%6393=2372%:%
%:%6394=2372%:%
%:%6395=2373%:%
%:%6396=2373%:%
%:%6397=2374%:%
%:%6398=2374%:%
%:%6399=2375%:%
%:%6400=2375%:%
%:%6401=2376%:%
%:%6402=2376%:%
%:%6403=2377%:%
%:%6404=2377%:%
%:%6405=2378%:%
%:%6406=2378%:%
%:%6407=2379%:%
%:%6408=2379%:%
%:%6409=2379%:%
%:%6410=2380%:%
%:%6411=2380%:%
%:%6412=2381%:%
%:%6413=2381%:%
%:%6414=2382%:%
%:%6415=2382%:%
%:%6416=2383%:%
%:%6417=2383%:%
%:%6418=2384%:%
%:%6419=2384%:%
%:%6420=2385%:%
%:%6421=2385%:%
%:%6422=2386%:%
%:%6423=2386%:%
%:%6424=2387%:%
%:%6425=2387%:%
%:%6426=2388%:%
%:%6427=2388%:%
%:%6428=2389%:%
%:%6429=2389%:%
%:%6430=2390%:%
%:%6431=2390%:%
%:%6432=2391%:%
%:%6433=2391%:%
%:%6434=2392%:%
%:%6435=2392%:%
%:%6436=2393%:%
%:%6437=2393%:%
%:%6438=2394%:%
%:%6439=2394%:%
%:%6440=2395%:%
%:%6441=2395%:%
%:%6442=2396%:%
%:%6443=2396%:%
%:%6444=2397%:%
%:%6445=2397%:%
%:%6446=2398%:%
%:%6447=2398%:%
%:%6448=2399%:%
%:%6449=2399%:%
%:%6450=2400%:%
%:%6451=2401%:%
%:%6452=2401%:%
%:%6453=2402%:%
%:%6454=2402%:%
%:%6455=2403%:%
%:%6456=2403%:%
%:%6457=2404%:%
%:%6458=2404%:%
%:%6459=2405%:%
%:%6460=2405%:%
%:%6461=2406%:%
%:%6462=2406%:%
%:%6463=2407%:%
%:%6464=2407%:%
%:%6465=2408%:%
%:%6466=2408%:%
%:%6467=2409%:%
%:%6468=2409%:%
%:%6469=2410%:%
%:%6470=2410%:%
%:%6471=2411%:%
%:%6472=2412%:%
%:%6473=2412%:%
%:%6474=2413%:%
%:%6475=2413%:%
%:%6476=2414%:%
%:%6477=2414%:%
%:%6478=2415%:%
%:%6479=2415%:%
%:%6480=2416%:%
%:%6481=2416%:%
%:%6482=2417%:%
%:%6483=2417%:%
%:%6484=2418%:%
%:%6485=2418%:%
%:%6486=2419%:%
%:%6487=2419%:%
%:%6488=2420%:%
%:%6489=2420%:%
%:%6490=2421%:%
%:%6491=2421%:%
%:%6492=2422%:%
%:%6493=2422%:%
%:%6494=2423%:%
%:%6495=2423%:%
%:%6496=2424%:%
%:%6497=2424%:%
%:%6498=2425%:%
%:%6499=2425%:%
%:%6500=2426%:%
%:%6501=2426%:%
%:%6502=2427%:%
%:%6503=2427%:%
%:%6504=2428%:%
%:%6505=2429%:%
%:%6506=2429%:%
%:%6507=2430%:%
%:%6508=2430%:%
%:%6509=2431%:%
%:%6510=2431%:%
%:%6511=2432%:%
%:%6512=2432%:%
%:%6513=2433%:%
%:%6514=2433%:%
%:%6515=2433%:%
%:%6516=2434%:%
%:%6517=2434%:%
%:%6518=2435%:%
%:%6519=2435%:%
%:%6520=2436%:%
%:%6521=2436%:%
%:%6522=2437%:%
%:%6523=2437%:%
%:%6524=2438%:%
%:%6525=2438%:%
%:%6526=2439%:%
%:%6527=2439%:%
%:%6528=2440%:%
%:%6529=2440%:%
%:%6530=2441%:%
%:%6531=2441%:%
%:%6532=2442%:%
%:%6533=2442%:%
%:%6534=2443%:%
%:%6535=2443%:%
%:%6536=2444%:%
%:%6537=2444%:%
%:%6538=2445%:%
%:%6539=2445%:%
%:%6540=2446%:%
%:%6541=2446%:%
%:%6542=2447%:%
%:%6543=2447%:%
%:%6544=2448%:%
%:%6545=2448%:%
%:%6546=2449%:%
%:%6547=2449%:%
%:%6548=2450%:%
%:%6549=2450%:%
%:%6550=2451%:%
%:%6551=2452%:%
%:%6552=2452%:%
%:%6553=2453%:%
%:%6554=2453%:%
%:%6555=2454%:%
%:%6556=2454%:%
%:%6557=2455%:%
%:%6558=2455%:%
%:%6559=2456%:%
%:%6560=2456%:%
%:%6561=2457%:%
%:%6562=2457%:%
%:%6563=2458%:%
%:%6564=2458%:%
%:%6565=2459%:%
%:%6566=2459%:%
%:%6567=2460%:%
%:%6568=2460%:%
%:%6569=2461%:%
%:%6570=2461%:%
%:%6571=2462%:%
%:%6572=2462%:%
%:%6573=2463%:%
%:%6574=2464%:%
%:%6575=2464%:%
%:%6576=2465%:%
%:%6577=2465%:%
%:%6578=2466%:%
%:%6579=2466%:%
%:%6580=2466%:%
%:%6581=2467%:%
%:%6582=2467%:%
%:%6583=2468%:%
%:%6584=2468%:%
%:%6585=2469%:%
%:%6586=2469%:%
%:%6587=2470%:%
%:%6588=2470%:%
%:%6589=2471%:%
%:%6590=2471%:%
%:%6591=2472%:%
%:%6592=2472%:%
%:%6593=2473%:%
%:%6594=2473%:%
%:%6595=2474%:%
%:%6596=2474%:%
%:%6597=2475%:%
%:%6598=2475%:%
%:%6599=2476%:%
%:%6600=2476%:%
%:%6601=2477%:%
%:%6602=2477%:%
%:%6603=2478%:%
%:%6604=2478%:%
%:%6605=2479%:%
%:%6606=2479%:%
%:%6607=2480%:%
%:%6608=2481%:%
%:%6609=2481%:%
%:%6610=2482%:%
%:%6611=2482%:%
%:%6612=2483%:%
%:%6613=2483%:%
%:%6614=2484%:%
%:%6615=2484%:%
%:%6616=2485%:%
%:%6617=2485%:%
%:%6618=2486%:%
%:%6619=2486%:%
%:%6620=2487%:%
%:%6621=2487%:%
%:%6622=2488%:%
%:%6623=2488%:%
%:%6624=2489%:%
%:%6625=2489%:%
%:%6626=2490%:%
%:%6627=2490%:%
%:%6628=2491%:%
%:%6629=2491%:%
%:%6630=2492%:%
%:%6631=2492%:%
%:%6632=2493%:%
%:%6633=2494%:%
%:%6634=2494%:%
%:%6635=2495%:%
%:%6636=2495%:%
%:%6637=2496%:%
%:%6638=2496%:%
%:%6639=2497%:%
%:%6640=2497%:%
%:%6641=2498%:%
%:%6642=2498%:%
%:%6643=2499%:%
%:%6644=2499%:%
%:%6645=2500%:%
%:%6646=2500%:%
%:%6647=2501%:%
%:%6648=2501%:%
%:%6649=2502%:%
%:%6650=2502%:%
%:%6651=2503%:%
%:%6652=2503%:%
%:%6653=2504%:%
%:%6654=2504%:%
%:%6655=2505%:%
%:%6656=2505%:%
%:%6657=2506%:%
%:%6658=2506%:%
%:%6659=2507%:%
%:%6660=2507%:%
%:%6661=2508%:%
%:%6662=2508%:%
%:%6663=2509%:%
%:%6664=2509%:%
%:%6665=2510%:%
%:%6666=2510%:%
%:%6667=2511%:%
%:%6668=2511%:%
%:%6669=2512%:%
%:%6670=2512%:%
%:%6671=2513%:%
%:%6672=2513%:%
%:%6677=2513%:%
%:%6680=2514%:%
%:%6681=2515%:%
%:%6682=2515%:%
%:%6683=2516%:%
%:%6684=2517%:%
%:%6685=2518%:%
%:%6686=2518%:%
%:%6687=2519%:%
%:%6688=2520%:%
%:%6691=2521%:%
%:%6695=2521%:%
%:%6696=2521%:%
%:%6697=2522%:%
%:%6698=2523%:%
%:%6699=2524%:%
%:%6700=2525%:%
%:%6701=2526%:%
%:%6702=2526%:%
%:%6707=2526%:%
%:%6710=2527%:%
%:%6711=2528%:%
%:%6712=2528%:%
%:%6713=2529%:%
%:%6714=2530%:%
%:%6717=2531%:%
%:%6721=2531%:%
%:%6722=2531%:%
%:%6723=2532%:%
%:%6724=2533%:%
%:%6725=2534%:%
%:%6726=2535%:%
%:%6727=2536%:%
%:%6728=2536%:%
%:%6729=2537%:%
%:%6730=2537%:%
%:%6735=2537%:%
%:%6738=2538%:%
%:%6739=2539%:%
%:%6740=2539%:%
%:%6743=2540%:%
%:%6747=2540%:%
%:%6748=2540%:%
%:%6749=2541%:%
%:%6750=2542%:%
%:%6751=2542%:%
%:%6756=2542%:%
%:%6759=2543%:%
%:%6760=2544%:%
%:%6761=2544%:%
%:%6762=2545%:%
%:%6763=2546%:%
%:%6764=2547%:%
%:%6771=2548%:%
%:%6772=2548%:%
%:%6773=2549%:%
%:%6774=2549%:%
%:%6775=2550%:%
%:%6776=2550%:%
%:%6777=2551%:%
%:%6778=2551%:%
%:%6779=2551%:%
%:%6780=2552%:%
%:%6781=2552%:%
%:%6782=2553%:%
%:%6783=2553%:%
%:%6784=2554%:%
%:%6785=2554%:%
%:%6786=2555%:%
%:%6787=2555%:%
%:%6788=2556%:%
%:%6789=2556%:%
%:%6790=2557%:%
%:%6791=2557%:%
%:%6792=2558%:%
%:%6793=2558%:%
%:%6794=2559%:%
%:%6795=2559%:%
%:%6796=2560%:%
%:%6797=2560%:%
%:%6798=2561%:%
%:%6799=2561%:%
%:%6800=2562%:%
%:%6801=2563%:%
%:%6802=2563%:%
%:%6803=2564%:%
%:%6804=2564%:%
%:%6805=2565%:%
%:%6806=2565%:%
%:%6807=2566%:%
%:%6808=2566%:%
%:%6809=2567%:%
%:%6810=2567%:%
%:%6811=2568%:%
%:%6812=2568%:%
%:%6813=2568%:%
%:%6814=2569%:%
%:%6815=2569%:%
%:%6816=2570%:%
%:%6817=2570%:%
%:%6818=2571%:%
%:%6819=2571%:%
%:%6820=2572%:%
%:%6821=2572%:%
%:%6822=2573%:%
%:%6823=2573%:%
%:%6824=2574%:%
%:%6825=2574%:%
%:%6826=2575%:%
%:%6827=2575%:%
%:%6828=2576%:%
%:%6829=2576%:%
%:%6830=2577%:%
%:%6831=2577%:%
%:%6832=2578%:%
%:%6833=2578%:%
%:%6834=2579%:%
%:%6835=2579%:%
%:%6836=2580%:%
%:%6837=2580%:%
%:%6838=2580%:%
%:%6839=2581%:%
%:%6840=2581%:%
%:%6841=2582%:%
%:%6842=2582%:%
%:%6843=2583%:%
%:%6844=2584%:%
%:%6845=2584%:%
%:%6846=2585%:%
%:%6852=2585%:%
%:%6855=2586%:%
%:%6856=2587%:%
%:%6857=2587%:%
%:%6858=2588%:%
%:%6859=2589%:%
%:%6860=2590%:%
%:%6861=2591%:%
%:%6864=2592%:%
%:%6868=2592%:%
%:%6869=2592%:%
%:%6870=2593%:%
%:%6871=2593%:%
%:%6876=2593%:%
%:%6879=2594%:%
%:%6880=2595%:%
%:%6881=2595%:%
%:%6882=2596%:%
%:%6883=2597%:%
%:%6884=2597%:%
%:%6887=2598%:%
%:%6891=2598%:%
%:%6892=2598%:%
%:%6897=2598%:%
%:%6900=2599%:%
%:%6901=2600%:%
%:%6902=2600%:%
%:%6905=2601%:%
%:%6909=2601%:%
%:%6910=2601%:%
%:%6915=2601%:%
%:%6918=2602%:%
%:%6919=2603%:%
%:%6920=2603%:%
%:%6921=2604%:%
%:%6922=2605%:%
%:%6923=2605%:%
%:%6924=2606%:%
%:%6925=2607%:%
%:%6926=2608%:%
%:%6927=2609%:%
%:%6928=2609%:%
%:%6929=2610%:%
%:%6930=2611%:%
%:%6931=2612%:%
%:%6932=2612%:%
%:%6933=2613%:%
%:%6940=2620%:%
%:%6941=2621%:%
%:%6942=2622%:%
%:%6943=2622%:%
%:%6944=2623%:%
%:%6945=2624%:%
%:%6946=2625%:%
%:%6947=2625%:%
%:%6953=2631%:%
%:%6954=2632%:%
%:%6955=2633%:%
%:%6956=2633%:%
%:%6957=2634%:%
%:%6958=2635%:%
%:%6959=2635%:%
%:%6962=2638%:%
%:%6963=2639%:%
%:%6964=2640%:%
%:%6965=2640%:%
%:%6966=2641%:%
%:%6967=2642%:%
%:%6968=2643%:%
%:%6969=2644%:%
%:%6970=2645%:%
%:%6971=2645%:%
%:%6972=2646%:%
%:%6973=2647%:%
%:%6978=2652%:%
%:%6979=2653%:%
%:%6980=2654%:%
%:%6981=2654%:%
%:%6982=2655%:%
%:%6983=2656%:%
%:%6989=2662%:%
%:%6990=2663%:%
%:%6991=2664%:%
%:%6992=2664%:%
%:%6993=2665%:%
%:%6995=2667%:%
%:%6996=2668%:%
%:%6997=2669%:%
%:%6998=2669%:%
%:%6999=2670%:%
%:%7003=2674%:%
%:%7004=2675%:%
%:%7005=2676%:%
%:%7006=2676%:%
%:%7007=2677%:%
%:%7008=2678%:%
%:%7015=2679%:%
%:%7016=2679%:%
%:%7017=2680%:%
%:%7018=2680%:%
%:%7019=2681%:%
%:%7020=2681%:%
%:%7021=2682%:%
%:%7022=2682%:%
%:%7023=2683%:%
%:%7024=2683%:%
%:%7025=2684%:%
%:%7026=2684%:%
%:%7027=2685%:%
%:%7028=2685%:%
%:%7029=2686%:%
%:%7035=2686%:%
%:%7038=2687%:%
%:%7039=2688%:%
%:%7040=2688%:%
%:%7041=2689%:%
%:%7042=2690%:%
%:%7049=2691%:%
%:%7050=2691%:%
%:%7051=2692%:%
%:%7052=2692%:%
%:%7053=2693%:%
%:%7054=2693%:%
%:%7055=2694%:%
%:%7056=2694%:%
%:%7057=2695%:%
%:%7058=2695%:%
%:%7059=2696%:%
%:%7060=2696%:%
%:%7061=2697%:%
%:%7062=2697%:%
%:%7063=2698%:%
%:%7069=2698%:%
%:%7072=2699%:%
%:%7073=2700%:%
%:%7074=2700%:%
%:%7075=2701%:%
%:%7078=2702%:%
%:%7082=2702%:%
%:%7083=2702%:%
%:%7088=2702%:%
%:%7091=2703%:%
%:%7092=2704%:%
%:%7093=2704%:%
%:%7094=2705%:%
%:%7095=2706%:%
%:%7102=2707%:%
%:%7103=2707%:%
%:%7104=2708%:%
%:%7105=2708%:%
%:%7106=2709%:%
%:%7107=2709%:%
%:%7108=2710%:%
%:%7109=2710%:%
%:%7110=2711%:%
%:%7111=2711%:%
%:%7112=2712%:%
%:%7113=2712%:%
%:%7114=2713%:%
%:%7115=2713%:%
%:%7116=2714%:%
%:%7117=2714%:%
%:%7118=2715%:%
%:%7119=2715%:%
%:%7120=2716%:%
%:%7126=2716%:%
%:%7129=2717%:%
%:%7130=2718%:%
%:%7131=2718%:%
%:%7134=2719%:%
%:%7138=2719%:%
%:%7139=2719%:%
%:%7144=2719%:%
%:%7147=2720%:%
%:%7148=2721%:%
%:%7149=2721%:%
%:%7150=2722%:%
%:%7151=2723%:%
%:%7158=2724%:%
%:%7159=2724%:%
%:%7160=2725%:%
%:%7161=2725%:%
%:%7162=2726%:%
%:%7163=2726%:%
%:%7164=2727%:%
%:%7165=2727%:%
%:%7166=2728%:%
%:%7167=2728%:%
%:%7168=2728%:%
%:%7169=2729%:%
%:%7170=2729%:%
%:%7171=2730%:%
%:%7172=2730%:%
%:%7173=2731%:%
%:%7179=2731%:%
%:%7182=2732%:%
%:%7183=2733%:%
%:%7184=2733%:%
%:%7185=2734%:%
%:%7186=2735%:%
%:%7187=2736%:%
%:%7188=2737%:%
%:%7189=2738%:%
%:%7191=2740%:%
%:%7192=2741%:%
%:%7193=2742%:%
%:%7200=2743%:%
%:%7201=2743%:%
%:%7202=2744%:%
%:%7203=2744%:%
%:%7204=2745%:%
%:%7205=2745%:%
%:%7206=2746%:%
%:%7207=2746%:%
%:%7208=2747%:%
%:%7209=2747%:%
%:%7210=2748%:%
%:%7211=2748%:%
%:%7212=2749%:%
%:%7213=2749%:%
%:%7214=2750%:%
%:%7215=2750%:%
%:%7216=2751%:%
%:%7217=2751%:%
%:%7218=2752%:%
%:%7219=2752%:%
%:%7220=2753%:%
%:%7221=2753%:%
%:%7222=2754%:%
%:%7223=2754%:%
%:%7224=2755%:%
%:%7225=2755%:%
%:%7226=2756%:%
%:%7227=2757%:%
%:%7228=2757%:%
%:%7229=2758%:%
%:%7230=2758%:%
%:%7231=2759%:%
%:%7232=2759%:%
%:%7233=2760%:%
%:%7234=2760%:%
%:%7235=2761%:%
%:%7236=2762%:%
%:%7237=2763%:%
%:%7238=2764%:%
%:%7239=2764%:%
%:%7240=2764%:%
%:%7241=2765%:%
%:%7242=2766%:%
%:%7243=2767%:%
%:%7244=2768%:%
%:%7245=2768%:%
%:%7246=2769%:%
%:%7247=2769%:%
%:%7248=2770%:%
%:%7249=2770%:%
%:%7250=2771%:%
%:%7251=2771%:%
%:%7252=2772%:%
%:%7253=2772%:%
%:%7254=2773%:%
%:%7255=2774%:%
%:%7256=2775%:%
%:%7257=2776%:%
%:%7258=2776%:%
%:%7259=2777%:%
%:%7260=2777%:%
%:%7261=2778%:%
%:%7262=2779%:%
%:%7263=2779%:%
%:%7264=2780%:%
%:%7265=2780%:%
%:%7266=2781%:%
%:%7267=2781%:%
%:%7268=2782%:%
%:%7269=2782%:%
%:%7270=2783%:%
%:%7271=2783%:%
%:%7272=2784%:%
%:%7273=2784%:%
%:%7274=2785%:%
%:%7275=2785%:%
%:%7276=2786%:%
%:%7277=2786%:%
%:%7278=2787%:%
%:%7279=2787%:%
%:%7280=2788%:%
%:%7281=2788%:%
%:%7282=2789%:%
%:%7283=2789%:%
%:%7284=2790%:%
%:%7285=2790%:%
%:%7286=2791%:%
%:%7287=2791%:%
%:%7288=2792%:%
%:%7289=2792%:%
%:%7290=2793%:%
%:%7291=2793%:%
%:%7292=2794%:%
%:%7293=2794%:%
%:%7294=2795%:%
%:%7295=2795%:%
%:%7296=2796%:%
%:%7297=2796%:%
%:%7298=2797%:%
%:%7299=2797%:%
%:%7300=2798%:%
%:%7301=2798%:%
%:%7302=2799%:%
%:%7303=2799%:%
%:%7304=2800%:%
%:%7305=2800%:%
%:%7306=2801%:%
%:%7307=2801%:%
%:%7308=2802%:%
%:%7309=2802%:%
%:%7310=2803%:%
%:%7311=2804%:%
%:%7312=2804%:%
%:%7313=2805%:%
%:%7314=2805%:%
%:%7315=2806%:%
%:%7316=2806%:%
%:%7317=2807%:%
%:%7318=2807%:%
%:%7319=2808%:%
%:%7320=2809%:%
%:%7321=2809%:%
%:%7322=2810%:%
%:%7323=2810%:%
%:%7324=2811%:%
%:%7325=2811%:%
%:%7326=2812%:%
%:%7327=2812%:%
%:%7328=2813%:%
%:%7329=2813%:%
%:%7330=2813%:%
%:%7331=2814%:%
%:%7332=2814%:%
%:%7333=2815%:%
%:%7334=2815%:%
%:%7335=2816%:%
%:%7336=2816%:%
%:%7337=2817%:%
%:%7338=2817%:%
%:%7339=2818%:%
%:%7340=2818%:%
%:%7341=2819%:%
%:%7342=2819%:%
%:%7343=2820%:%
%:%7344=2820%:%
%:%7345=2820%:%
%:%7346=2821%:%
%:%7347=2821%:%
%:%7348=2822%:%
%:%7349=2822%:%
%:%7350=2823%:%
%:%7351=2823%:%
%:%7352=2824%:%
%:%7353=2825%:%
%:%7354=2825%:%
%:%7355=2826%:%
%:%7356=2826%:%
%:%7357=2827%:%
%:%7358=2827%:%
%:%7359=2828%:%
%:%7360=2828%:%
%:%7361=2829%:%
%:%7362=2829%:%
%:%7363=2830%:%
%:%7364=2830%:%
%:%7365=2831%:%
%:%7366=2831%:%
%:%7367=2831%:%
%:%7368=2832%:%
%:%7369=2832%:%
%:%7370=2833%:%
%:%7371=2833%:%
%:%7372=2834%:%
%:%7373=2834%:%
%:%7374=2835%:%
%:%7375=2835%:%
%:%7376=2835%:%
%:%7377=2836%:%
%:%7378=2836%:%
%:%7379=2837%:%
%:%7380=2837%:%
%:%7381=2838%:%
%:%7382=2838%:%
%:%7383=2839%:%
%:%7384=2839%:%
%:%7385=2840%:%
%:%7386=2840%:%
%:%7387=2841%:%
%:%7388=2841%:%
%:%7389=2842%:%
%:%7390=2842%:%
%:%7391=2843%:%
%:%7392=2843%:%
%:%7393=2844%:%
%:%7394=2844%:%
%:%7395=2845%:%
%:%7396=2845%:%
%:%7397=2846%:%
%:%7398=2846%:%
%:%7399=2847%:%
%:%7400=2847%:%
%:%7401=2848%:%
%:%7402=2848%:%
%:%7403=2849%:%
%:%7404=2849%:%
%:%7405=2850%:%
%:%7406=2850%:%
%:%7407=2851%:%
%:%7408=2851%:%
%:%7409=2852%:%
%:%7410=2852%:%
%:%7411=2853%:%
%:%7412=2853%:%
%:%7413=2854%:%
%:%7414=2854%:%
%:%7415=2855%:%
%:%7416=2855%:%
%:%7417=2856%:%
%:%7418=2856%:%
%:%7419=2857%:%
%:%7420=2857%:%
%:%7421=2858%:%
%:%7422=2858%:%
%:%7423=2859%:%
%:%7424=2859%:%
%:%7425=2860%:%
%:%7426=2860%:%
%:%7427=2861%:%
%:%7428=2861%:%
%:%7429=2862%:%
%:%7430=2862%:%
%:%7431=2863%:%
%:%7432=2863%:%
%:%7433=2864%:%
%:%7434=2864%:%
%:%7435=2865%:%
%:%7436=2866%:%
%:%7437=2866%:%
%:%7438=2867%:%
%:%7439=2867%:%
%:%7440=2868%:%
%:%7441=2868%:%
%:%7442=2869%:%
%:%7443=2869%:%
%:%7444=2870%:%
%:%7445=2870%:%
%:%7446=2871%:%
%:%7447=2871%:%
%:%7448=2872%:%
%:%7449=2872%:%
%:%7450=2873%:%
%:%7451=2873%:%
%:%7452=2874%:%
%:%7453=2874%:%
%:%7454=2874%:%
%:%7455=2875%:%
%:%7456=2875%:%
%:%7457=2876%:%
%:%7458=2876%:%
%:%7459=2877%:%
%:%7460=2877%:%
%:%7461=2878%:%
%:%7462=2878%:%
%:%7463=2879%:%
%:%7464=2879%:%
%:%7465=2880%:%
%:%7466=2880%:%
%:%7467=2881%:%
%:%7468=2881%:%
%:%7469=2882%:%
%:%7470=2882%:%
%:%7471=2883%:%
%:%7472=2883%:%
%:%7473=2884%:%
%:%7474=2884%:%
%:%7475=2884%:%
%:%7476=2885%:%
%:%7477=2885%:%
%:%7478=2886%:%
%:%7479=2886%:%
%:%7480=2887%:%
%:%7481=2887%:%
%:%7482=2888%:%
%:%7483=2888%:%
%:%7484=2889%:%
%:%7485=2889%:%
%:%7486=2890%:%
%:%7487=2890%:%
%:%7488=2891%:%
%:%7489=2891%:%
%:%7490=2892%:%
%:%7491=2892%:%
%:%7492=2892%:%
%:%7493=2893%:%
%:%7494=2893%:%
%:%7495=2894%:%
%:%7496=2894%:%
%:%7497=2895%:%
%:%7498=2895%:%
%:%7499=2896%:%
%:%7500=2896%:%
%:%7501=2897%:%
%:%7502=2897%:%
%:%7503=2898%:%
%:%7504=2898%:%
%:%7505=2899%:%
%:%7506=2899%:%
%:%7507=2900%:%
%:%7508=2900%:%
%:%7509=2901%:%
%:%7510=2901%:%
%:%7511=2901%:%
%:%7512=2902%:%
%:%7513=2902%:%
%:%7514=2903%:%
%:%7515=2903%:%
%:%7516=2904%:%
%:%7517=2904%:%
%:%7518=2905%:%
%:%7519=2905%:%
%:%7520=2906%:%
%:%7521=2906%:%
%:%7522=2907%:%
%:%7523=2907%:%
%:%7524=2908%:%
%:%7525=2908%:%
%:%7526=2909%:%
%:%7527=2909%:%
%:%7528=2910%:%
%:%7529=2910%:%
%:%7530=2911%:%
%:%7531=2911%:%
%:%7532=2912%:%
%:%7533=2912%:%
%:%7534=2913%:%
%:%7535=2913%:%
%:%7536=2913%:%
%:%7537=2914%:%
%:%7538=2914%:%
%:%7539=2915%:%
%:%7540=2916%:%
%:%7546=2916%:%
%:%7549=2917%:%
%:%7550=2918%:%
%:%7551=2918%:%
%:%7552=2919%:%
%:%7553=2920%:%
%:%7554=2921%:%
%:%7555=2922%:%
%:%7556=2923%:%
%:%7557=2924%:%
%:%7558=2925%:%
%:%7565=2926%:%
%:%7566=2926%:%
%:%7567=2927%:%
%:%7568=2927%:%
%:%7569=2928%:%
%:%7570=2928%:%
%:%7571=2929%:%
%:%7572=2929%:%
%:%7573=2930%:%
%:%7574=2930%:%
%:%7575=2931%:%
%:%7576=2931%:%
%:%7577=2932%:%
%:%7578=2932%:%
%:%7579=2933%:%
%:%7585=2933%:%
%:%7588=2934%:%
%:%7589=2935%:%
%:%7590=2935%:%
%:%7591=2936%:%
%:%7592=2937%:%
%:%7593=2938%:%
%:%7594=2939%:%
%:%7595=2940%:%
%:%7597=2942%:%
%:%7598=2943%:%
%:%7601=2944%:%
%:%7605=2944%:%
%:%7606=2944%:%
%:%7607=2945%:%
%:%7608=2945%:%
%:%7613=2945%:%
%:%7616=2946%:%
%:%7617=2947%:%
%:%7618=2947%:%
%:%7619=2948%:%
%:%7620=2949%:%
%:%7621=2950%:%
%:%7622=2951%:%
%:%7623=2952%:%
%:%7624=2953%:%
%:%7631=2954%:%
%:%7632=2954%:%
%:%7633=2955%:%
%:%7634=2955%:%
%:%7635=2956%:%
%:%7636=2956%:%
%:%7637=2957%:%
%:%7638=2957%:%
%:%7639=2958%:%
%:%7640=2958%:%
%:%7641=2959%:%
%:%7642=2959%:%
%:%7643=2960%:%
%:%7644=2960%:%
%:%7645=2961%:%
%:%7651=2961%:%
%:%7654=2962%:%
%:%7655=2963%:%
%:%7656=2963%:%
%:%7657=2964%:%
%:%7658=2965%:%
%:%7661=2966%:%
%:%7665=2966%:%
%:%7666=2966%:%
%:%7667=2967%:%
%:%7668=2967%:%
%:%7669=2968%:%
%:%7670=2968%:%
%:%7671=2969%:%
%:%7672=2969%:%
%:%7673=2969%:%
%:%7674=2970%:%
%:%7675=2970%:%
%:%7676=2971%:%
%:%7677=2971%:%
%:%7678=2972%:%
%:%7679=2972%:%
%:%7680=2973%:%
%:%7681=2973%:%
%:%7682=2974%:%
%:%7683=2974%:%
%:%7684=2975%:%
%:%7685=2975%:%
%:%7686=2976%:%
%:%7687=2976%:%
%:%7688=2977%:%
%:%7689=2977%:%
%:%7690=2978%:%
%:%7691=2978%:%
%:%7692=2979%:%
%:%7693=2979%:%
%:%7694=2980%:%
%:%7695=2980%:%
%:%7696=2981%:%
%:%7697=2981%:%
%:%7698=2981%:%
%:%7699=2982%:%
%:%7700=2982%:%
%:%7701=2983%:%
%:%7702=2983%:%
%:%7703=2984%:%
%:%7704=2984%:%
%:%7705=2985%:%
%:%7706=2985%:%
%:%7707=2986%:%
%:%7708=2986%:%
%:%7709=2986%:%
%:%7710=2987%:%
%:%7711=2987%:%
%:%7712=2988%:%
%:%7713=2988%:%
%:%7714=2989%:%
%:%7715=2989%:%
%:%7716=2990%:%
%:%7717=2990%:%
%:%7718=2991%:%
%:%7719=2991%:%
%:%7724=2991%:%
%:%7727=2992%:%
%:%7728=2993%:%
%:%7729=2993%:%
%:%7730=2994%:%
%:%7731=2995%:%
%:%7732=2996%:%
%:%7735=2997%:%
%:%7739=2997%:%
%:%7740=2997%:%
%:%7741=2998%:%
%:%7742=2998%:%
%:%7743=2999%:%
%:%7744=2999%:%
%:%7745=3000%:%
%:%7746=3000%:%
%:%7747=3001%:%
%:%7748=3001%:%
%:%7749=3002%:%
%:%7750=3002%:%
%:%7751=3003%:%
%:%7752=3003%:%
%:%7753=3004%:%
%:%7754=3004%:%
%:%7755=3005%:%
%:%7756=3005%:%
%:%7757=3006%:%
%:%7758=3006%:%
%:%7759=3007%:%
%:%7760=3007%:%
%:%7761=3008%:%
%:%7762=3008%:%
%:%7763=3009%:%
%:%7764=3009%:%
%:%7765=3010%:%
%:%7766=3010%:%
%:%7767=3011%:%
%:%7768=3011%:%
%:%7769=3012%:%
%:%7770=3012%:%
%:%7771=3013%:%
%:%7772=3013%:%
%:%7773=3014%:%
%:%7774=3014%:%
%:%7775=3015%:%
%:%7776=3015%:%
%:%7777=3016%:%
%:%7778=3016%:%
%:%7779=3017%:%
%:%7780=3017%:%
%:%7781=3018%:%
%:%7782=3018%:%
%:%7787=3018%:%
%:%7790=3019%:%
%:%7791=3020%:%
%:%7792=3020%:%
%:%7793=3021%:%
%:%7794=3022%:%
%:%7795=3023%:%
%:%7796=3024%:%
%:%7797=3025%:%
%:%7798=3026%:%
%:%7799=3027%:%
%:%7800=3028%:%
%:%7801=3029%:%
%:%7802=3030%:%
%:%7803=3031%:%
%:%7804=3032%:%
%:%7805=3033%:%
%:%7806=3034%:%
%:%7807=3035%:%
%:%7808=3036%:%
%:%7809=3037%:%
%:%7810=3038%:%
%:%7812=3040%:%
%:%7813=3041%:%
%:%7814=3042%:%
%:%7815=3043%:%
%:%7822=3044%:%
%:%7823=3044%:%
%:%7824=3045%:%
%:%7825=3045%:%
%:%7826=3046%:%
%:%7827=3046%:%
%:%7828=3047%:%
%:%7829=3047%:%
%:%7830=3048%:%
%:%7831=3048%:%
%:%7832=3049%:%
%:%7833=3049%:%
%:%7834=3050%:%
%:%7835=3050%:%
%:%7836=3051%:%
%:%7837=3051%:%
%:%7838=3052%:%
%:%7839=3052%:%
%:%7840=3053%:%
%:%7841=3053%:%
%:%7842=3054%:%
%:%7843=3055%:%
%:%7844=3056%:%
%:%7845=3056%:%
%:%7846=3057%:%
%:%7847=3057%:%
%:%7848=3058%:%
%:%7849=3059%:%
%:%7850=3059%:%
%:%7851=3060%:%
%:%7852=3060%:%
%:%7853=3060%:%
%:%7854=3061%:%
%:%7855=3062%:%
%:%7856=3063%:%
%:%7857=3063%:%
%:%7858=3064%:%
%:%7859=3064%:%
%:%7860=3065%:%
%:%7861=3065%:%
%:%7862=3066%:%
%:%7863=3066%:%
%:%7864=3067%:%
%:%7865=3067%:%
%:%7866=3068%:%
%:%7867=3068%:%
%:%7868=3069%:%
%:%7869=3069%:%
%:%7870=3070%:%
%:%7871=3070%:%
%:%7872=3071%:%
%:%7873=3071%:%
%:%7874=3072%:%
%:%7875=3072%:%
%:%7876=3073%:%
%:%7877=3073%:%
%:%7878=3074%:%
%:%7879=3074%:%
%:%7880=3075%:%
%:%7881=3075%:%
%:%7882=3076%:%
%:%7883=3076%:%
%:%7884=3077%:%
%:%7885=3077%:%
%:%7886=3078%:%
%:%7887=3078%:%
%:%7888=3079%:%
%:%7889=3079%:%
%:%7890=3080%:%
%:%7891=3081%:%
%:%7892=3081%:%
%:%7893=3082%:%
%:%7894=3082%:%
%:%7895=3083%:%
%:%7896=3084%:%
%:%7897=3084%:%
%:%7898=3084%:%
%:%7899=3085%:%
%:%7900=3085%:%
%:%7901=3086%:%
%:%7902=3086%:%
%:%7903=3087%:%
%:%7904=3088%:%
%:%7905=3088%:%
%:%7906=3089%:%
%:%7907=3089%:%
%:%7908=3090%:%
%:%7909=3090%:%
%:%7910=3091%:%
%:%7911=3091%:%
%:%7912=3092%:%
%:%7913=3092%:%
%:%7914=3093%:%
%:%7915=3093%:%
%:%7916=3094%:%
%:%7917=3094%:%
%:%7918=3095%:%
%:%7919=3095%:%
%:%7920=3096%:%
%:%7921=3096%:%
%:%7922=3097%:%
%:%7923=3097%:%
%:%7924=3098%:%
%:%7925=3098%:%
%:%7926=3099%:%
%:%7927=3099%:%
%:%7928=3100%:%
%:%7929=3100%:%
%:%7930=3101%:%
%:%7931=3101%:%
%:%7932=3102%:%
%:%7933=3102%:%
%:%7934=3103%:%
%:%7935=3103%:%
%:%7936=3104%:%
%:%7937=3104%:%
%:%7938=3105%:%
%:%7939=3106%:%
%:%7940=3106%:%
%:%7941=3107%:%
%:%7942=3107%:%
%:%7943=3108%:%
%:%7944=3109%:%
%:%7945=3109%:%
%:%7947=3111%:%
%:%7948=3112%:%
%:%7949=3112%:%
%:%7950=3113%:%
%:%7951=3113%:%
%:%7952=3114%:%
%:%7953=3114%:%
%:%7954=3115%:%
%:%7955=3115%:%
%:%7956=3116%:%
%:%7957=3116%:%
%:%7958=3117%:%
%:%7959=3117%:%
%:%7960=3118%:%
%:%7961=3118%:%
%:%7962=3119%:%
%:%7963=3119%:%
%:%7964=3120%:%
%:%7965=3120%:%
%:%7966=3121%:%
%:%7967=3121%:%
%:%7968=3122%:%
%:%7969=3122%:%
%:%7971=3124%:%
%:%7972=3125%:%
%:%7973=3125%:%
%:%7974=3126%:%
%:%7975=3126%:%
%:%7976=3127%:%
%:%7977=3127%:%
%:%7978=3128%:%
%:%7979=3129%:%
%:%7980=3129%:%
%:%7981=3130%:%
%:%7982=3130%:%
%:%7983=3131%:%
%:%7984=3131%:%
%:%7985=3132%:%
%:%7991=3132%:%
%:%7994=3133%:%
%:%7995=3134%:%
%:%7996=3134%:%
%:%7997=3135%:%
%:%7998=3136%:%
%:%7999=3137%:%
%:%8000=3138%:%
%:%8001=3139%:%
%:%8002=3140%:%
%:%8003=3141%:%
%:%8004=3142%:%
%:%8005=3143%:%
%:%8006=3144%:%
%:%8007=3145%:%
%:%8008=3146%:%
%:%8009=3147%:%
%:%8010=3148%:%
%:%8011=3149%:%
%:%8012=3150%:%
%:%8013=3151%:%
%:%8014=3152%:%
%:%8015=3153%:%
%:%8016=3154%:%
%:%8017=3155%:%
%:%8018=3156%:%
%:%8019=3157%:%
%:%8020=3158%:%
%:%8022=3160%:%
%:%8023=3161%:%
%:%8024=3162%:%
%:%8031=3163%:%
%:%8032=3163%:%
%:%8033=3164%:%
%:%8034=3164%:%
%:%8035=3165%:%
%:%8036=3165%:%
%:%8037=3166%:%
%:%8038=3166%:%
%:%8039=3167%:%
%:%8040=3167%:%
%:%8041=3168%:%
%:%8042=3168%:%
%:%8043=3169%:%
%:%8044=3169%:%
%:%8045=3170%:%
%:%8046=3171%:%
%:%8047=3171%:%
%:%8048=3172%:%
%:%8049=3172%:%
%:%8050=3173%:%
%:%8051=3174%:%
%:%8052=3175%:%
%:%8053=3175%:%
%:%8054=3175%:%
%:%8055=3176%:%
%:%8056=3177%:%
%:%8057=3177%:%
%:%8058=3178%:%
%:%8059=3178%:%
%:%8060=3179%:%
%:%8061=3180%:%
%:%8062=3180%:%
%:%8063=3181%:%
%:%8064=3181%:%
%:%8065=3182%:%
%:%8066=3182%:%
%:%8067=3182%:%
%:%8068=3183%:%
%:%8069=3184%:%
%:%8070=3185%:%
%:%8071=3185%:%
%:%8072=3186%:%
%:%8073=3186%:%
%:%8074=3187%:%
%:%8075=3187%:%
%:%8076=3188%:%
%:%8077=3188%:%
%:%8078=3189%:%
%:%8079=3189%:%
%:%8080=3190%:%
%:%8081=3190%:%
%:%8082=3191%:%
%:%8083=3191%:%
%:%8084=3192%:%
%:%8085=3192%:%
%:%8086=3193%:%
%:%8087=3193%:%
%:%8088=3194%:%
%:%8089=3194%:%
%:%8090=3195%:%
%:%8091=3195%:%
%:%8092=3196%:%
%:%8093=3196%:%
%:%8094=3197%:%
%:%8095=3197%:%
%:%8096=3198%:%
%:%8097=3198%:%
%:%8098=3199%:%
%:%8099=3199%:%
%:%8100=3200%:%
%:%8101=3200%:%
%:%8102=3201%:%
%:%8103=3201%:%
%:%8104=3202%:%
%:%8105=3203%:%
%:%8106=3203%:%
%:%8107=3204%:%
%:%8108=3204%:%
%:%8109=3205%:%
%:%8110=3206%:%
%:%8111=3206%:%
%:%8112=3206%:%
%:%8113=3207%:%
%:%8114=3207%:%
%:%8115=3208%:%
%:%8116=3208%:%
%:%8117=3209%:%
%:%8118=3210%:%
%:%8119=3210%:%
%:%8120=3211%:%
%:%8121=3211%:%
%:%8122=3212%:%
%:%8123=3212%:%
%:%8124=3213%:%
%:%8125=3213%:%
%:%8126=3214%:%
%:%8127=3214%:%
%:%8128=3215%:%
%:%8129=3215%:%
%:%8130=3216%:%
%:%8131=3216%:%
%:%8132=3217%:%
%:%8133=3217%:%
%:%8134=3218%:%
%:%8135=3218%:%
%:%8136=3219%:%
%:%8137=3219%:%
%:%8138=3220%:%
%:%8139=3220%:%
%:%8140=3221%:%
%:%8141=3221%:%
%:%8142=3222%:%
%:%8143=3222%:%
%:%8144=3223%:%
%:%8145=3223%:%
%:%8146=3224%:%
%:%8147=3225%:%
%:%8148=3225%:%
%:%8149=3226%:%
%:%8150=3226%:%
%:%8151=3227%:%
%:%8152=3228%:%
%:%8153=3228%:%
%:%8155=3230%:%
%:%8156=3231%:%
%:%8157=3231%:%
%:%8158=3232%:%
%:%8159=3232%:%
%:%8160=3233%:%
%:%8161=3233%:%
%:%8162=3234%:%
%:%8163=3234%:%
%:%8164=3235%:%
%:%8165=3235%:%
%:%8166=3236%:%
%:%8167=3236%:%
%:%8168=3237%:%
%:%8169=3237%:%
%:%8170=3238%:%
%:%8171=3238%:%
%:%8172=3239%:%
%:%8173=3239%:%
%:%8174=3240%:%
%:%8175=3240%:%
%:%8176=3241%:%
%:%8177=3241%:%
%:%8179=3243%:%
%:%8180=3244%:%
%:%8181=3244%:%
%:%8182=3245%:%
%:%8183=3245%:%
%:%8184=3246%:%
%:%8185=3246%:%
%:%8186=3247%:%
%:%8187=3247%:%
%:%8188=3248%:%
%:%8189=3248%:%
%:%8190=3249%:%
%:%8191=3249%:%
%:%8192=3249%:%
%:%8193=3250%:%
%:%8194=3250%:%
%:%8195=3251%:%
%:%8196=3251%:%
%:%8197=3252%:%
%:%8198=3252%:%
%:%8199=3253%:%
%:%8205=3253%:%
%:%8208=3254%:%
%:%8209=3255%:%
%:%8210=3255%:%
%:%8211=3256%:%
%:%8212=3257%:%
%:%8213=3258%:%
%:%8214=3259%:%
%:%8215=3260%:%
%:%8216=3261%:%
%:%8223=3262%:%
%:%8224=3262%:%
%:%8225=3263%:%
%:%8226=3263%:%
%:%8227=3264%:%
%:%8228=3265%:%
%:%8229=3265%:%
%:%8230=3266%:%
%:%8231=3266%:%
%:%8232=3267%:%
%:%8233=3267%:%
%:%8234=3268%:%
%:%8235=3268%:%
%:%8236=3269%:%
%:%8237=3269%:%
%:%8238=3270%:%
%:%8239=3270%:%
%:%8240=3271%:%
%:%8241=3272%:%
%:%8242=3272%:%
%:%8243=3272%:%
%:%8244=3273%:%
%:%8245=3274%:%
%:%8246=3274%:%
%:%8247=3275%:%
%:%8248=3275%:%
%:%8249=3276%:%
%:%8250=3276%:%
%:%8251=3277%:%
%:%8252=3277%:%
%:%8253=3278%:%
%:%8254=3278%:%
%:%8255=3279%:%
%:%8256=3280%:%
%:%8257=3280%:%
%:%8258=3281%:%
%:%8259=3281%:%
%:%8260=3282%:%
%:%8261=3283%:%
%:%8262=3283%:%
%:%8263=3284%:%
%:%8264=3285%:%
%:%8265=3285%:%
%:%8266=3286%:%
%:%8267=3286%:%
%:%8268=3287%:%
%:%8269=3288%:%
%:%8270=3288%:%
%:%8271=3289%:%
%:%8272=3289%:%
%:%8273=3290%:%
%:%8274=3290%:%
%:%8275=3291%:%
%:%8276=3291%:%
%:%8277=3292%:%
%:%8278=3292%:%
%:%8279=3293%:%
%:%8280=3293%:%
%:%8281=3294%:%
%:%8282=3294%:%
%:%8283=3295%:%
%:%8284=3295%:%
%:%8285=3296%:%
%:%8286=3296%:%
%:%8287=3297%:%
%:%8288=3297%:%
%:%8289=3298%:%
%:%8290=3298%:%
%:%8291=3299%:%
%:%8292=3299%:%
%:%8293=3300%:%
%:%8294=3300%:%
%:%8295=3301%:%
%:%8296=3301%:%
%:%8297=3302%:%
%:%8298=3302%:%
%:%8299=3303%:%
%:%8300=3303%:%
%:%8301=3304%:%
%:%8302=3304%:%
%:%8303=3305%:%
%:%8304=3305%:%
%:%8305=3306%:%
%:%8306=3306%:%
%:%8307=3307%:%
%:%8308=3307%:%
%:%8309=3308%:%
%:%8310=3308%:%
%:%8311=3309%:%
%:%8312=3309%:%
%:%8313=3310%:%
%:%8314=3310%:%
%:%8315=3311%:%
%:%8316=3312%:%
%:%8317=3312%:%
%:%8318=3313%:%
%:%8319=3313%:%
%:%8320=3314%:%
%:%8322=3316%:%
%:%8323=3317%:%
%:%8324=3318%:%
%:%8325=3319%:%
%:%8326=3320%:%
%:%8327=3320%:%
%:%8328=3321%:%
%:%8329=3322%:%
%:%8330=3322%:%
%:%8331=3323%:%
%:%8332=3323%:%
%:%8333=3324%:%
%:%8335=3326%:%
%:%8336=3327%:%
%:%8337=3328%:%
%:%8338=3329%:%
%:%8339=3330%:%
%:%8340=3330%:%
%:%8341=3331%:%
%:%8342=3332%:%
%:%8343=3332%:%
%:%8344=3333%:%
%:%8345=3333%:%
%:%8346=3334%:%
%:%8347=3335%:%
%:%8348=3335%:%
%:%8349=3336%:%
%:%8350=3336%:%
%:%8351=3337%:%
%:%8352=3337%:%
%:%8353=3338%:%
%:%8354=3338%:%
%:%8355=3339%:%
%:%8356=3340%:%
%:%8357=3340%:%
%:%8358=3341%:%
%:%8359=3341%:%
%:%8360=3342%:%
%:%8361=3342%:%
%:%8362=3343%:%
%:%8363=3343%:%
%:%8364=3344%:%
%:%8365=3344%:%
%:%8366=3345%:%
%:%8367=3345%:%
%:%8368=3346%:%
%:%8369=3346%:%
%:%8370=3347%:%
%:%8371=3347%:%
%:%8372=3348%:%
%:%8373=3348%:%
%:%8374=3349%:%
%:%8375=3349%:%
%:%8376=3349%:%
%:%8377=3350%:%
%:%8378=3351%:%
%:%8379=3352%:%
%:%8380=3353%:%
%:%8381=3354%:%
%:%8382=3355%:%
%:%8383=3356%:%
%:%8384=3357%:%
%:%8385=3358%:%
%:%8386=3358%:%
%:%8387=3359%:%
%:%8388=3359%:%
%:%8389=3360%:%
%:%8390=3360%:%
%:%8391=3361%:%
%:%8392=3361%:%
%:%8393=3362%:%
%:%8394=3362%:%
%:%8395=3363%:%
%:%8396=3364%:%
%:%8397=3364%:%
%:%8398=3365%:%
%:%8399=3365%:%
%:%8400=3366%:%
%:%8401=3366%:%
%:%8402=3367%:%
%:%8403=3368%:%
%:%8404=3369%:%
%:%8405=3370%:%
%:%8406=3370%:%
%:%8407=3371%:%
%:%8408=3371%:%
%:%8409=3372%:%
%:%8410=3372%:%
%:%8411=3373%:%
%:%8412=3373%:%
%:%8413=3374%:%
%:%8414=3374%:%
%:%8415=3375%:%
%:%8416=3375%:%
%:%8417=3376%:%
%:%8418=3377%:%
%:%8419=3377%:%
%:%8420=3378%:%
%:%8421=3379%:%
%:%8422=3379%:%
%:%8423=3380%:%
%:%8424=3381%:%
%:%8425=3381%:%
%:%8426=3382%:%
%:%8427=3382%:%
%:%8428=3383%:%
%:%8429=3384%:%
%:%8430=3384%:%
%:%8431=3385%:%
%:%8432=3385%:%
%:%8433=3386%:%
%:%8434=3386%:%
%:%8435=3387%:%
%:%8436=3388%:%
%:%8437=3389%:%
%:%8438=3390%:%
%:%8439=3390%:%
%:%8440=3391%:%
%:%8441=3391%:%
%:%8442=3392%:%
%:%8443=3392%:%
%:%8444=3393%:%
%:%8445=3393%:%
%:%8446=3394%:%
%:%8447=3394%:%
%:%8448=3395%:%
%:%8449=3395%:%
%:%8450=3396%:%
%:%8451=3397%:%
%:%8452=3397%:%
%:%8453=3398%:%
%:%8454=3399%:%
%:%8455=3399%:%
%:%8456=3400%:%
%:%8457=3401%:%
%:%8458=3401%:%
%:%8459=3402%:%
%:%8460=3402%:%
%:%8461=3403%:%
%:%8462=3404%:%
%:%8463=3405%:%
%:%8464=3406%:%
%:%8465=3406%:%
%:%8466=3407%:%
%:%8467=3407%:%
%:%8468=3408%:%
%:%8469=3408%:%
%:%8470=3409%:%
%:%8471=3410%:%
%:%8472=3411%:%
%:%8473=3411%:%
%:%8474=3412%:%
%:%8475=3412%:%
%:%8476=3413%:%
%:%8477=3413%:%
%:%8478=3414%:%
%:%8479=3414%:%
%:%8480=3415%:%
%:%8481=3415%:%
%:%8482=3416%:%
%:%8483=3416%:%
%:%8484=3417%:%
%:%8485=3417%:%
%:%8486=3418%:%
%:%8487=3418%:%
%:%8488=3419%:%
%:%8489=3419%:%
%:%8490=3420%:%
%:%8491=3420%:%
%:%8492=3421%:%
%:%8493=3421%:%
%:%8494=3422%:%
%:%8495=3422%:%
%:%8496=3423%:%
%:%8497=3423%:%
%:%8498=3424%:%
%:%8499=3424%:%
%:%8500=3425%:%
%:%8501=3425%:%
%:%8502=3426%:%
%:%8503=3426%:%
%:%8504=3427%:%
%:%8505=3427%:%
%:%8506=3428%:%
%:%8507=3428%:%
%:%8508=3429%:%
%:%8509=3429%:%
%:%8510=3430%:%
%:%8511=3431%:%
%:%8512=3432%:%
%:%8513=3432%:%
%:%8514=3433%:%
%:%8515=3433%:%
%:%8516=3434%:%
%:%8517=3434%:%
%:%8518=3435%:%
%:%8519=3435%:%
%:%8520=3436%:%
%:%8521=3436%:%
%:%8522=3437%:%
%:%8523=3437%:%
%:%8524=3438%:%
%:%8525=3438%:%
%:%8526=3439%:%
%:%8527=3440%:%
%:%8528=3441%:%
%:%8529=3441%:%
%:%8530=3442%:%
%:%8531=3442%:%
%:%8532=3443%:%
%:%8533=3443%:%
%:%8534=3444%:%
%:%8535=3444%:%
%:%8536=3445%:%
%:%8537=3445%:%
%:%8538=3446%:%
%:%8539=3446%:%
%:%8540=3447%:%
%:%8541=3447%:%
%:%8542=3448%:%
%:%8543=3448%:%
%:%8544=3449%:%
%:%8545=3449%:%
%:%8546=3450%:%
%:%8547=3450%:%
%:%8548=3450%:%
%:%8549=3451%:%
%:%8550=3451%:%
%:%8551=3452%:%
%:%8552=3452%:%
%:%8553=3453%:%
%:%8554=3454%:%
%:%8555=3454%:%
%:%8556=3455%:%
%:%8557=3456%:%
%:%8558=3456%:%
%:%8559=3457%:%
%:%8560=3457%:%
%:%8561=3458%:%
%:%8562=3459%:%
%:%8563=3460%:%
%:%8564=3460%:%
%:%8565=3461%:%
%:%8566=3462%:%
%:%8567=3463%:%
%:%8568=3463%:%
%:%8569=3464%:%
%:%8570=3465%:%
%:%8571=3465%:%
%:%8572=3466%:%
%:%8573=3467%:%
%:%8574=3468%:%
%:%8575=3468%:%
%:%8576=3469%:%
%:%8577=3469%:%
%:%8578=3470%:%
%:%8579=3470%:%
%:%8580=3471%:%
%:%8586=3471%:%
%:%8589=3472%:%
%:%8590=3473%:%
%:%8591=3473%:%
%:%8592=3474%:%
%:%8599=3475%:%
%:%8600=3475%:%
%:%8601=3476%:%
%:%8602=3476%:%
%:%8603=3477%:%
%:%8604=3477%:%
%:%8605=3477%:%
%:%8606=3478%:%
%:%8607=3478%:%
%:%8608=3479%:%
%:%8609=3479%:%
%:%8610=3479%:%
%:%8611=3480%:%
%:%8612=3480%:%
%:%8613=3480%:%
%:%8614=3481%:%
%:%8615=3481%:%
%:%8616=3482%:%
%:%8617=3482%:%
%:%8618=3483%:%
%:%8619=3483%:%
%:%8620=3483%:%
%:%8621=3484%:%
%:%8622=3484%:%
%:%8623=3485%:%
%:%8624=3485%:%
%:%8625=3485%:%
%:%8626=3486%:%
%:%8627=3486%:%
%:%8628=3486%:%
%:%8629=3487%:%
%:%8630=3487%:%
%:%8631=3487%:%
%:%8632=3488%:%
%:%8633=3488%:%
%:%8634=3489%:%
%:%8640=3489%:%
%:%8643=3490%:%
%:%8644=3491%:%
%:%8645=3491%:%
%:%8646=3492%:%
%:%8649=3493%:%
%:%8653=3493%:%
%:%8654=3493%:%
%:%8655=3494%:%
%:%8656=3494%:%
%:%8661=3494%:%
%:%8664=3495%:%
%:%8665=3496%:%
%:%8666=3496%:%
%:%8667=3497%:%
%:%8670=3498%:%
%:%8674=3498%:%
%:%8675=3498%:%
%:%8680=3498%:%
%:%8683=3499%:%
%:%8684=3500%:%
%:%8685=3500%:%
%:%8688=3501%:%
%:%8692=3501%:%
%:%8693=3501%:%
%:%8694=3502%:%
%:%8695=3502%:%
%:%8700=3502%:%
%:%8703=3503%:%
%:%8704=3504%:%
%:%8705=3504%:%
%:%8707=3506%:%
%:%8714=3507%:%
%:%8715=3507%:%
%:%8716=3508%:%
%:%8717=3508%:%
%:%8718=3509%:%
%:%8719=3509%:%
%:%8720=3510%:%
%:%8721=3510%:%
%:%8722=3511%:%
%:%8723=3511%:%
%:%8724=3512%:%
%:%8725=3513%:%
%:%8726=3513%:%
%:%8727=3514%:%
%:%8728=3515%:%
%:%8729=3515%:%
%:%8730=3516%:%
%:%8731=3516%:%
%:%8732=3517%:%
%:%8733=3518%:%
%:%8734=3518%:%
%:%8735=3519%:%
%:%8736=3520%:%
%:%8737=3520%:%
%:%8738=3521%:%
%:%8739=3521%:%
%:%8740=3522%:%
%:%8741=3523%:%
%:%8742=3523%:%
%:%8743=3524%:%
%:%8744=3524%:%
%:%8745=3525%:%
%:%8746=3525%:%
%:%8747=3526%:%
%:%8748=3526%:%
%:%8749=3527%:%
%:%8750=3527%:%
%:%8751=3528%:%
%:%8752=3528%:%
%:%8753=3529%:%
%:%8754=3530%:%
%:%8755=3530%:%
%:%8756=3531%:%
%:%8757=3531%:%
%:%8758=3532%:%
%:%8759=3532%:%
%:%8760=3533%:%
%:%8761=3533%:%
%:%8762=3534%:%
%:%8763=3534%:%
%:%8764=3535%:%
%:%8765=3535%:%
%:%8766=3536%:%
%:%8767=3536%:%
%:%8768=3537%:%
%:%8769=3537%:%
%:%8770=3538%:%
%:%8771=3538%:%
%:%8772=3539%:%
%:%8773=3539%:%
%:%8774=3540%:%
%:%8775=3541%:%
%:%8776=3541%:%
%:%8777=3542%:%
%:%8778=3542%:%
%:%8779=3543%:%
%:%8780=3543%:%
%:%8781=3544%:%
%:%8782=3544%:%
%:%8783=3544%:%
%:%8784=3545%:%
%:%8785=3545%:%
%:%8786=3546%:%
%:%8787=3546%:%
%:%8788=3547%:%
%:%8789=3547%:%
%:%8790=3548%:%
%:%8791=3548%:%
%:%8792=3549%:%
%:%8793=3549%:%
%:%8794=3550%:%
%:%8795=3550%:%
%:%8796=3551%:%
%:%8797=3551%:%
%:%8798=3552%:%
%:%8799=3552%:%
%:%8800=3553%:%
%:%8801=3553%:%
%:%8802=3553%:%
%:%8803=3554%:%
%:%8804=3554%:%
%:%8805=3555%:%
%:%8806=3555%:%
%:%8807=3556%:%
%:%8808=3556%:%
%:%8809=3557%:%
%:%8810=3557%:%
%:%8811=3558%:%
%:%8812=3558%:%
%:%8813=3559%:%
%:%8814=3559%:%
%:%8815=3560%:%
%:%8816=3560%:%
%:%8817=3561%:%
%:%8818=3561%:%
%:%8819=3562%:%
%:%8820=3562%:%
%:%8821=3563%:%
%:%8822=3563%:%
%:%8823=3564%:%
%:%8824=3564%:%
%:%8825=3565%:%
%:%8826=3565%:%
%:%8827=3566%:%
%:%8828=3566%:%
%:%8829=3567%:%
%:%8830=3567%:%
%:%8831=3568%:%
%:%8832=3568%:%
%:%8833=3569%:%
%:%8834=3569%:%
%:%8835=3570%:%
%:%8836=3570%:%
%:%8837=3570%:%
%:%8838=3571%:%
%:%8839=3571%:%
%:%8840=3572%:%
%:%8841=3572%:%
%:%8842=3573%:%
%:%8843=3574%:%
%:%8844=3574%:%
%:%8845=3575%:%
%:%8846=3575%:%
%:%8851=3575%:%
%:%8854=3576%:%
%:%8855=3577%:%
%:%8856=3577%:%
%:%8857=3578%:%
%:%8858=3579%:%
%:%8859=3580%:%
%:%8860=3581%:%
%:%8861=3582%:%
%:%8862=3583%:%
%:%8863=3584%:%
%:%8864=3585%:%
%:%8865=3586%:%
%:%8872=3587%:%
%:%8873=3587%:%
%:%8874=3588%:%
%:%8875=3588%:%
%:%8876=3589%:%
%:%8877=3590%:%
%:%8878=3591%:%
%:%8879=3591%:%
%:%8880=3592%:%
%:%8881=3592%:%
%:%8882=3593%:%
%:%8883=3593%:%
%:%8884=3594%:%
%:%8885=3594%:%
%:%8886=3595%:%
%:%8887=3595%:%
%:%8888=3596%:%
%:%8889=3596%:%
%:%8890=3597%:%
%:%8891=3597%:%
%:%8892=3598%:%
%:%8893=3598%:%
%:%8894=3599%:%
%:%8895=3599%:%
%:%8896=3600%:%
%:%8897=3600%:%
%:%8898=3601%:%
%:%8899=3601%:%
%:%8900=3602%:%
%:%8901=3602%:%
%:%8902=3603%:%
%:%8903=3603%:%
%:%8904=3604%:%
%:%8905=3604%:%
%:%8906=3605%:%
%:%8907=3606%:%
%:%8908=3606%:%
%:%8909=3607%:%
%:%8910=3607%:%
%:%8911=3608%:%
%:%8912=3609%:%
%:%8913=3609%:%
%:%8914=3610%:%
%:%8920=3610%:%
%:%8923=3611%:%
%:%8924=3612%:%
%:%8925=3612%:%
%:%8926=3613%:%
%:%8927=3614%:%
%:%8928=3615%:%
%:%8929=3616%:%
%:%8930=3617%:%
%:%8931=3618%:%
%:%8932=3619%:%
%:%8933=3620%:%
%:%8934=3621%:%
%:%8935=3622%:%
%:%8936=3623%:%
%:%8943=3624%:%
%:%8944=3624%:%
%:%8945=3625%:%
%:%8946=3625%:%
%:%8947=3626%:%
%:%8948=3627%:%
%:%8949=3628%:%
%:%8950=3628%:%
%:%8951=3629%:%
%:%8952=3629%:%
%:%8953=3630%:%
%:%8954=3630%:%
%:%8955=3631%:%
%:%8956=3631%:%
%:%8957=3632%:%
%:%8958=3632%:%
%:%8959=3633%:%
%:%8960=3633%:%
%:%8961=3634%:%
%:%8962=3634%:%
%:%8963=3635%:%
%:%8964=3635%:%
%:%8965=3636%:%
%:%8966=3636%:%
%:%8967=3637%:%
%:%8968=3637%:%
%:%8969=3638%:%
%:%8970=3638%:%
%:%8971=3639%:%
%:%8972=3639%:%
%:%8973=3640%:%
%:%8974=3641%:%
%:%8975=3641%:%
%:%8976=3642%:%
%:%8977=3642%:%
%:%8978=3643%:%
%:%8979=3643%:%
%:%8980=3644%:%
%:%8981=3644%:%
%:%8982=3644%:%
%:%8983=3645%:%
%:%8984=3645%:%
%:%8985=3646%:%
%:%8986=3646%:%
%:%8987=3647%:%
%:%8988=3648%:%
%:%8989=3648%:%
%:%8990=3649%:%
%:%8991=3649%:%
%:%8992=3650%:%
%:%8993=3650%:%
%:%8994=3651%:%
%:%8995=3652%:%
%:%8996=3652%:%
%:%8997=3653%:%
%:%8998=3653%:%
%:%8999=3654%:%
%:%9005=3654%:%
%:%9008=3655%:%
%:%9009=3656%:%
%:%9010=3656%:%
%:%9013=3657%:%
%:%9017=3657%:%
%:%9018=3657%:%
%:%9019=3658%:%
%:%9024=3658%:%
%:%9027=3659%:%
%:%9028=3660%:%
%:%9029=3660%:%
%:%9030=3661%:%
%:%9031=3662%:%
%:%9032=3663%:%
%:%9033=3664%:%
%:%9040=3665%:%
%:%9041=3665%:%
%:%9042=3666%:%
%:%9043=3666%:%
%:%9044=3667%:%
%:%9045=3667%:%
%:%9046=3668%:%
%:%9047=3668%:%
%:%9048=3668%:%
%:%9049=3669%:%
%:%9050=3670%:%
%:%9051=3670%:%
%:%9052=3671%:%
%:%9053=3671%:%
%:%9054=3672%:%
%:%9055=3672%:%
%:%9056=3673%:%
%:%9057=3673%:%
%:%9058=3674%:%
%:%9059=3674%:%
%:%9060=3675%:%
%:%9061=3675%:%
%:%9062=3676%:%
%:%9063=3676%:%
%:%9064=3677%:%
%:%9065=3677%:%
%:%9066=3678%:%
%:%9067=3678%:%
%:%9068=3679%:%
%:%9069=3680%:%
%:%9070=3681%:%
%:%9071=3681%:%
%:%9072=3681%:%
%:%9073=3682%:%
%:%9074=3683%:%
%:%9075=3683%:%
%:%9076=3684%:%
%:%9077=3684%:%
%:%9078=3684%:%
%:%9079=3685%:%
%:%9080=3685%:%
%:%9081=3686%:%
%:%9082=3686%:%
%:%9083=3687%:%
%:%9084=3687%:%
%:%9085=3687%:%
%:%9086=3688%:%
%:%9087=3688%:%
%:%9088=3689%:%
%:%9089=3689%:%
%:%9090=3690%:%
%:%9091=3690%:%
%:%9092=3691%:%
%:%9093=3691%:%
%:%9094=3692%:%
%:%9095=3692%:%
%:%9096=3692%:%
%:%9097=3693%:%
%:%9098=3693%:%
%:%9099=3694%:%
%:%9100=3694%:%
%:%9101=3695%:%
%:%9102=3695%:%
%:%9103=3695%:%
%:%9104=3696%:%
%:%9105=3696%:%
%:%9106=3697%:%
%:%9107=3697%:%
%:%9108=3698%:%
%:%9114=3698%:%
%:%9117=3699%:%
%:%9118=3700%:%
%:%9119=3700%:%
%:%9120=3701%:%
%:%9121=3702%:%
%:%9122=3703%:%
%:%9123=3704%:%
%:%9124=3705%:%
%:%9125=3706%:%
%:%9132=3707%:%
%:%9133=3707%:%
%:%9134=3708%:%
%:%9135=3708%:%
%:%9136=3709%:%
%:%9137=3709%:%
%:%9138=3710%:%
%:%9139=3710%:%
%:%9140=3711%:%
%:%9141=3711%:%
%:%9142=3712%:%
%:%9143=3713%:%
%:%9144=3713%:%
%:%9145=3714%:%
%:%9146=3714%:%
%:%9147=3715%:%
%:%9148=3715%:%
%:%9149=3716%:%
%:%9150=3716%:%
%:%9151=3717%:%
%:%9152=3717%:%
%:%9153=3718%:%
%:%9154=3718%:%
%:%9155=3719%:%
%:%9156=3720%:%
%:%9157=3720%:%
%:%9158=3721%:%
%:%9159=3721%:%
%:%9160=3722%:%
%:%9161=3722%:%
%:%9162=3723%:%
%:%9163=3723%:%
%:%9164=3724%:%
%:%9165=3724%:%
%:%9166=3725%:%
%:%9167=3725%:%
%:%9168=3726%:%
%:%9169=3726%:%
%:%9170=3727%:%
%:%9171=3727%:%
%:%9172=3728%:%
%:%9173=3728%:%
%:%9174=3728%:%
%:%9175=3729%:%
%:%9176=3729%:%
%:%9177=3730%:%
%:%9183=3730%:%
%:%9186=3731%:%
%:%9187=3732%:%
%:%9188=3732%:%
%:%9189=3733%:%
%:%9190=3734%:%
%:%9191=3735%:%
%:%9192=3736%:%
%:%9193=3737%:%
%:%9196=3738%:%
%:%9200=3738%:%
%:%9201=3738%:%
%:%9202=3739%:%
%:%9203=3740%:%
%:%9204=3740%:%
%:%9205=3741%:%
%:%9206=3741%:%
%:%9211=3741%:%
%:%9214=3742%:%
%:%9215=3743%:%
%:%9216=3743%:%
%:%9217=3744%:%
%:%9218=3745%:%
%:%9219=3746%:%
%:%9220=3747%:%
%:%9221=3748%:%
%:%9224=3749%:%
%:%9228=3749%:%
%:%9229=3749%:%
%:%9230=3750%:%
%:%9231=3750%:%
%:%9232=3751%:%
%:%9233=3751%:%
%:%9234=3752%:%
%:%9235=3752%:%
%:%9236=3753%:%
%:%9237=3753%:%
%:%9238=3753%:%
%:%9239=3754%:%
%:%9240=3755%:%
%:%9241=3755%:%
%:%9242=3756%:%
%:%9243=3756%:%
%:%9244=3757%:%
%:%9245=3758%:%
%:%9246=3758%:%
%:%9247=3759%:%
%:%9248=3759%:%
%:%9249=3760%:%
%:%9250=3760%:%
%:%9251=3761%:%
%:%9252=3761%:%
%:%9253=3762%:%
%:%9254=3762%:%
%:%9255=3763%:%
%:%9256=3763%:%
%:%9257=3763%:%
%:%9258=3764%:%
%:%9259=3764%:%
%:%9260=3765%:%
%:%9261=3765%:%
%:%9262=3766%:%
%:%9263=3766%:%
%:%9268=3766%:%
%:%9271=3767%:%
%:%9272=3768%:%
%:%9273=3768%:%
%:%9274=3769%:%
%:%9275=3770%:%
%:%9276=3771%:%
%:%9277=3772%:%
%:%9280=3773%:%
%:%9284=3773%:%
%:%9285=3773%:%
%:%9286=3774%:%
%:%9287=3774%:%
%:%9288=3775%:%
%:%9289=3775%:%
%:%9290=3776%:%
%:%9291=3776%:%
%:%9292=3777%:%
%:%9293=3777%:%
%:%9294=3778%:%
%:%9295=3778%:%
%:%9296=3779%:%
%:%9297=3779%:%
%:%9298=3780%:%
%:%9299=3781%:%
%:%9300=3781%:%
%:%9301=3782%:%
%:%9307=3782%:%
%:%9310=3783%:%
%:%9311=3784%:%
%:%9312=3784%:%
%:%9315=3785%:%
%:%9319=3785%:%
%:%9320=3785%:%
%:%9325=3785%:%
%:%9328=3786%:%
%:%9329=3787%:%
%:%9330=3787%:%
%:%9331=3788%:%
%:%9333=3790%:%
%:%9334=3791%:%
%:%9335=3792%:%
%:%9336=3792%:%
%:%9337=3793%:%
%:%9338=3794%:%
%:%9339=3795%:%
%:%9340=3795%:%
%:%9341=3796%:%
%:%9342=3797%:%
%:%9349=3798%:%
%:%9350=3798%:%
%:%9351=3799%:%
%:%9352=3799%:%
%:%9353=3800%:%
%:%9354=3800%:%
%:%9355=3801%:%
%:%9356=3801%:%
%:%9357=3801%:%
%:%9358=3802%:%
%:%9359=3802%:%
%:%9360=3803%:%
%:%9361=3803%:%
%:%9362=3804%:%
%:%9363=3804%:%
%:%9364=3805%:%
%:%9365=3805%:%
%:%9366=3806%:%
%:%9367=3806%:%
%:%9368=3807%:%
%:%9369=3807%:%
%:%9370=3808%:%
%:%9371=3808%:%
%:%9372=3809%:%
%:%9373=3809%:%
%:%9374=3809%:%
%:%9375=3810%:%
%:%9376=3810%:%
%:%9377=3811%:%
%:%9378=3811%:%
%:%9379=3812%:%
%:%9380=3812%:%
%:%9381=3813%:%
%:%9382=3814%:%
%:%9383=3814%:%
%:%9384=3815%:%
%:%9385=3815%:%
%:%9386=3816%:%
%:%9387=3816%:%
%:%9388=3817%:%
%:%9389=3817%:%
%:%9390=3818%:%
%:%9391=3818%:%
%:%9392=3819%:%
%:%9393=3819%:%
%:%9394=3820%:%
%:%9395=3820%:%
%:%9396=3820%:%
%:%9397=3821%:%
%:%9398=3821%:%
%:%9399=3822%:%
%:%9400=3822%:%
%:%9401=3823%:%
%:%9402=3823%:%
%:%9403=3824%:%
%:%9404=3824%:%
%:%9405=3825%:%
%:%9406=3825%:%
%:%9407=3826%:%
%:%9408=3826%:%
%:%9409=3827%:%
%:%9410=3827%:%
%:%9411=3828%:%
%:%9417=3828%:%
%:%9420=3829%:%
%:%9421=3830%:%
%:%9422=3830%:%
%:%9423=3831%:%
%:%9424=3832%:%
%:%9425=3833%:%
%:%9426=3833%:%
%:%9429=3834%:%
%:%9433=3834%:%
%:%9434=3834%:%
%:%9439=3834%:%
%:%9442=3835%:%
%:%9443=3836%:%
%:%9444=3836%:%
%:%9445=3837%:%
%:%9446=3838%:%
%:%9447=3839%:%
%:%9454=3840%:%
%:%9455=3840%:%
%:%9456=3841%:%
%:%9457=3841%:%
%:%9458=3842%:%
%:%9459=3843%:%
%:%9460=3843%:%
%:%9461=3844%:%
%:%9462=3844%:%
%:%9463=3845%:%
%:%9464=3845%:%
%:%9465=3846%:%
%:%9466=3846%:%
%:%9467=3847%:%
%:%9468=3847%:%
%:%9469=3848%:%
%:%9470=3848%:%
%:%9471=3849%:%
%:%9472=3849%:%
%:%9473=3850%:%
%:%9474=3850%:%
%:%9475=3851%:%
%:%9476=3851%:%
%:%9477=3852%:%
%:%9478=3852%:%
%:%9479=3853%:%
%:%9480=3853%:%
%:%9481=3853%:%
%:%9482=3854%:%
%:%9483=3855%:%
%:%9484=3855%:%
%:%9485=3856%:%
%:%9486=3856%:%
%:%9487=3857%:%
%:%9488=3857%:%
%:%9489=3858%:%
%:%9490=3858%:%
%:%9491=3859%:%
%:%9492=3859%:%
%:%9493=3860%:%
%:%9494=3860%:%
%:%9495=3860%:%
%:%9496=3861%:%
%:%9497=3861%:%
%:%9498=3862%:%
%:%9499=3862%:%
%:%9500=3863%:%
%:%9501=3863%:%
%:%9502=3864%:%
%:%9503=3864%:%
%:%9504=3865%:%
%:%9505=3865%:%
%:%9506=3866%:%
%:%9507=3866%:%
%:%9508=3867%:%
%:%9509=3867%:%
%:%9510=3868%:%
%:%9511=3868%:%
%:%9512=3869%:%
%:%9513=3870%:%
%:%9514=3870%:%
%:%9515=3871%:%
%:%9516=3871%:%
%:%9517=3872%:%
%:%9518=3872%:%
%:%9519=3873%:%
%:%9520=3874%:%
%:%9521=3874%:%
%:%9522=3875%:%
%:%9523=3875%:%
%:%9524=3876%:%
%:%9525=3876%:%
%:%9526=3877%:%
%:%9527=3877%:%
%:%9528=3878%:%
%:%9529=3878%:%
%:%9530=3879%:%
%:%9531=3879%:%
%:%9532=3880%:%
%:%9533=3880%:%
%:%9534=3881%:%
%:%9535=3881%:%
%:%9536=3882%:%
%:%9537=3882%:%
%:%9538=3883%:%
%:%9539=3883%:%
%:%9540=3884%:%
%:%9541=3884%:%
%:%9542=3885%:%
%:%9543=3885%:%
%:%9544=3885%:%
%:%9545=3886%:%
%:%9546=3886%:%
%:%9547=3887%:%
%:%9548=3887%:%
%:%9549=3888%:%
%:%9550=3888%:%
%:%9551=3888%:%
%:%9552=3889%:%
%:%9553=3889%:%
%:%9554=3890%:%
%:%9555=3890%:%
%:%9556=3891%:%
%:%9557=3891%:%
%:%9558=3892%:%
%:%9559=3892%:%
%:%9560=3892%:%
%:%9561=3893%:%
%:%9562=3893%:%
%:%9563=3894%:%
%:%9569=3894%:%
%:%9572=3895%:%
%:%9573=3896%:%
%:%9574=3896%:%
%:%9575=3897%:%
%:%9576=3898%:%
%:%9577=3899%:%
%:%9580=3900%:%
%:%9584=3900%:%
%:%9585=3900%:%
%:%9586=3901%:%
%:%9587=3902%:%
%:%9588=3903%:%
%:%9589=3903%:%
%:%9594=3903%:%
%:%9597=3904%:%
%:%9598=3905%:%
%:%9599=3905%:%
%:%9600=3906%:%
%:%9601=3907%:%
%:%9602=3908%:%
%:%9609=3909%:%
%:%9610=3909%:%
%:%9611=3910%:%
%:%9612=3910%:%
%:%9613=3911%:%
%:%9614=3911%:%
%:%9615=3912%:%
%:%9616=3912%:%
%:%9617=3913%:%
%:%9618=3913%:%
%:%9619=3914%:%
%:%9620=3914%:%
%:%9621=3915%:%
%:%9622=3915%:%
%:%9623=3916%:%
%:%9624=3916%:%
%:%9625=3917%:%
%:%9626=3917%:%
%:%9627=3918%:%
%:%9628=3918%:%
%:%9629=3919%:%
%:%9630=3919%:%
%:%9631=3920%:%
%:%9632=3920%:%
%:%9633=3921%:%
%:%9634=3921%:%
%:%9635=3922%:%
%:%9636=3922%:%
%:%9637=3923%:%
%:%9638=3923%:%
%:%9639=3924%:%
%:%9640=3924%:%
%:%9641=3925%:%
%:%9642=3925%:%
%:%9643=3926%:%
%:%9644=3926%:%
%:%9645=3926%:%
%:%9646=3927%:%
%:%9647=3927%:%
%:%9648=3928%:%
%:%9649=3928%:%
%:%9650=3929%:%
%:%9651=3929%:%
%:%9652=3930%:%
%:%9653=3930%:%
%:%9654=3931%:%
%:%9655=3931%:%
%:%9656=3931%:%
%:%9657=3932%:%
%:%9658=3932%:%
%:%9659=3933%:%
%:%9660=3933%:%
%:%9661=3934%:%
%:%9662=3934%:%
%:%9663=3935%:%
%:%9664=3935%:%
%:%9665=3936%:%
%:%9666=3936%:%
%:%9667=3937%:%
%:%9668=3937%:%
%:%9669=3938%:%
%:%9670=3938%:%
%:%9671=3939%:%
%:%9672=3939%:%
%:%9673=3940%:%
%:%9674=3940%:%
%:%9675=3941%:%
%:%9676=3941%:%
%:%9677=3942%:%
%:%9678=3942%:%
%:%9679=3943%:%
%:%9680=3943%:%
%:%9681=3943%:%
%:%9682=3944%:%
%:%9683=3944%:%
%:%9684=3945%:%
%:%9685=3945%:%
%:%9686=3946%:%
%:%9687=3946%:%
%:%9688=3947%:%
%:%9689=3947%:%
%:%9690=3948%:%
%:%9691=3949%:%
%:%9692=3949%:%
%:%9693=3949%:%
%:%9694=3950%:%
%:%9695=3950%:%
%:%9696=3951%:%
%:%9697=3951%:%
%:%9698=3952%:%
%:%9699=3952%:%
%:%9700=3953%:%
%:%9701=3953%:%
%:%9702=3954%:%
%:%9703=3954%:%
%:%9704=3954%:%
%:%9705=3955%:%
%:%9706=3955%:%
%:%9707=3956%:%
%:%9708=3956%:%
%:%9709=3957%:%
%:%9710=3957%:%
%:%9711=3958%:%
%:%9712=3958%:%
%:%9713=3959%:%
%:%9714=3959%:%
%:%9715=3960%:%
%:%9716=3960%:%
%:%9717=3960%:%
%:%9718=3961%:%
%:%9719=3961%:%
%:%9720=3962%:%
%:%9726=3962%:%
%:%9729=3963%:%
%:%9730=3964%:%
%:%9731=3964%:%
%:%9732=3965%:%
%:%9733=3966%:%
%:%9734=3967%:%
%:%9741=3968%:%
%:%9742=3968%:%
%:%9743=3969%:%
%:%9744=3969%:%
%:%9745=3970%:%
%:%9746=3970%:%
%:%9747=3971%:%
%:%9748=3971%:%
%:%9749=3972%:%
%:%9750=3972%:%
%:%9751=3973%:%
%:%9752=3973%:%
%:%9753=3974%:%
%:%9754=3974%:%
%:%9755=3975%:%
%:%9756=3975%:%
%:%9757=3976%:%
%:%9758=3977%:%
%:%9759=3978%:%
%:%9760=3979%:%
%:%9761=3979%:%
%:%9762=3979%:%
%:%9763=3980%:%
%:%9764=3980%:%
%:%9765=3981%:%
%:%9766=3982%:%
%:%9767=3982%:%
%:%9768=3983%:%
%:%9769=3983%:%
%:%9770=3984%:%
%:%9771=3984%:%
%:%9772=3985%:%
%:%9773=3985%:%
%:%9774=3986%:%
%:%9775=3986%:%
%:%9776=3987%:%
%:%9777=3987%:%
%:%9778=3988%:%
%:%9784=3988%:%
%:%9787=3989%:%
%:%9788=3990%:%
%:%9789=3990%:%
%:%9790=3991%:%
%:%9797=3992%:%
%:%9798=3992%:%
%:%9799=3993%:%
%:%9800=3993%:%
%:%9801=3994%:%
%:%9802=3994%:%
%:%9803=3995%:%
%:%9804=3995%:%
%:%9805=3996%:%
%:%9806=3996%:%
%:%9807=3997%:%
%:%9808=3997%:%
%:%9809=3998%:%
%:%9810=3998%:%
%:%9811=3999%:%
%:%9812=3999%:%
%:%9813=4000%:%
%:%9814=4001%:%
%:%9815=4001%:%
%:%9816=4002%:%
%:%9817=4002%:%
%:%9818=4003%:%
%:%9819=4003%:%
%:%9820=4004%:%
%:%9821=4004%:%
%:%9822=4004%:%
%:%9823=4005%:%
%:%9824=4005%:%
%:%9825=4006%:%
%:%9826=4006%:%
%:%9827=4007%:%
%:%9828=4007%:%
%:%9829=4008%:%
%:%9830=4008%:%
%:%9831=4009%:%
%:%9832=4009%:%
%:%9833=4010%:%
%:%9834=4010%:%
%:%9835=4011%:%
%:%9836=4011%:%
%:%9837=4012%:%
%:%9838=4012%:%
%:%9839=4013%:%
%:%9840=4013%:%
%:%9841=4014%:%
%:%9842=4014%:%
%:%9843=4015%:%
%:%9844=4015%:%
%:%9845=4016%:%
%:%9846=4016%:%
%:%9847=4017%:%
%:%9848=4017%:%
%:%9849=4018%:%
%:%9850=4018%:%
%:%9851=4019%:%
%:%9852=4019%:%
%:%9853=4020%:%
%:%9854=4020%:%
%:%9855=4021%:%
%:%9856=4021%:%
%:%9857=4022%:%
%:%9858=4022%:%
%:%9859=4022%:%
%:%9860=4023%:%
%:%9861=4023%:%
%:%9862=4024%:%
%:%9863=4024%:%
%:%9864=4025%:%
%:%9865=4025%:%
%:%9866=4026%:%
%:%9867=4026%:%
%:%9868=4026%:%
%:%9869=4027%:%
%:%9870=4027%:%
%:%9871=4028%:%
%:%9872=4028%:%
%:%9873=4029%:%
%:%9874=4029%:%
%:%9875=4029%:%
%:%9876=4030%:%
%:%9877=4030%:%
%:%9878=4031%:%
%:%9879=4031%:%
%:%9880=4032%:%
%:%9881=4032%:%
%:%9882=4033%:%
%:%9883=4033%:%
%:%9888=4033%:%
%:%9891=4034%:%
%:%9892=4035%:%
%:%9893=4035%:%
%:%9894=4036%:%
%:%9895=4037%:%
%:%9902=4038%:%
%:%9903=4038%:%
%:%9904=4039%:%
%:%9905=4039%:%
%:%9906=4040%:%
%:%9907=4041%:%
%:%9908=4041%:%
%:%9909=4042%:%
%:%9910=4042%:%
%:%9911=4043%:%
%:%9912=4044%:%
%:%9913=4044%:%
%:%9914=4044%:%
%:%9915=4045%:%
%:%9916=4045%:%
%:%9917=4046%:%
%:%9923=4046%:%
%:%9926=4047%:%
%:%9927=4048%:%
%:%9928=4048%:%
%:%9929=4049%:%
%:%9932=4050%:%
%:%9936=4050%:%
%:%9937=4050%:%
%:%9938=4051%:%
%:%9939=4051%:%
%:%9940=4052%:%
%:%9941=4053%:%
%:%9946=4053%:%
%:%9949=4054%:%
%:%9950=4055%:%
%:%9951=4055%:%
%:%9954=4056%:%
%:%9958=4056%:%
%:%9959=4056%:%
%:%9960=4057%:%
%:%9965=4057%:%
%:%9968=4058%:%
%:%9969=4059%:%
%:%9970=4059%:%
%:%9971=4060%:%
%:%9978=4061%:%
%:%9979=4061%:%
%:%9980=4062%:%
%:%9981=4062%:%
%:%9982=4063%:%
%:%9983=4063%:%
%:%9984=4064%:%
%:%9985=4064%:%
%:%9986=4065%:%
%:%9987=4065%:%
%:%9988=4066%:%
%:%9989=4066%:%
%:%9990=4067%:%
%:%9991=4067%:%
%:%9992=4068%:%
%:%9993=4068%:%
%:%9994=4069%:%
%:%9995=4069%:%
%:%9996=4070%:%
%:%9997=4070%:%
%:%9998=4071%:%
%:%9999=4072%:%
%:%10000=4072%:%
%:%10001=4073%:%
%:%10002=4073%:%
%:%10003=4074%:%
%:%10004=4074%:%
%:%10005=4075%:%
%:%10006=4075%:%
%:%10007=4076%:%
%:%10008=4076%:%
%:%10009=4077%:%
%:%10010=4077%:%
%:%10011=4078%:%
%:%10012=4079%:%
%:%10013=4079%:%
%:%10014=4080%:%
%:%10015=4080%:%
%:%10016=4080%:%
%:%10017=4081%:%
%:%10018=4082%:%
%:%10019=4082%:%
%:%10020=4083%:%
%:%10021=4084%:%
%:%10022=4084%:%
%:%10023=4084%:%
%:%10024=4085%:%
%:%10025=4085%:%
%:%10026=4086%:%
%:%10027=4087%:%
%:%10028=4087%:%
%:%10029=4087%:%
%:%10030=4088%:%
%:%10031=4089%:%
%:%10032=4089%:%
%:%10033=4090%:%
%:%10034=4091%:%
%:%10035=4091%:%
%:%10036=4092%:%
%:%10037=4092%:%
%:%10038=4093%:%
%:%10039=4093%:%
%:%10040=4094%:%
%:%10041=4094%:%
%:%10042=4095%:%
%:%10043=4095%:%
%:%10044=4096%:%
%:%10045=4096%:%
%:%10046=4096%:%
%:%10047=4097%:%
%:%10048=4097%:%
%:%10049=4098%:%
%:%10050=4098%:%
%:%10051=4099%:%
%:%10052=4099%:%
%:%10053=4100%:%
%:%10054=4100%:%
%:%10055=4101%:%
%:%10056=4101%:%
%:%10057=4102%:%
%:%10058=4102%:%
%:%10059=4103%:%
%:%10060=4104%:%
%:%10061=4104%:%
%:%10062=4105%:%
%:%10063=4105%:%
%:%10064=4106%:%
%:%10065=4106%:%
%:%10066=4107%:%
%:%10067=4107%:%
%:%10068=4108%:%
%:%10069=4108%:%
%:%10070=4109%:%
%:%10071=4110%:%
%:%10072=4111%:%
%:%10073=4111%:%
%:%10074=4112%:%
%:%10075=4112%:%
%:%10076=4113%:%
%:%10077=4113%:%
%:%10078=4114%:%
%:%10079=4114%:%
%:%10080=4115%:%
%:%10081=4115%:%
%:%10082=4116%:%
%:%10083=4116%:%
%:%10084=4117%:%
%:%10085=4117%:%
%:%10086=4118%:%
%:%10087=4118%:%
%:%10088=4119%:%
%:%10089=4119%:%
%:%10090=4120%:%
%:%10096=4120%:%
%:%10099=4121%:%
%:%10100=4122%:%
%:%10101=4122%:%
%:%10104=4123%:%
%:%10108=4123%:%
%:%10109=4123%:%
%:%10114=4123%:%
%:%10117=4124%:%
%:%10118=4125%:%
%:%10119=4125%:%
%:%10122=4126%:%
%:%10126=4126%:%
%:%10127=4126%:%
%:%10132=4126%:%
%:%10135=4127%:%
%:%10136=4128%:%
%:%10137=4128%:%
%:%10138=4129%:%
%:%10139=4130%:%
%:%10140=4131%:%
%:%10147=4132%:%
%:%10148=4132%:%
%:%10149=4133%:%
%:%10150=4133%:%
%:%10151=4134%:%
%:%10152=4134%:%
%:%10153=4135%:%
%:%10154=4135%:%
%:%10155=4136%:%
%:%10156=4136%:%
%:%10157=4137%:%
%:%10158=4137%:%
%:%10159=4138%:%
%:%10160=4138%:%
%:%10161=4139%:%
%:%10162=4139%:%
%:%10163=4140%:%
%:%10164=4140%:%
%:%10165=4141%:%
%:%10166=4141%:%
%:%10167=4141%:%
%:%10168=4142%:%
%:%10169=4142%:%
%:%10170=4143%:%
%:%10171=4143%:%
%:%10172=4144%:%
%:%10173=4144%:%
%:%10174=4144%:%
%:%10175=4145%:%
%:%10176=4145%:%
%:%10177=4146%:%
%:%10178=4146%:%
%:%10179=4146%:%
%:%10180=4147%:%
%:%10181=4147%:%
%:%10182=4148%:%
%:%10183=4148%:%
%:%10184=4149%:%
%:%10185=4149%:%
%:%10186=4150%:%
%:%10192=4150%:%
%:%10195=4151%:%
%:%10196=4152%:%
%:%10197=4152%:%
%:%10198=4153%:%
%:%10199=4154%:%
%:%10200=4155%:%
%:%10207=4156%:%
%:%10208=4156%:%
%:%10209=4157%:%
%:%10210=4157%:%
%:%10211=4158%:%
%:%10212=4158%:%
%:%10213=4159%:%
%:%10214=4159%:%
%:%10215=4160%:%
%:%10216=4160%:%
%:%10217=4161%:%
%:%10218=4161%:%
%:%10219=4162%:%
%:%10220=4162%:%
%:%10221=4163%:%
%:%10222=4163%:%
%:%10223=4164%:%
%:%10224=4164%:%
%:%10225=4165%:%
%:%10226=4165%:%
%:%10227=4166%:%
%:%10228=4166%:%
%:%10229=4167%:%
%:%10230=4167%:%
%:%10231=4168%:%
%:%10232=4168%:%
%:%10233=4169%:%
%:%10234=4169%:%
%:%10235=4170%:%
%:%10236=4170%:%
%:%10237=4171%:%
%:%10238=4171%:%
%:%10239=4172%:%
%:%10240=4172%:%
%:%10241=4173%:%
%:%10242=4173%:%
%:%10243=4174%:%
%:%10244=4174%:%
%:%10245=4174%:%
%:%10246=4175%:%
%:%10247=4175%:%
%:%10248=4176%:%
%:%10249=4176%:%
%:%10250=4177%:%
%:%10251=4177%:%
%:%10252=4178%:%
%:%10253=4178%:%
%:%10254=4179%:%
%:%10255=4179%:%
%:%10256=4180%:%
%:%10257=4180%:%
%:%10258=4180%:%
%:%10259=4181%:%
%:%10260=4182%:%
%:%10261=4182%:%
%:%10262=4183%:%
%:%10263=4183%:%
%:%10264=4183%:%
%:%10265=4184%:%
%:%10266=4184%:%
%:%10267=4185%:%
%:%10268=4185%:%
%:%10269=4186%:%
%:%10270=4186%:%
%:%10271=4186%:%
%:%10272=4187%:%
%:%10273=4187%:%
%:%10274=4188%:%
%:%10275=4188%:%
%:%10276=4189%:%
%:%10277=4189%:%
%:%10278=4189%:%
%:%10279=4190%:%
%:%10280=4190%:%
%:%10281=4191%:%
%:%10282=4191%:%
%:%10283=4192%:%
%:%10289=4192%:%
%:%10292=4193%:%
%:%10293=4194%:%
%:%10294=4194%:%
%:%10295=4195%:%
%:%10296=4196%:%
%:%10297=4197%:%
%:%10304=4198%:%
%:%10305=4198%:%
%:%10306=4199%:%
%:%10307=4199%:%
%:%10308=4200%:%
%:%10309=4200%:%
%:%10310=4201%:%
%:%10311=4201%:%
%:%10312=4202%:%
%:%10313=4202%:%
%:%10314=4203%:%
%:%10315=4203%:%
%:%10316=4204%:%
%:%10317=4204%:%
%:%10318=4205%:%
%:%10319=4205%:%
%:%10320=4206%:%
%:%10321=4206%:%
%:%10322=4207%:%
%:%10323=4207%:%
%:%10324=4208%:%
%:%10325=4208%:%
%:%10326=4209%:%
%:%10327=4209%:%
%:%10328=4210%:%
%:%10329=4210%:%
%:%10330=4211%:%
%:%10331=4211%:%
%:%10332=4212%:%
%:%10333=4212%:%
%:%10334=4213%:%
%:%10335=4213%:%
%:%10336=4214%:%
%:%10337=4214%:%
%:%10338=4215%:%
%:%10344=4215%:%
%:%10347=4216%:%
%:%10348=4217%:%
%:%10349=4217%:%
%:%10350=4218%:%
%:%10351=4219%:%
%:%10352=4220%:%
%:%10359=4221%:%
%:%10360=4221%:%
%:%10361=4222%:%
%:%10362=4222%:%
%:%10363=4223%:%
%:%10364=4223%:%
%:%10365=4224%:%
%:%10366=4224%:%
%:%10367=4225%:%
%:%10368=4225%:%
%:%10369=4226%:%
%:%10370=4226%:%
%:%10371=4227%:%
%:%10372=4227%:%
%:%10373=4228%:%
%:%10374=4228%:%
%:%10375=4228%:%
%:%10376=4229%:%
%:%10377=4229%:%
%:%10378=4230%:%
%:%10379=4230%:%
%:%10380=4231%:%
%:%10381=4231%:%
%:%10382=4232%:%
%:%10383=4232%:%
%:%10384=4233%:%
%:%10385=4233%:%
%:%10386=4234%:%
%:%10387=4234%:%
%:%10389=4236%:%
%:%10390=4237%:%
%:%10391=4237%:%
%:%10392=4238%:%
%:%10393=4238%:%
%:%10394=4239%:%
%:%10395=4239%:%
%:%10396=4240%:%
%:%10397=4240%:%
%:%10398=4240%:%
%:%10399=4241%:%
%:%10400=4242%:%
%:%10401=4242%:%
%:%10402=4243%:%
%:%10403=4243%:%
%:%10404=4244%:%
%:%10405=4244%:%
%:%10406=4244%:%
%:%10407=4245%:%
%:%10408=4246%:%
%:%10409=4246%:%
%:%10410=4247%:%
%:%10411=4247%:%
%:%10412=4248%:%
%:%10413=4248%:%
%:%10414=4249%:%
%:%10415=4250%:%
%:%10416=4250%:%
%:%10417=4251%:%
%:%10418=4251%:%
%:%10419=4251%:%
%:%10420=4252%:%
%:%10421=4252%:%
%:%10422=4252%:%
%:%10423=4253%:%
%:%10424=4253%:%
%:%10425=4254%:%
%:%10426=4254%:%
%:%10427=4255%:%
%:%10428=4255%:%
%:%10429=4256%:%
%:%10430=4257%:%
%:%10431=4257%:%
%:%10432=4258%:%
%:%10433=4258%:%
%:%10434=4258%:%
%:%10435=4259%:%
%:%10436=4259%:%
%:%10437=4260%:%
%:%10438=4260%:%
%:%10439=4261%:%
%:%10440=4261%:%
%:%10441=4261%:%
%:%10442=4262%:%
%:%10443=4262%:%
%:%10444=4262%:%
%:%10445=4263%:%
%:%10446=4263%:%
%:%10447=4264%:%
%:%10448=4264%:%
%:%10449=4265%:%
%:%10450=4265%:%
%:%10451=4265%:%
%:%10452=4266%:%
%:%10453=4266%:%
%:%10454=4267%:%
%:%10455=4267%:%
%:%10456=4267%:%
%:%10457=4268%:%
%:%10458=4268%:%
%:%10459=4269%:%
%:%10460=4269%:%
%:%10461=4270%:%
%:%10462=4270%:%
%:%10463=4271%:%
%:%10464=4271%:%
%:%10465=4272%:%
%:%10466=4272%:%
%:%10467=4273%:%
%:%10468=4273%:%
%:%10469=4274%:%
%:%10470=4274%:%
%:%10471=4275%:%
%:%10472=4275%:%
%:%10473=4276%:%
%:%10479=4276%:%
%:%10482=4277%:%
%:%10483=4278%:%
%:%10484=4278%:%
%:%10485=4279%:%
%:%10486=4280%:%
%:%10487=4280%:%
%:%10488=4281%:%
%:%10489=4282%:%
%:%10496=4283%:%
%:%10497=4283%:%
%:%10498=4284%:%
%:%10499=4284%:%
%:%10500=4285%:%
%:%10501=4285%:%
%:%10502=4286%:%
%:%10503=4286%:%
%:%10504=4287%:%
%:%10505=4287%:%
%:%10506=4288%:%
%:%10507=4288%:%
%:%10508=4289%:%
%:%10509=4289%:%
%:%10510=4290%:%
%:%10511=4290%:%
%:%10512=4291%:%
%:%10513=4291%:%
%:%10514=4292%:%
%:%10515=4292%:%
%:%10516=4293%:%
%:%10517=4293%:%
%:%10518=4294%:%
%:%10519=4294%:%
%:%10520=4295%:%
%:%10521=4295%:%
%:%10522=4296%:%
%:%10523=4296%:%
%:%10524=4297%:%
%:%10525=4297%:%
%:%10526=4298%:%
%:%10527=4298%:%
%:%10528=4299%:%
%:%10529=4299%:%
%:%10530=4300%:%
%:%10531=4300%:%
%:%10532=4301%:%
%:%10533=4301%:%
%:%10534=4302%:%
%:%10535=4302%:%
%:%10536=4302%:%
%:%10537=4303%:%
%:%10538=4303%:%
%:%10539=4304%:%
%:%10540=4304%:%
%:%10541=4305%:%
%:%10542=4305%:%
%:%10543=4306%:%
%:%10544=4306%:%
%:%10545=4307%:%
%:%10546=4307%:%
%:%10547=4308%:%
%:%10553=4308%:%
%:%10556=4309%:%
%:%10557=4310%:%
%:%10558=4310%:%
%:%10561=4311%:%
%:%10565=4311%:%
%:%10566=4311%:%
%:%10571=4311%:%
%:%10574=4312%:%
%:%10575=4313%:%
%:%10576=4313%:%
%:%10577=4314%:%
%:%10578=4315%:%
%:%10579=4316%:%
%:%10580=4317%:%
%:%10581=4318%:%
%:%10588=4319%:%
%:%10589=4319%:%
%:%10590=4320%:%
%:%10591=4320%:%
%:%10592=4321%:%
%:%10593=4322%:%
%:%10594=4323%:%
%:%10595=4323%:%
%:%10596=4324%:%
%:%10597=4324%:%
%:%10598=4325%:%
%:%10599=4325%:%
%:%10600=4326%:%
%:%10601=4326%:%
%:%10602=4327%:%
%:%10603=4327%:%
%:%10604=4328%:%
%:%10605=4328%:%
%:%10606=4329%:%
%:%10607=4329%:%
%:%10608=4330%:%
%:%10609=4330%:%
%:%10610=4331%:%
%:%10611=4331%:%
%:%10612=4331%:%
%:%10613=4332%:%
%:%10614=4332%:%
%:%10615=4333%:%
%:%10616=4333%:%
%:%10617=4333%:%
%:%10618=4333%:%
%:%10619=4334%:%
%:%10625=4334%:%
%:%10628=4335%:%
%:%10629=4336%:%
%:%10630=4336%:%
%:%10631=4337%:%
%:%10632=4338%:%
%:%10634=4340%:%
%:%10641=4341%:%
%:%10642=4341%:%
%:%10643=4342%:%
%:%10644=4342%:%
%:%10645=4343%:%
%:%10646=4343%:%
%:%10647=4344%:%
%:%10648=4345%:%
%:%10649=4345%:%
%:%10650=4345%:%
%:%10651=4346%:%
%:%10652=4347%:%
%:%10653=4348%:%
%:%10654=4348%:%
%:%10655=4349%:%
%:%10656=4349%:%
%:%10657=4350%:%
%:%10658=4350%:%
%:%10659=4351%:%
%:%10660=4351%:%
%:%10661=4352%:%
%:%10662=4352%:%
%:%10663=4353%:%
%:%10664=4353%:%
%:%10665=4354%:%
%:%10666=4354%:%
%:%10667=4355%:%
%:%10668=4356%:%
%:%10669=4356%:%
%:%10670=4357%:%
%:%10671=4357%:%
%:%10672=4358%:%
%:%10673=4359%:%
%:%10674=4359%:%
%:%10675=4360%:%
%:%10676=4360%:%
%:%10677=4360%:%
%:%10678=4361%:%
%:%10679=4361%:%
%:%10680=4362%:%
%:%10681=4362%:%
%:%10682=4363%:%
%:%10688=4363%:%
%:%10691=4364%:%
%:%10692=4365%:%
%:%10693=4365%:%
%:%10694=4366%:%
%:%10695=4367%:%
%:%10696=4368%:%
%:%10703=4369%:%
%:%10704=4369%:%
%:%10705=4370%:%
%:%10706=4370%:%
%:%10707=4371%:%
%:%10708=4372%:%
%:%10709=4373%:%
%:%10710=4373%:%
%:%10711=4374%:%
%:%10712=4374%:%
%:%10713=4375%:%
%:%10714=4375%:%
%:%10715=4376%:%
%:%10716=4376%:%
%:%10717=4377%:%
%:%10718=4378%:%
%:%10719=4378%:%
%:%10720=4379%:%
%:%10721=4380%:%
%:%10722=4380%:%
%:%10723=4381%:%
%:%10724=4381%:%
%:%10725=4382%:%
%:%10726=4383%:%
%:%10727=4383%:%
%:%10728=4384%:%
%:%10729=4384%:%
%:%10730=4385%:%
%:%10731=4385%:%
%:%10732=4386%:%
%:%10733=4386%:%
%:%10734=4387%:%
%:%10735=4387%:%
%:%10736=4388%:%
%:%10737=4389%:%
%:%10738=4389%:%
%:%10739=4390%:%
%:%10740=4390%:%
%:%10741=4391%:%
%:%10742=4391%:%
%:%10743=4392%:%
%:%10744=4392%:%
%:%10745=4393%:%
%:%10746=4393%:%
%:%10747=4394%:%
%:%10748=4394%:%
%:%10749=4395%:%
%:%10750=4395%:%
%:%10751=4396%:%
%:%10752=4396%:%
%:%10753=4397%:%
%:%10754=4397%:%
%:%10755=4398%:%
%:%10756=4399%:%
%:%10757=4399%:%
%:%10758=4400%:%
%:%10759=4400%:%
%:%10760=4401%:%
%:%10761=4402%:%
%:%10762=4402%:%
%:%10763=4403%:%
%:%10764=4403%:%
%:%10765=4404%:%
%:%10766=4404%:%
%:%10767=4405%:%
%:%10768=4405%:%
%:%10769=4406%:%
%:%10770=4406%:%
%:%10771=4407%:%
%:%10772=4407%:%
%:%10773=4408%:%
%:%10774=4408%:%
%:%10775=4409%:%
%:%10776=4409%:%
%:%10777=4410%:%
%:%10778=4410%:%
%:%10779=4411%:%
%:%10780=4411%:%
%:%10781=4412%:%
%:%10782=4412%:%
%:%10783=4413%:%
%:%10784=4413%:%
%:%10785=4414%:%
%:%10786=4415%:%
%:%10787=4415%:%
%:%10788=4416%:%
%:%10789=4417%:%
%:%10790=4417%:%
%:%10791=4418%:%
%:%10792=4418%:%
%:%10793=4419%:%
%:%10794=4419%:%
%:%10795=4420%:%
%:%10796=4421%:%
%:%10797=4421%:%
%:%10798=4422%:%
%:%10799=4423%:%
%:%10800=4423%:%
%:%10801=4424%:%
%:%10802=4424%:%
%:%10803=4425%:%
%:%10804=4426%:%
%:%10805=4426%:%
%:%10806=4427%:%
%:%10807=4428%:%
%:%10808=4429%:%
%:%10809=4429%:%
%:%10810=4430%:%
%:%10811=4431%:%
%:%10812=4432%:%
%:%10813=4432%:%
%:%10814=4433%:%
%:%10815=4434%:%
%:%10816=4434%:%
%:%10817=4435%:%
%:%10818=4435%:%
%:%10819=4436%:%
%:%10820=4436%:%
%:%10821=4437%:%
%:%10822=4437%:%
%:%10823=4438%:%
%:%10824=4438%:%
%:%10825=4439%:%
%:%10826=4439%:%
%:%10827=4439%:%
%:%10828=4440%:%
%:%10829=4441%:%
%:%10830=4441%:%
%:%10831=4442%:%
%:%10832=4442%:%
%:%10833=4443%:%
%:%10834=4443%:%
%:%10835=4444%:%
%:%10836=4444%:%
%:%10837=4445%:%
%:%10838=4445%:%
%:%10839=4446%:%
%:%10840=4446%:%
%:%10841=4447%:%
%:%10842=4447%:%
%:%10843=4448%:%
%:%10844=4448%:%
%:%10845=4449%:%
%:%10846=4449%:%
%:%10847=4450%:%
%:%10853=4450%:%
%:%10856=4451%:%
%:%10857=4452%:%
%:%10858=4452%:%
%:%10860=4454%:%
%:%10863=4455%:%
%:%10867=4455%:%
%:%10868=4455%:%
%:%10869=4456%:%
%:%10870=4456%:%
%:%10871=4457%:%
%:%10872=4457%:%
%:%10873=4458%:%
%:%10874=4458%:%
%:%10875=4459%:%
%:%10881=4459%:%
%:%10884=4460%:%
%:%10885=4461%:%
%:%10886=4461%:%
%:%10887=4462%:%
%:%10888=4463%:%
%:%10895=4464%:%
%:%10896=4464%:%
%:%10897=4465%:%
%:%10898=4465%:%
%:%10899=4466%:%
%:%10900=4466%:%
%:%10901=4467%:%
%:%10902=4467%:%
%:%10903=4468%:%
%:%10904=4468%:%
%:%10905=4469%:%
%:%10906=4469%:%
%:%10907=4470%:%
%:%10908=4470%:%
%:%10909=4471%:%
%:%10910=4471%:%
%:%10911=4472%:%
%:%10912=4472%:%
%:%10913=4473%:%
%:%10914=4473%:%
%:%10915=4474%:%
%:%10916=4474%:%
%:%10917=4475%:%
%:%10923=4475%:%
%:%10926=4476%:%
%:%10927=4477%:%
%:%10928=4477%:%
%:%10929=4478%:%
%:%10930=4479%:%
%:%10933=4480%:%
%:%10937=4480%:%
%:%10938=4480%:%
%:%10939=4481%:%
%:%10940=4481%:%
%:%10941=4482%:%
%:%10942=4482%:%
%:%10943=4483%:%
%:%10944=4483%:%
%:%10945=4484%:%
%:%10951=4484%:%
%:%10954=4485%:%
%:%10955=4486%:%
%:%10956=4486%:%
%:%10959=4487%:%
%:%10963=4487%:%
%:%10964=4487%:%
%:%10969=4487%:%
%:%10972=4488%:%
%:%10973=4489%:%
%:%10974=4489%:%
%:%10977=4490%:%
%:%10981=4490%:%
%:%10982=4490%:%
%:%10983=4491%:%
%:%10984=4491%:%
%:%10989=4491%:%
%:%10992=4492%:%
%:%10993=4493%:%
%:%10994=4493%:%
%:%10997=4494%:%
%:%11001=4494%:%
%:%11002=4494%:%
%:%11007=4494%:%
%:%11010=4495%:%
%:%11011=4496%:%
%:%11012=4496%:%
%:%11013=4497%:%
%:%11014=4498%:%
%:%11015=4499%:%
%:%11016=4500%:%
%:%11023=4501%:%
%:%11024=4501%:%
%:%11025=4502%:%
%:%11026=4502%:%
%:%11027=4503%:%
%:%11028=4504%:%
%:%11029=4505%:%
%:%11030=4505%:%
%:%11031=4506%:%
%:%11032=4506%:%
%:%11033=4507%:%
%:%11034=4507%:%
%:%11035=4508%:%
%:%11036=4508%:%
%:%11037=4509%:%
%:%11038=4510%:%
%:%11039=4510%:%
%:%11040=4511%:%
%:%11041=4512%:%
%:%11042=4512%:%
%:%11043=4513%:%
%:%11044=4513%:%
%:%11045=4514%:%
%:%11046=4515%:%
%:%11047=4515%:%
%:%11048=4516%:%
%:%11049=4516%:%
%:%11050=4517%:%
%:%11051=4517%:%
%:%11052=4518%:%
%:%11053=4518%:%
%:%11054=4519%:%
%:%11055=4519%:%
%:%11056=4520%:%
%:%11057=4521%:%
%:%11058=4521%:%
%:%11059=4522%:%
%:%11060=4522%:%
%:%11061=4523%:%
%:%11062=4523%:%
%:%11063=4524%:%
%:%11064=4524%:%
%:%11065=4525%:%
%:%11066=4525%:%
%:%11067=4526%:%
%:%11068=4527%:%
%:%11069=4527%:%
%:%11070=4528%:%
%:%11071=4528%:%
%:%11072=4529%:%
%:%11073=4529%:%
%:%11074=4530%:%
%:%11075=4530%:%
%:%11076=4531%:%
%:%11077=4531%:%
%:%11078=4532%:%
%:%11079=4532%:%
%:%11080=4533%:%
%:%11081=4533%:%
%:%11082=4534%:%
%:%11083=4534%:%
%:%11084=4535%:%
%:%11085=4535%:%
%:%11087=4537%:%
%:%11088=4538%:%
%:%11089=4539%:%
%:%11090=4539%:%
%:%11091=4540%:%
%:%11092=4540%:%
%:%11093=4541%:%
%:%11094=4542%:%
%:%11095=4542%:%
%:%11096=4543%:%
%:%11097=4543%:%
%:%11098=4544%:%
%:%11099=4544%:%
%:%11100=4545%:%
%:%11101=4545%:%
%:%11102=4546%:%
%:%11103=4546%:%
%:%11104=4547%:%
%:%11105=4547%:%
%:%11106=4548%:%
%:%11107=4548%:%
%:%11108=4549%:%
%:%11109=4550%:%
%:%11110=4550%:%
%:%11111=4551%:%
%:%11112=4551%:%
%:%11113=4552%:%
%:%11114=4552%:%
%:%11115=4553%:%
%:%11116=4553%:%
%:%11117=4554%:%
%:%11118=4554%:%
%:%11119=4555%:%
%:%11120=4555%:%
%:%11121=4556%:%
%:%11122=4556%:%
%:%11123=4557%:%
%:%11124=4557%:%
%:%11125=4558%:%
%:%11126=4558%:%
%:%11127=4559%:%
%:%11128=4559%:%
%:%11129=4560%:%
%:%11130=4560%:%
%:%11131=4561%:%
%:%11132=4562%:%
%:%11133=4563%:%
%:%11134=4563%:%
%:%11135=4564%:%
%:%11136=4564%:%
%:%11137=4565%:%
%:%11138=4565%:%
%:%11139=4566%:%
%:%11140=4566%:%
%:%11141=4567%:%
%:%11142=4567%:%
%:%11143=4568%:%
%:%11144=4568%:%
%:%11145=4569%:%
%:%11146=4569%:%
%:%11147=4570%:%
%:%11148=4571%:%
%:%11149=4571%:%
%:%11150=4572%:%
%:%11151=4572%:%
%:%11152=4573%:%
%:%11153=4573%:%
%:%11154=4574%:%
%:%11155=4574%:%
%:%11156=4575%:%
%:%11157=4575%:%
%:%11158=4576%:%
%:%11159=4576%:%
%:%11160=4577%:%
%:%11161=4577%:%
%:%11162=4578%:%
%:%11163=4578%:%
%:%11164=4579%:%
%:%11165=4579%:%
%:%11166=4580%:%
%:%11167=4580%:%
%:%11168=4581%:%
%:%11169=4581%:%
%:%11170=4582%:%
%:%11171=4582%:%
%:%11172=4583%:%
%:%11173=4583%:%
%:%11174=4584%:%
%:%11175=4584%:%
%:%11176=4585%:%
%:%11177=4585%:%
%:%11178=4586%:%
%:%11179=4586%:%
%:%11180=4587%:%
%:%11181=4587%:%
%:%11182=4588%:%
%:%11183=4588%:%
%:%11184=4589%:%
%:%11185=4589%:%
%:%11186=4590%:%
%:%11187=4590%:%
%:%11188=4591%:%
%:%11189=4591%:%
%:%11190=4592%:%
%:%11191=4592%:%
%:%11192=4593%:%
%:%11193=4593%:%
%:%11194=4594%:%
%:%11195=4594%:%
%:%11196=4595%:%
%:%11197=4596%:%
%:%11198=4596%:%
%:%11199=4597%:%
%:%11200=4597%:%
%:%11201=4598%:%
%:%11202=4598%:%
%:%11203=4599%:%
%:%11204=4600%:%
%:%11205=4600%:%
%:%11207=4602%:%
%:%11208=4603%:%
%:%11209=4603%:%
%:%11210=4604%:%
%:%11211=4604%:%
%:%11212=4605%:%
%:%11213=4605%:%
%:%11214=4606%:%
%:%11215=4606%:%
%:%11216=4607%:%
%:%11217=4607%:%
%:%11218=4608%:%
%:%11219=4608%:%
%:%11220=4609%:%
%:%11221=4609%:%
%:%11222=4610%:%
%:%11223=4611%:%
%:%11224=4612%:%
%:%11225=4612%:%
%:%11226=4613%:%
%:%11227=4613%:%
%:%11228=4614%:%
%:%11229=4614%:%
%:%11230=4615%:%
%:%11231=4615%:%
%:%11232=4616%:%
%:%11233=4616%:%
%:%11234=4616%:%
%:%11235=4617%:%
%:%11236=4617%:%
%:%11237=4618%:%
%:%11238=4618%:%
%:%11239=4619%:%
%:%11240=4619%:%
%:%11241=4620%:%
%:%11242=4620%:%
%:%11243=4620%:%
%:%11244=4621%:%
%:%11245=4621%:%
%:%11246=4622%:%
%:%11247=4622%:%
%:%11248=4623%:%
%:%11249=4623%:%
%:%11250=4624%:%
%:%11251=4624%:%
%:%11252=4625%:%
%:%11253=4625%:%
%:%11254=4625%:%
%:%11255=4626%:%
%:%11256=4626%:%
%:%11257=4627%:%
%:%11258=4627%:%
%:%11259=4628%:%
%:%11260=4628%:%
%:%11261=4629%:%
%:%11262=4629%:%
%:%11263=4630%:%
%:%11264=4630%:%
%:%11265=4631%:%
%:%11266=4631%:%
%:%11267=4632%:%
%:%11268=4633%:%
%:%11269=4633%:%
%:%11270=4634%:%
%:%11271=4635%:%
%:%11272=4636%:%
%:%11273=4637%:%
%:%11274=4638%:%
%:%11275=4639%:%
%:%11276=4639%:%
%:%11277=4640%:%
%:%11278=4640%:%
%:%11279=4641%:%
%:%11280=4641%:%
%:%11281=4642%:%
%:%11282=4642%:%
%:%11283=4643%:%
%:%11284=4643%:%
%:%11285=4644%:%
%:%11286=4644%:%
%:%11287=4644%:%
%:%11288=4645%:%
%:%11289=4645%:%
%:%11290=4646%:%
%:%11291=4646%:%
%:%11292=4646%:%
%:%11293=4647%:%
%:%11294=4647%:%
%:%11295=4648%:%
%:%11296=4648%:%
%:%11297=4648%:%
%:%11298=4649%:%
%:%11299=4649%:%
%:%11300=4650%:%
%:%11301=4650%:%
%:%11302=4651%:%
%:%11303=4651%:%
%:%11304=4652%:%
%:%11305=4652%:%
%:%11306=4653%:%
%:%11307=4653%:%
%:%11308=4654%:%
%:%11309=4654%:%
%:%11310=4655%:%
%:%11311=4655%:%
%:%11312=4656%:%
%:%11313=4656%:%
%:%11314=4657%:%
%:%11315=4657%:%
%:%11316=4658%:%
%:%11317=4658%:%
%:%11318=4658%:%
%:%11319=4659%:%
%:%11320=4659%:%
%:%11321=4660%:%
%:%11322=4660%:%
%:%11323=4661%:%
%:%11324=4661%:%
%:%11325=4662%:%
%:%11326=4662%:%
%:%11327=4662%:%
%:%11328=4663%:%
%:%11329=4664%:%
%:%11330=4664%:%
%:%11331=4665%:%
%:%11332=4665%:%
%:%11333=4666%:%
%:%11334=4666%:%
%:%11335=4667%:%
%:%11336=4667%:%
%:%11337=4668%:%
%:%11338=4668%:%
%:%11339=4669%:%
%:%11340=4669%:%
%:%11341=4669%:%
%:%11342=4670%:%
%:%11343=4671%:%
%:%11344=4671%:%
%:%11345=4672%:%
%:%11346=4672%:%
%:%11347=4673%:%
%:%11348=4673%:%
%:%11349=4674%:%
%:%11350=4674%:%
%:%11351=4675%:%
%:%11352=4675%:%
%:%11353=4676%:%
%:%11354=4676%:%
%:%11355=4677%:%
%:%11356=4677%:%
%:%11357=4678%:%
%:%11358=4679%:%
%:%11359=4679%:%
%:%11360=4680%:%
%:%11361=4680%:%
%:%11362=4681%:%
%:%11363=4681%:%
%:%11364=4682%:%
%:%11365=4682%:%
%:%11366=4683%:%
%:%11367=4684%:%
%:%11368=4684%:%
%:%11369=4685%:%
%:%11370=4685%:%
%:%11371=4686%:%
%:%11372=4686%:%
%:%11373=4687%:%
%:%11374=4688%:%
%:%11375=4689%:%
%:%11376=4690%:%
%:%11377=4691%:%
%:%11378=4691%:%
%:%11379=4692%:%
%:%11380=4692%:%
%:%11381=4692%:%
%:%11383=4694%:%
%:%11384=4695%:%
%:%11385=4695%:%
%:%11386=4696%:%
%:%11387=4696%:%
%:%11388=4697%:%
%:%11389=4697%:%
%:%11390=4698%:%
%:%11391=4698%:%
%:%11392=4699%:%
%:%11393=4699%:%
%:%11394=4700%:%
%:%11395=4700%:%
%:%11396=4700%:%
%:%11397=4701%:%
%:%11398=4702%:%
%:%11399=4702%:%
%:%11400=4703%:%
%:%11401=4703%:%
%:%11402=4704%:%
%:%11403=4704%:%
%:%11404=4705%:%
%:%11405=4705%:%
%:%11407=4707%:%
%:%11408=4708%:%
%:%11409=4708%:%
%:%11410=4708%:%
%:%11411=4709%:%
%:%11412=4710%:%
%:%11413=4711%:%
%:%11414=4712%:%
%:%11415=4712%:%
%:%11416=4713%:%
%:%11417=4713%:%
%:%11418=4714%:%
%:%11419=4714%:%
%:%11420=4715%:%
%:%11421=4715%:%
%:%11422=4716%:%
%:%11423=4716%:%
%:%11424=4717%:%
%:%11425=4717%:%
%:%11426=4718%:%
%:%11427=4718%:%
%:%11428=4719%:%
%:%11429=4719%:%
%:%11430=4720%:%
%:%11431=4720%:%
%:%11432=4721%:%
%:%11433=4721%:%
%:%11434=4722%:%
%:%11435=4722%:%
%:%11436=4723%:%
%:%11437=4723%:%
%:%11438=4724%:%
%:%11439=4724%:%
%:%11440=4725%:%
%:%11441=4725%:%
%:%11442=4726%:%
%:%11443=4726%:%
%:%11444=4727%:%
%:%11445=4727%:%
%:%11446=4728%:%
%:%11447=4728%:%
%:%11448=4729%:%
%:%11449=4729%:%
%:%11450=4730%:%
%:%11451=4730%:%
%:%11452=4731%:%
%:%11453=4731%:%
%:%11454=4732%:%
%:%11455=4732%:%
%:%11456=4733%:%
%:%11457=4733%:%
%:%11458=4734%:%
%:%11459=4734%:%
%:%11460=4735%:%
%:%11461=4735%:%
%:%11462=4736%:%
%:%11463=4736%:%
%:%11464=4737%:%
%:%11465=4737%:%
%:%11466=4737%:%
%:%11467=4738%:%
%:%11468=4738%:%
%:%11469=4739%:%
%:%11470=4739%:%
%:%11471=4740%:%
%:%11472=4740%:%
%:%11473=4741%:%
%:%11474=4741%:%
%:%11475=4742%:%
%:%11476=4742%:%
%:%11477=4743%:%
%:%11478=4743%:%
%:%11479=4744%:%
%:%11480=4744%:%
%:%11481=4745%:%
%:%11482=4745%:%
%:%11483=4746%:%
%:%11484=4746%:%
%:%11485=4747%:%
%:%11486=4747%:%
%:%11487=4748%:%
%:%11488=4748%:%
%:%11489=4749%:%
%:%11490=4749%:%
%:%11491=4750%:%
%:%11492=4750%:%
%:%11493=4751%:%
%:%11494=4751%:%
%:%11495=4752%:%
%:%11496=4752%:%
%:%11497=4753%:%
%:%11498=4753%:%
%:%11499=4754%:%
%:%11500=4754%:%
%:%11501=4755%:%
%:%11502=4755%:%
%:%11503=4756%:%
%:%11504=4756%:%
%:%11505=4757%:%
%:%11506=4757%:%
%:%11507=4758%:%
%:%11508=4758%:%
%:%11509=4759%:%
%:%11510=4759%:%
%:%11511=4760%:%
%:%11512=4760%:%
%:%11513=4761%:%
%:%11514=4761%:%
%:%11515=4762%:%
%:%11516=4762%:%
%:%11517=4763%:%
%:%11518=4763%:%
%:%11519=4764%:%
%:%11520=4764%:%
%:%11521=4765%:%
%:%11522=4765%:%
%:%11523=4766%:%
%:%11524=4766%:%
%:%11525=4766%:%
%:%11526=4767%:%
%:%11527=4767%:%
%:%11528=4768%:%
%:%11529=4768%:%
%:%11530=4769%:%
%:%11531=4769%:%
%:%11532=4770%:%
%:%11533=4770%:%
%:%11534=4771%:%
%:%11535=4771%:%
%:%11536=4772%:%
%:%11537=4772%:%
%:%11538=4773%:%
%:%11539=4773%:%
%:%11540=4774%:%
%:%11541=4774%:%
%:%11542=4775%:%
%:%11543=4775%:%
%:%11544=4776%:%
%:%11545=4776%:%
%:%11546=4777%:%
%:%11547=4777%:%
%:%11548=4778%:%
%:%11549=4778%:%
%:%11550=4779%:%
%:%11551=4779%:%
%:%11552=4780%:%
%:%11553=4780%:%
%:%11554=4781%:%
%:%11555=4781%:%
%:%11556=4782%:%
%:%11557=4782%:%
%:%11558=4783%:%
%:%11559=4783%:%
%:%11560=4784%:%
%:%11561=4784%:%
%:%11562=4785%:%
%:%11563=4785%:%
%:%11564=4786%:%
%:%11565=4786%:%
%:%11566=4787%:%
%:%11567=4787%:%
%:%11568=4788%:%
%:%11569=4788%:%
%:%11570=4789%:%
%:%11571=4789%:%
%:%11572=4789%:%
%:%11573=4790%:%
%:%11574=4790%:%
%:%11575=4791%:%
%:%11576=4791%:%
%:%11577=4792%:%
%:%11578=4792%:%
%:%11579=4793%:%
%:%11580=4793%:%
%:%11581=4793%:%
%:%11582=4794%:%
%:%11583=4794%:%
%:%11584=4795%:%
%:%11585=4795%:%
%:%11586=4796%:%
%:%11587=4796%:%
%:%11588=4797%:%
%:%11589=4797%:%
%:%11590=4798%:%
%:%11591=4798%:%
%:%11592=4799%:%
%:%11593=4799%:%
%:%11594=4800%:%
%:%11595=4800%:%
%:%11596=4801%:%
%:%11597=4801%:%
%:%11598=4802%:%
%:%11599=4802%:%
%:%11600=4803%:%
%:%11601=4803%:%
%:%11602=4804%:%
%:%11603=4804%:%
%:%11604=4805%:%
%:%11605=4805%:%
%:%11606=4806%:%
%:%11607=4806%:%
%:%11608=4806%:%
%:%11609=4807%:%
%:%11610=4807%:%
%:%11611=4808%:%
%:%11612=4808%:%
%:%11613=4809%:%
%:%11614=4809%:%
%:%11615=4810%:%
%:%11616=4810%:%
%:%11617=4811%:%
%:%11618=4811%:%
%:%11619=4811%:%
%:%11620=4812%:%
%:%11621=4812%:%
%:%11622=4813%:%
%:%11623=4813%:%
%:%11624=4814%:%
%:%11625=4814%:%
%:%11626=4815%:%
%:%11627=4815%:%
%:%11628=4816%:%
%:%11629=4816%:%
%:%11630=4817%:%
%:%11631=4817%:%
%:%11632=4818%:%
%:%11633=4818%:%
%:%11634=4819%:%
%:%11635=4819%:%
%:%11636=4820%:%
%:%11637=4820%:%
%:%11638=4821%:%
%:%11639=4821%:%
%:%11640=4822%:%
%:%11641=4822%:%
%:%11642=4822%:%
%:%11643=4823%:%
%:%11644=4823%:%
%:%11645=4824%:%
%:%11646=4824%:%
%:%11647=4825%:%
%:%11648=4825%:%
%:%11649=4826%:%
%:%11650=4826%:%
%:%11651=4827%:%
%:%11652=4827%:%
%:%11653=4828%:%
%:%11654=4828%:%
%:%11655=4829%:%
%:%11656=4829%:%
%:%11657=4829%:%
%:%11658=4830%:%
%:%11659=4830%:%
%:%11660=4831%:%
%:%11661=4831%:%
%:%11662=4832%:%
%:%11663=4832%:%
%:%11664=4833%:%
%:%11665=4833%:%
%:%11666=4834%:%
%:%11667=4834%:%
%:%11668=4835%:%
%:%11669=4835%:%
%:%11670=4836%:%
%:%11671=4836%:%
%:%11672=4837%:%
%:%11673=4837%:%
%:%11674=4838%:%
%:%11675=4838%:%
%:%11676=4839%:%
%:%11677=4839%:%
%:%11678=4840%:%
%:%11679=4840%:%
%:%11680=4841%:%
%:%11681=4841%:%
%:%11682=4842%:%
%:%11683=4842%:%
%:%11684=4843%:%
%:%11685=4843%:%
%:%11686=4844%:%
%:%11687=4844%:%
%:%11688=4845%:%
%:%11689=4845%:%
%:%11690=4846%:%
%:%11691=4846%:%
%:%11692=4847%:%
%:%11693=4847%:%
%:%11694=4848%:%
%:%11695=4848%:%
%:%11696=4849%:%
%:%11697=4849%:%
%:%11698=4850%:%
%:%11699=4850%:%
%:%11700=4851%:%
%:%11701=4851%:%
%:%11702=4852%:%
%:%11703=4852%:%
%:%11704=4853%:%
%:%11705=4853%:%
%:%11706=4854%:%
%:%11707=4854%:%
%:%11708=4855%:%
%:%11709=4855%:%
%:%11710=4855%:%
%:%11711=4856%:%
%:%11712=4856%:%
%:%11713=4857%:%
%:%11714=4857%:%
%:%11715=4858%:%
%:%11716=4858%:%
%:%11717=4859%:%
%:%11718=4859%:%
%:%11719=4860%:%
%:%11720=4860%:%
%:%11721=4861%:%
%:%11722=4861%:%
%:%11723=4862%:%
%:%11724=4862%:%
%:%11725=4863%:%
%:%11726=4863%:%
%:%11727=4864%:%
%:%11728=4864%:%
%:%11729=4865%:%
%:%11730=4866%:%
%:%11731=4866%:%
%:%11732=4867%:%
%:%11733=4867%:%
%:%11734=4868%:%
%:%11735=4868%:%
%:%11736=4869%:%
%:%11737=4869%:%
%:%11738=4870%:%
%:%11739=4870%:%
%:%11740=4871%:%
%:%11741=4871%:%
%:%11742=4872%:%
%:%11743=4872%:%
%:%11744=4873%:%
%:%11745=4873%:%
%:%11746=4873%:%
%:%11747=4874%:%
%:%11748=4874%:%
%:%11749=4875%:%
%:%11750=4875%:%
%:%11751=4876%:%
%:%11752=4876%:%
%:%11753=4876%:%
%:%11754=4877%:%
%:%11755=4877%:%
%:%11756=4878%:%
%:%11757=4878%:%
%:%11758=4879%:%
%:%11759=4879%:%
%:%11760=4879%:%
%:%11761=4880%:%
%:%11762=4880%:%
%:%11763=4881%:%
%:%11764=4881%:%
%:%11765=4882%:%
%:%11766=4882%:%
%:%11767=4883%:%
%:%11768=4883%:%
%:%11769=4883%:%
%:%11771=4885%:%
%:%11772=4886%:%
%:%11773=4886%:%
%:%11774=4887%:%
%:%11775=4887%:%
%:%11776=4888%:%
%:%11777=4888%:%
%:%11778=4889%:%
%:%11779=4889%:%
%:%11780=4889%:%
%:%11781=4890%:%
%:%11782=4891%:%
%:%11783=4891%:%
%:%11784=4892%:%
%:%11785=4893%:%
%:%11786=4893%:%
%:%11787=4894%:%
%:%11788=4894%:%
%:%11789=4895%:%
%:%11790=4895%:%
%:%11791=4896%:%
%:%11792=4897%:%
%:%11793=4897%:%
%:%11794=4898%:%
%:%11795=4898%:%
%:%11796=4899%:%
%:%11797=4900%:%
%:%11798=4901%:%
%:%11799=4901%:%
%:%11800=4901%:%
%:%11801=4902%:%
%:%11802=4903%:%
%:%11803=4903%:%
%:%11804=4904%:%
%:%11805=4904%:%
%:%11806=4905%:%
%:%11807=4905%:%
%:%11808=4906%:%
%:%11809=4906%:%
%:%11810=4907%:%
%:%11811=4907%:%
%:%11812=4908%:%
%:%11813=4908%:%
%:%11814=4909%:%
%:%11815=4909%:%
%:%11816=4910%:%
%:%11817=4910%:%
%:%11818=4911%:%
%:%11819=4911%:%
%:%11820=4912%:%
%:%11826=4912%:%
%:%11829=4913%:%
%:%11830=4914%:%
%:%11831=4914%:%
%:%11832=4915%:%
%:%11833=4916%:%
%:%11834=4917%:%
%:%11835=4918%:%
%:%11842=4919%:%
%:%11843=4919%:%
%:%11844=4920%:%
%:%11845=4920%:%
%:%11846=4921%:%
%:%11847=4922%:%
%:%11848=4923%:%
%:%11849=4923%:%
%:%11850=4924%:%
%:%11851=4924%:%
%:%11852=4925%:%
%:%11853=4925%:%
%:%11854=4926%:%
%:%11855=4926%:%
%:%11856=4927%:%
%:%11857=4928%:%
%:%11858=4928%:%
%:%11859=4929%:%
%:%11860=4930%:%
%:%11861=4930%:%
%:%11862=4931%:%
%:%11863=4931%:%
%:%11864=4932%:%
%:%11865=4933%:%
%:%11866=4933%:%
%:%11867=4934%:%
%:%11868=4934%:%
%:%11869=4935%:%
%:%11870=4935%:%
%:%11871=4936%:%
%:%11872=4936%:%
%:%11873=4937%:%
%:%11874=4937%:%
%:%11875=4938%:%
%:%11876=4939%:%
%:%11877=4939%:%
%:%11878=4940%:%
%:%11879=4940%:%
%:%11880=4941%:%
%:%11881=4941%:%
%:%11882=4942%:%
%:%11883=4942%:%
%:%11884=4943%:%
%:%11885=4944%:%
%:%11886=4944%:%
%:%11887=4945%:%
%:%11888=4945%:%
%:%11889=4946%:%
%:%11890=4946%:%
%:%11891=4947%:%
%:%11892=4948%:%
%:%11893=4948%:%
%:%11894=4949%:%
%:%11895=4949%:%
%:%11896=4950%:%
%:%11897=4951%:%
%:%11898=4951%:%
%:%11899=4952%:%
%:%11900=4953%:%
%:%11901=4954%:%
%:%11902=4954%:%
%:%11903=4955%:%
%:%11904=4956%:%
%:%11905=4956%:%
%:%11906=4957%:%
%:%11907=4957%:%
%:%11908=4958%:%
%:%11909=4958%:%
%:%11910=4959%:%
%:%11911=4960%:%
%:%11912=4960%:%
%:%11913=4961%:%
%:%11914=4961%:%
%:%11915=4962%:%
%:%11916=4962%:%
%:%11917=4962%:%
%:%11918=4963%:%
%:%11919=4964%:%
%:%11920=4964%:%
%:%11921=4965%:%
%:%11922=4965%:%
%:%11923=4966%:%
%:%11924=4966%:%
%:%11925=4967%:%
%:%11926=4967%:%
%:%11927=4968%:%
%:%11928=4968%:%
%:%11929=4969%:%
%:%11930=4969%:%
%:%11931=4970%:%
%:%11932=4970%:%
%:%11933=4971%:%
%:%11934=4971%:%
%:%11935=4972%:%
%:%11941=4972%:%
%:%11944=4973%:%
%:%11945=4974%:%
%:%11946=4974%:%
%:%11947=4975%:%
%:%11948=4976%:%
%:%11949=4977%:%
%:%11952=4978%:%
%:%11956=4978%:%
%:%11957=4978%:%
%:%11958=4979%:%
%:%11959=4980%:%
%:%11960=4980%:%
%:%11965=4980%:%
%:%11968=4981%:%
%:%11969=4982%:%
%:%11970=4982%:%
%:%11971=4983%:%
%:%11972=4984%:%
%:%11979=4985%:%
%:%11980=4985%:%
%:%11981=4986%:%
%:%11982=4986%:%
%:%11983=4987%:%
%:%11984=4987%:%
%:%11985=4988%:%
%:%11986=4989%:%
%:%11987=4989%:%
%:%11988=4990%:%
%:%11989=4990%:%
%:%11990=4990%:%
%:%11991=4991%:%
%:%11992=4991%:%
%:%11993=4992%:%
%:%11994=4992%:%
%:%11995=4993%:%
%:%12001=4993%:%
%:%12004=4994%:%
%:%12005=4995%:%
%:%12006=4995%:%
%:%12009=4996%:%
%:%12013=4996%:%
%:%12014=4996%:%
%:%12015=4997%:%
%:%12016=4998%:%
%:%12017=4999%:%
%:%12022=4999%:%
%:%12025=5000%:%
%:%12026=5001%:%
%:%12027=5001%:%
%:%12028=5002%:%
%:%12029=5003%:%
%:%12030=5004%:%
%:%12037=5005%:%
%:%12038=5005%:%
%:%12039=5006%:%
%:%12040=5006%:%
%:%12041=5007%:%
%:%12042=5008%:%
%:%12043=5008%:%
%:%12044=5009%:%
%:%12045=5009%:%
%:%12046=5010%:%
%:%12047=5010%:%
%:%12048=5011%:%
%:%12049=5011%:%
%:%12050=5012%:%
%:%12051=5012%:%
%:%12052=5013%:%
%:%12053=5013%:%
%:%12054=5014%:%
%:%12055=5014%:%
%:%12056=5015%:%
%:%12057=5015%:%
%:%12058=5016%:%
%:%12059=5016%:%
%:%12060=5017%:%
%:%12061=5017%:%
%:%12062=5018%:%
%:%12063=5018%:%
%:%12064=5018%:%
%:%12065=5019%:%
%:%12066=5019%:%
%:%12067=5020%:%
%:%12068=5020%:%
%:%12069=5021%:%
%:%12070=5021%:%
%:%12071=5021%:%
%:%12072=5022%:%
%:%12073=5022%:%
%:%12074=5023%:%
%:%12075=5023%:%
%:%12076=5024%:%
%:%12077=5024%:%
%:%12078=5025%:%
%:%12079=5025%:%
%:%12080=5026%:%
%:%12081=5027%:%
%:%12082=5027%:%
%:%12083=5028%:%
%:%12084=5028%:%
%:%12085=5029%:%
%:%12086=5029%:%
%:%12087=5030%:%
%:%12088=5030%:%
%:%12089=5030%:%
%:%12090=5031%:%
%:%12091=5032%:%
%:%12092=5032%:%
%:%12093=5033%:%
%:%12094=5033%:%
%:%12095=5034%:%
%:%12096=5034%:%
%:%12097=5034%:%
%:%12098=5035%:%
%:%12099=5036%:%
%:%12100=5036%:%
%:%12101=5037%:%
%:%12102=5037%:%
%:%12103=5038%:%
%:%12104=5038%:%
%:%12105=5039%:%
%:%12106=5039%:%
%:%12107=5040%:%
%:%12108=5040%:%
%:%12109=5041%:%
%:%12110=5041%:%
%:%12111=5042%:%
%:%12112=5043%:%
%:%12113=5043%:%
%:%12114=5044%:%
%:%12115=5044%:%
%:%12116=5045%:%
%:%12117=5045%:%
%:%12118=5046%:%
%:%12119=5046%:%
%:%12120=5047%:%
%:%12121=5047%:%
%:%12122=5048%:%
%:%12123=5048%:%
%:%12124=5049%:%
%:%12125=5049%:%
%:%12126=5050%:%
%:%12127=5050%:%
%:%12128=5051%:%
%:%12129=5051%:%
%:%12130=5052%:%
%:%12131=5052%:%
%:%12132=5052%:%
%:%12133=5053%:%
%:%12134=5053%:%
%:%12135=5054%:%
%:%12136=5054%:%
%:%12137=5055%:%
%:%12138=5055%:%
%:%12139=5056%:%
%:%12140=5056%:%
%:%12141=5057%:%
%:%12142=5057%:%
%:%12143=5057%:%
%:%12144=5058%:%
%:%12145=5059%:%
%:%12146=5059%:%
%:%12147=5060%:%
%:%12148=5060%:%
%:%12149=5060%:%
%:%12150=5061%:%
%:%12151=5061%:%
%:%12152=5062%:%
%:%12153=5062%:%
%:%12154=5063%:%
%:%12155=5063%:%
%:%12156=5063%:%
%:%12157=5064%:%
%:%12158=5064%:%
%:%12159=5064%:%
%:%12160=5065%:%
%:%12161=5065%:%
%:%12162=5065%:%
%:%12163=5066%:%
%:%12164=5066%:%
%:%12165=5067%:%
%:%12166=5067%:%
%:%12167=5068%:%
%:%12168=5068%:%
%:%12169=5069%:%
%:%12170=5069%:%
%:%12171=5070%:%
%:%12172=5070%:%
%:%12173=5071%:%
%:%12174=5071%:%
%:%12175=5072%:%
%:%12176=5072%:%
%:%12177=5073%:%
%:%12178=5073%:%
%:%12179=5074%:%
%:%12180=5074%:%
%:%12181=5075%:%
%:%12182=5075%:%
%:%12183=5076%:%
%:%12184=5076%:%
%:%12185=5077%:%
%:%12186=5077%:%
%:%12187=5077%:%
%:%12188=5078%:%
%:%12189=5079%:%
%:%12190=5079%:%
%:%12191=5080%:%
%:%12192=5081%:%
%:%12193=5082%:%
%:%12194=5082%:%
%:%12195=5083%:%
%:%12196=5084%:%
%:%12197=5084%:%
%:%12198=5085%:%
%:%12199=5085%:%
%:%12200=5086%:%
%:%12201=5086%:%
%:%12202=5087%:%
%:%12203=5087%:%
%:%12204=5088%:%
%:%12205=5088%:%
%:%12206=5088%:%
%:%12207=5089%:%
%:%12208=5089%:%
%:%12209=5090%:%
%:%12210=5090%:%
%:%12211=5091%:%
%:%12212=5091%:%
%:%12213=5092%:%
%:%12214=5092%:%
%:%12215=5093%:%
%:%12216=5093%:%
%:%12217=5094%:%
%:%12218=5094%:%
%:%12219=5094%:%
%:%12220=5095%:%
%:%12221=5095%:%
%:%12222=5096%:%
%:%12223=5096%:%
%:%12224=5097%:%
%:%12225=5097%:%
%:%12226=5098%:%
%:%12227=5098%:%
%:%12228=5099%:%
%:%12229=5099%:%
%:%12230=5100%:%
%:%12231=5100%:%
%:%12232=5101%:%
%:%12233=5101%:%
%:%12234=5102%:%
%:%12235=5102%:%
%:%12236=5103%:%
%:%12237=5103%:%
%:%12238=5104%:%
%:%12244=5104%:%
%:%12247=5105%:%
%:%12248=5106%:%
%:%12249=5106%:%
%:%12252=5107%:%
%:%12256=5107%:%
%:%12257=5107%:%
%:%12258=5108%:%
%:%12259=5109%:%
%:%12260=5110%:%
%:%12265=5110%:%
%:%12268=5111%:%
%:%12269=5112%:%
%:%12270=5112%:%
%:%12271=5113%:%
%:%12272=5114%:%
%:%12275=5115%:%
%:%12279=5115%:%
%:%12280=5115%:%
%:%12285=5115%:%
%:%12288=5116%:%
%:%12289=5117%:%
%:%12290=5117%:%
%:%12291=5118%:%
%:%12294=5119%:%
%:%12298=5119%:%
%:%12299=5119%:%
%:%12304=5119%:%
%:%12307=5120%:%
%:%12308=5121%:%
%:%12309=5121%:%
%:%12310=5122%:%
%:%12313=5123%:%
%:%12317=5123%:%
%:%12318=5123%:%
%:%12319=5124%:%
%:%12320=5124%:%
%:%12321=5125%:%
%:%12322=5125%:%
%:%12323=5126%:%
%:%12324=5126%:%
%:%12325=5127%:%
%:%12326=5127%:%
%:%12331=5127%:%
%:%12334=5128%:%
%:%12335=5129%:%
%:%12336=5129%:%
%:%12337=5130%:%
%:%12338=5131%:%
%:%12345=5132%:%
%:%12346=5132%:%
%:%12347=5133%:%
%:%12348=5133%:%
%:%12349=5134%:%
%:%12350=5134%:%
%:%12351=5135%:%
%:%12352=5135%:%
%:%12353=5136%:%
%:%12354=5136%:%
%:%12355=5137%:%
%:%12356=5137%:%
%:%12357=5138%:%
%:%12358=5138%:%
%:%12359=5139%:%
%:%12360=5139%:%
%:%12361=5140%:%
%:%12362=5140%:%
%:%12363=5141%:%
%:%12364=5142%:%
%:%12365=5142%:%
%:%12366=5143%:%
%:%12367=5143%:%
%:%12368=5144%:%
%:%12369=5144%:%
%:%12370=5145%:%
%:%12371=5145%:%
%:%12372=5146%:%
%:%12378=5146%:%
%:%12381=5147%:%
%:%12382=5148%:%
%:%12383=5148%:%
%:%12384=5149%:%
%:%12385=5150%:%
%:%12386=5151%:%
%:%12393=5152%:%
%:%12394=5152%:%
%:%12395=5153%:%
%:%12396=5153%:%
%:%12397=5154%:%
%:%12398=5154%:%
%:%12399=5155%:%
%:%12400=5155%:%
%:%12401=5156%:%
%:%12402=5156%:%
%:%12403=5157%:%
%:%12404=5157%:%
%:%12405=5158%:%
%:%12406=5158%:%
%:%12407=5159%:%
%:%12408=5159%:%
%:%12409=5160%:%
%:%12410=5160%:%
%:%12411=5161%:%
%:%12412=5161%:%
%:%12413=5162%:%
%:%12414=5162%:%
%:%12415=5163%:%
%:%12416=5163%:%
%:%12417=5164%:%
%:%12418=5164%:%
%:%12419=5165%:%
%:%12420=5165%:%
%:%12421=5166%:%
%:%12422=5166%:%
%:%12423=5167%:%
%:%12424=5167%:%
%:%12425=5168%:%
%:%12426=5168%:%
%:%12427=5169%:%
%:%12428=5169%:%
%:%12429=5170%:%
%:%12430=5170%:%
%:%12431=5171%:%
%:%12432=5171%:%
%:%12433=5171%:%
%:%12434=5172%:%
%:%12435=5172%:%
%:%12436=5173%:%
%:%12437=5173%:%
%:%12438=5174%:%
%:%12439=5174%:%
%:%12440=5175%:%
%:%12441=5176%:%
%:%12442=5176%:%
%:%12443=5177%:%
%:%12444=5178%:%
%:%12445=5178%:%
%:%12446=5179%:%
%:%12447=5179%:%
%:%12448=5180%:%
%:%12449=5181%:%
%:%12450=5181%:%
%:%12451=5182%:%
%:%12452=5182%:%
%:%12453=5183%:%
%:%12454=5183%:%
%:%12455=5184%:%
%:%12456=5184%:%
%:%12457=5185%:%
%:%12458=5185%:%
%:%12459=5186%:%
%:%12460=5186%:%
%:%12461=5187%:%
%:%12467=5187%:%
%:%12470=5188%:%
%:%12471=5189%:%
%:%12472=5189%:%
%:%12473=5190%:%
%:%12474=5191%:%
%:%12475=5192%:%
%:%12482=5193%:%
%:%12483=5193%:%
%:%12484=5194%:%
%:%12485=5194%:%
%:%12486=5195%:%
%:%12487=5195%:%
%:%12488=5196%:%
%:%12489=5196%:%
%:%12490=5197%:%
%:%12491=5197%:%
%:%12492=5197%:%
%:%12493=5198%:%
%:%12494=5199%:%
%:%12495=5200%:%
%:%12496=5200%:%
%:%12497=5201%:%
%:%12498=5201%:%
%:%12499=5202%:%
%:%12500=5202%:%
%:%12501=5202%:%
%:%12502=5203%:%
%:%12503=5203%:%
%:%12504=5204%:%
%:%12505=5204%:%
%:%12506=5205%:%
%:%12512=5205%:%
%:%12515=5206%:%
%:%12516=5207%:%
%:%12517=5207%:%
%:%12518=5208%:%
%:%12519=5209%:%
%:%12526=5210%:%
%:%12527=5210%:%
%:%12528=5211%:%
%:%12529=5211%:%
%:%12530=5212%:%
%:%12531=5212%:%
%:%12532=5213%:%
%:%12533=5213%:%
%:%12534=5214%:%
%:%12535=5214%:%
%:%12536=5215%:%
%:%12537=5215%:%
%:%12538=5216%:%
%:%12539=5216%:%
%:%12540=5217%:%
%:%12541=5217%:%
%:%12542=5218%:%
%:%12543=5218%:%
%:%12544=5219%:%
%:%12545=5219%:%
%:%12546=5220%:%
%:%12547=5220%:%
%:%12548=5220%:%
%:%12549=5221%:%
%:%12550=5221%:%
%:%12551=5222%:%
%:%12552=5222%:%
%:%12553=5223%:%
%:%12559=5223%:%
%:%12562=5224%:%
%:%12563=5225%:%
%:%12564=5225%:%
%:%12565=5226%:%
%:%12566=5227%:%
%:%12573=5228%:%
%:%12574=5228%:%
%:%12575=5229%:%
%:%12576=5229%:%
%:%12577=5230%:%
%:%12578=5230%:%
%:%12579=5231%:%
%:%12580=5231%:%
%:%12581=5232%:%
%:%12582=5232%:%
%:%12583=5233%:%
%:%12584=5233%:%
%:%12585=5234%:%
%:%12586=5234%:%
%:%12587=5235%:%
%:%12588=5235%:%
%:%12589=5236%:%
%:%12590=5236%:%
%:%12591=5237%:%
%:%12592=5237%:%
%:%12593=5238%:%
%:%12594=5238%:%
%:%12595=5238%:%
%:%12596=5239%:%
%:%12597=5239%:%
%:%12598=5240%:%
%:%12599=5240%:%
%:%12600=5241%:%
%:%12606=5241%:%
%:%12609=5242%:%
%:%12610=5243%:%
%:%12611=5243%:%
%:%12612=5244%:%
%:%12613=5245%:%
%:%12616=5246%:%
%:%12620=5246%:%
%:%12621=5246%:%
%:%12622=5247%:%
%:%12623=5248%:%
%:%12624=5248%:%
%:%12629=5248%:%
%:%12632=5249%:%
%:%12633=5250%:%
%:%12634=5250%:%
%:%12635=5251%:%
%:%12638=5252%:%
%:%12642=5252%:%
%:%12643=5252%:%
%:%12648=5252%:%
%:%12651=5253%:%
%:%12652=5254%:%
%:%12653=5254%:%
%:%12654=5255%:%
%:%12655=5256%:%
%:%12658=5257%:%
%:%12662=5257%:%
%:%12663=5257%:%
%:%12664=5258%:%
%:%12665=5258%:%
%:%12666=5259%:%
%:%12671=5259%:%
%:%12674=5260%:%
%:%12675=5261%:%
%:%12676=5261%:%
%:%12677=5262%:%
%:%12678=5263%:%
%:%12681=5264%:%
%:%12685=5264%:%
%:%12686=5264%:%
%:%12687=5265%:%
%:%12688=5265%:%
%:%12693=5265%:%
%:%12696=5266%:%
%:%12697=5267%:%
%:%12698=5267%:%
%:%12699=5268%:%
%:%12700=5269%:%
%:%12707=5270%:%
%:%12708=5270%:%
%:%12709=5271%:%
%:%12710=5271%:%
%:%12711=5272%:%
%:%12712=5272%:%
%:%12713=5273%:%
%:%12714=5273%:%
%:%12715=5274%:%
%:%12716=5274%:%
%:%12717=5275%:%
%:%12718=5275%:%
%:%12719=5276%:%
%:%12720=5276%:%
%:%12721=5277%:%
%:%12722=5278%:%
%:%12728=5278%:%
%:%12731=5279%:%
%:%12732=5280%:%
%:%12733=5280%:%
%:%12734=5281%:%
%:%12735=5282%:%
%:%12736=5283%:%
%:%12737=5284%:%
%:%12744=5285%:%
%:%12745=5285%:%
%:%12746=5286%:%
%:%12747=5286%:%
%:%12748=5287%:%
%:%12749=5288%:%
%:%12750=5288%:%
%:%12751=5289%:%
%:%12752=5289%:%
%:%12753=5290%:%
%:%12754=5290%:%
%:%12755=5291%:%
%:%12756=5292%:%
%:%12757=5292%:%
%:%12758=5293%:%
%:%12759=5293%:%
%:%12760=5294%:%
%:%12761=5294%:%
%:%12762=5295%:%
%:%12763=5296%:%
%:%12764=5296%:%
%:%12765=5297%:%
%:%12766=5297%:%
%:%12767=5298%:%
%:%12768=5298%:%
%:%12770=5300%:%
%:%12771=5301%:%
%:%12772=5301%:%
%:%12773=5302%:%
%:%12774=5302%:%
%:%12775=5303%:%
%:%12776=5303%:%
%:%12777=5304%:%
%:%12778=5304%:%
%:%12779=5305%:%
%:%12780=5305%:%
%:%12781=5305%:%
%:%12783=5307%:%
%:%12784=5308%:%
%:%12785=5308%:%
%:%12786=5309%:%
%:%12787=5309%:%
%:%12788=5310%:%
%:%12789=5311%:%
%:%12790=5311%:%
%:%12791=5312%:%
%:%12792=5312%:%
%:%12793=5313%:%
%:%12794=5313%:%
%:%12795=5314%:%
%:%12796=5314%:%
%:%12797=5314%:%
%:%12798=5315%:%
%:%12799=5316%:%
%:%12800=5316%:%
%:%12801=5317%:%
%:%12802=5317%:%
%:%12803=5318%:%
%:%12804=5318%:%
%:%12805=5319%:%
%:%12806=5319%:%
%:%12807=5320%:%
%:%12808=5320%:%
%:%12810=5322%:%
%:%12811=5323%:%
%:%12812=5323%:%
%:%12813=5324%:%
%:%12814=5324%:%
%:%12815=5325%:%
%:%12816=5325%:%
%:%12817=5326%:%
%:%12818=5326%:%
%:%12819=5327%:%
%:%12820=5327%:%
%:%12821=5327%:%
%:%12822=5328%:%
%:%12823=5328%:%
%:%12824=5329%:%
%:%12825=5329%:%
%:%12826=5330%:%
%:%12832=5330%:%
%:%12835=5331%:%
%:%12836=5332%:%
%:%12837=5332%:%
%:%12838=5333%:%
%:%12839=5334%:%
%:%12840=5335%:%
%:%12841=5336%:%
%:%12844=5337%:%
%:%12848=5337%:%
%:%12849=5337%:%
%:%12850=5338%:%
%:%12851=5338%:%
%:%12856=5338%:%
%:%12859=5339%:%
%:%12860=5340%:%
%:%12861=5340%:%
%:%12862=5341%:%
%:%12863=5342%:%
%:%12864=5343%:%
%:%12871=5344%:%
%:%12872=5344%:%
%:%12873=5345%:%
%:%12874=5345%:%
%:%12875=5346%:%
%:%12876=5347%:%
%:%12877=5347%:%
%:%12878=5348%:%
%:%12879=5348%:%
%:%12880=5349%:%
%:%12881=5349%:%
%:%12882=5350%:%
%:%12883=5350%:%
%:%12884=5351%:%
%:%12885=5351%:%
%:%12886=5352%:%
%:%12887=5352%:%
%:%12888=5353%:%
%:%12889=5353%:%
%:%12890=5354%:%
%:%12891=5354%:%
%:%12892=5355%:%
%:%12893=5355%:%
%:%12894=5356%:%
%:%12895=5356%:%
%:%12896=5357%:%
%:%12897=5357%:%
%:%12898=5358%:%
%:%12899=5358%:%
%:%12900=5359%:%
%:%12901=5359%:%
%:%12902=5360%:%
%:%12903=5360%:%
%:%12904=5361%:%
%:%12905=5361%:%
%:%12906=5362%:%
%:%12907=5362%:%
%:%12908=5363%:%
%:%12909=5363%:%
%:%12910=5364%:%
%:%12911=5364%:%
%:%12912=5365%:%
%:%12913=5365%:%
%:%12914=5365%:%
%:%12915=5366%:%
%:%12916=5366%:%
%:%12917=5367%:%
%:%12918=5367%:%
%:%12919=5368%:%
%:%12920=5368%:%
%:%12921=5368%:%
%:%12922=5369%:%
%:%12923=5369%:%
%:%12924=5370%:%
%:%12925=5370%:%
%:%12926=5371%:%
%:%12927=5371%:%
%:%12928=5372%:%
%:%12929=5372%:%
%:%12930=5373%:%
%:%12931=5373%:%
%:%12932=5374%:%
%:%12933=5374%:%
%:%12934=5375%:%
%:%12935=5375%:%
%:%12936=5376%:%
%:%12937=5376%:%
%:%12938=5377%:%
%:%12939=5377%:%
%:%12940=5378%:%
%:%12941=5378%:%
%:%12942=5379%:%
%:%12943=5379%:%
%:%12944=5380%:%
%:%12945=5380%:%
%:%12946=5381%:%
%:%12947=5381%:%
%:%12948=5382%:%
%:%12949=5382%:%
%:%12951=5384%:%
%:%12952=5385%:%
%:%12953=5385%:%
%:%12954=5386%:%
%:%12955=5386%:%
%:%12956=5387%:%
%:%12957=5387%:%
%:%12958=5388%:%
%:%12959=5389%:%
%:%12960=5389%:%
%:%12961=5389%:%
%:%12962=5390%:%
%:%12963=5391%:%
%:%12964=5391%:%
%:%12965=5392%:%
%:%12966=5393%:%
%:%12967=5393%:%
%:%12968=5394%:%
%:%12969=5394%:%
%:%12970=5394%:%
%:%12971=5395%:%
%:%12972=5396%:%
%:%12973=5396%:%
%:%12974=5397%:%
%:%12975=5397%:%
%:%12976=5398%:%
%:%12977=5398%:%
%:%12978=5399%:%
%:%12979=5399%:%
%:%12980=5400%:%
%:%12981=5400%:%
%:%12982=5401%:%
%:%12983=5401%:%
%:%12984=5402%:%
%:%12985=5402%:%
%:%12986=5403%:%
%:%12987=5403%:%
%:%12988=5404%:%
%:%12989=5404%:%
%:%12990=5405%:%
%:%12991=5405%:%
%:%12992=5406%:%
%:%12993=5406%:%
%:%12994=5407%:%
%:%12995=5407%:%
%:%12996=5408%:%
%:%12997=5408%:%
%:%12998=5409%:%
%:%12999=5409%:%
%:%13000=5410%:%
%:%13001=5410%:%
%:%13002=5411%:%
%:%13003=5411%:%
%:%13004=5412%:%
%:%13005=5412%:%
%:%13006=5413%:%
%:%13007=5414%:%
%:%13008=5414%:%
%:%13009=5415%:%
%:%13010=5415%:%
%:%13011=5415%:%
%:%13012=5416%:%
%:%13013=5416%:%
%:%13014=5417%:%
%:%13015=5417%:%
%:%13016=5418%:%
%:%13017=5418%:%
%:%13018=5419%:%
%:%13019=5419%:%
%:%13020=5419%:%
%:%13021=5420%:%
%:%13022=5420%:%
%:%13023=5421%:%
%:%13024=5422%:%
%:%13025=5422%:%
%:%13026=5423%:%
%:%13027=5423%:%
%:%13028=5424%:%
%:%13029=5424%:%
%:%13030=5425%:%
%:%13031=5425%:%
%:%13032=5426%:%
%:%13033=5426%:%
%:%13034=5426%:%
%:%13035=5427%:%
%:%13036=5427%:%
%:%13037=5428%:%
%:%13038=5428%:%
%:%13039=5429%:%
%:%13040=5429%:%
%:%13041=5430%:%
%:%13042=5430%:%
%:%13043=5431%:%
%:%13044=5431%:%
%:%13045=5432%:%
%:%13046=5432%:%
%:%13047=5432%:%
%:%13048=5433%:%
%:%13049=5434%:%
%:%13050=5434%:%
%:%13051=5435%:%
%:%13052=5435%:%
%:%13053=5435%:%
%:%13054=5436%:%
%:%13055=5436%:%
%:%13056=5437%:%
%:%13057=5437%:%
%:%13058=5438%:%
%:%13059=5438%:%
%:%13060=5438%:%
%:%13061=5439%:%
%:%13062=5439%:%
%:%13063=5439%:%
%:%13064=5440%:%
%:%13065=5440%:%
%:%13066=5440%:%
%:%13067=5441%:%
%:%13068=5441%:%
%:%13069=5442%:%
%:%13070=5442%:%
%:%13071=5443%:%
%:%13072=5443%:%
%:%13073=5443%:%
%:%13074=5444%:%
%:%13075=5444%:%
%:%13076=5445%:%
%:%13077=5445%:%
%:%13078=5446%:%
%:%13079=5446%:%
%:%13080=5447%:%
%:%13081=5447%:%
%:%13082=5448%:%
%:%13083=5448%:%
%:%13084=5449%:%
%:%13085=5449%:%
%:%13086=5450%:%
%:%13087=5450%:%
%:%13088=5451%:%
%:%13089=5451%:%
%:%13090=5452%:%
%:%13091=5452%:%
%:%13092=5453%:%
%:%13093=5453%:%
%:%13094=5454%:%
%:%13095=5454%:%
%:%13096=5454%:%
%:%13097=5455%:%
%:%13098=5456%:%
%:%13099=5456%:%
%:%13100=5457%:%
%:%13101=5457%:%
%:%13102=5458%:%
%:%13103=5458%:%
%:%13104=5459%:%
%:%13105=5459%:%
%:%13106=5460%:%
%:%13107=5461%:%
%:%13108=5461%:%
%:%13109=5462%:%
%:%13110=5462%:%
%:%13111=5463%:%
%:%13112=5463%:%
%:%13113=5464%:%
%:%13114=5464%:%
%:%13115=5465%:%
%:%13116=5465%:%
%:%13117=5465%:%
%:%13118=5466%:%
%:%13119=5466%:%
%:%13120=5467%:%
%:%13121=5468%:%
%:%13122=5468%:%
%:%13123=5469%:%
%:%13124=5469%:%
%:%13125=5470%:%
%:%13126=5470%:%
%:%13127=5471%:%
%:%13128=5472%:%
%:%13129=5472%:%
%:%13130=5473%:%
%:%13131=5474%:%
%:%13132=5475%:%
%:%13133=5475%:%
%:%13134=5476%:%
%:%13135=5476%:%
%:%13136=5477%:%
%:%13137=5477%:%
%:%13138=5478%:%
%:%13139=5478%:%
%:%13140=5479%:%
%:%13141=5479%:%
%:%13142=5480%:%
%:%13143=5480%:%
%:%13144=5481%:%
%:%13145=5481%:%
%:%13146=5481%:%
%:%13147=5482%:%
%:%13148=5482%:%
%:%13149=5483%:%
%:%13150=5483%:%
%:%13151=5483%:%
%:%13152=5484%:%
%:%13153=5485%:%
%:%13154=5485%:%
%:%13155=5486%:%
%:%13156=5486%:%
%:%13157=5487%:%
%:%13158=5487%:%
%:%13159=5487%:%
%:%13160=5488%:%
%:%13161=5489%:%
%:%13162=5489%:%
%:%13163=5490%:%
%:%13164=5490%:%
%:%13165=5491%:%
%:%13166=5492%:%
%:%13167=5492%:%
%:%13168=5493%:%
%:%13169=5493%:%
%:%13170=5494%:%
%:%13171=5494%:%
%:%13172=5495%:%
%:%13173=5495%:%
%:%13174=5496%:%
%:%13175=5496%:%
%:%13176=5497%:%
%:%13177=5498%:%
%:%13178=5498%:%
%:%13179=5499%:%
%:%13180=5499%:%
%:%13181=5500%:%
%:%13182=5500%:%
%:%13183=5501%:%
%:%13184=5501%:%
%:%13185=5502%:%
%:%13186=5502%:%
%:%13187=5503%:%
%:%13188=5503%:%
%:%13189=5504%:%
%:%13190=5504%:%
%:%13191=5505%:%
%:%13197=5505%:%
%:%13200=5506%:%
%:%13201=5507%:%
%:%13202=5507%:%
%:%13203=5508%:%
%:%13204=5509%:%
%:%13205=5510%:%
%:%13206=5510%:%
%:%13207=5511%:%
%:%13208=5512%:%
%:%13209=5513%:%
%:%13216=5514%:%
%:%13217=5514%:%
%:%13218=5515%:%
%:%13219=5515%:%
%:%13220=5516%:%
%:%13221=5516%:%
%:%13222=5517%:%
%:%13223=5517%:%
%:%13224=5518%:%
%:%13225=5518%:%
%:%13226=5519%:%
%:%13227=5519%:%
%:%13228=5520%:%
%:%13229=5520%:%
%:%13230=5521%:%
%:%13236=5521%:%
%:%13239=5522%:%
%:%13240=5523%:%
%:%13241=5523%:%
%:%13242=5524%:%
%:%13243=5525%:%
%:%13244=5526%:%
%:%13251=5527%:%
%:%13252=5527%:%
%:%13253=5528%:%
%:%13254=5528%:%
%:%13255=5529%:%
%:%13256=5529%:%
%:%13257=5530%:%
%:%13258=5530%:%
%:%13259=5531%:%
%:%13260=5531%:%
%:%13261=5532%:%
%:%13262=5532%:%
%:%13263=5533%:%
%:%13264=5533%:%
%:%13265=5534%:%
%:%13271=5534%:%
%:%13274=5535%:%
%:%13275=5536%:%
%:%13276=5536%:%
%:%13279=5537%:%
%:%13283=5537%:%
%:%13284=5537%:%
%:%13289=5537%:%
%:%13292=5538%:%
%:%13293=5539%:%
%:%13294=5539%:%
%:%13295=5540%:%
%:%13296=5541%:%
%:%13297=5542%:%
%:%13298=5543%:%
%:%13301=5544%:%
%:%13305=5544%:%
%:%13306=5544%:%
%:%13307=5545%:%
%:%13308=5545%:%
%:%13309=5546%:%
%:%13310=5546%:%
%:%13311=5547%:%
%:%13312=5547%:%
%:%13313=5548%:%
%:%13314=5548%:%
%:%13315=5549%:%
%:%13316=5549%:%
%:%13317=5550%:%
%:%13318=5550%:%
%:%13319=5551%:%
%:%13320=5551%:%
%:%13321=5552%:%
%:%13322=5552%:%
%:%13323=5553%:%
%:%13324=5553%:%
%:%13325=5554%:%
%:%13326=5554%:%
%:%13327=5555%:%
%:%13328=5555%:%
%:%13329=5556%:%
%:%13330=5556%:%
%:%13331=5557%:%
%:%13337=5557%:%
%:%13340=5558%:%
%:%13341=5559%:%
%:%13342=5559%:%
%:%13343=5560%:%
%:%13344=5561%:%
%:%13345=5562%:%
%:%13346=5562%:%
%:%13349=5565%:%
%:%13356=5566%:%
%:%13357=5566%:%
%:%13358=5567%:%
%:%13359=5567%:%
%:%13360=5568%:%
%:%13361=5568%:%
%:%13362=5569%:%
%:%13363=5569%:%
%:%13364=5570%:%
%:%13365=5570%:%
%:%13366=5571%:%
%:%13367=5571%:%
%:%13368=5572%:%
%:%13369=5572%:%
%:%13370=5573%:%
%:%13371=5573%:%
%:%13372=5574%:%
%:%13373=5574%:%
%:%13374=5575%:%
%:%13375=5575%:%
%:%13376=5576%:%
%:%13377=5576%:%
%:%13378=5577%:%
%:%13379=5578%:%
%:%13380=5578%:%
%:%13381=5579%:%
%:%13382=5579%:%
%:%13383=5580%:%
%:%13384=5581%:%
%:%13385=5581%:%
%:%13386=5582%:%
%:%13387=5582%:%
%:%13388=5582%:%
%:%13389=5583%:%
%:%13390=5583%:%
%:%13391=5584%:%
%:%13397=5584%:%
%:%13400=5585%:%
%:%13401=5586%:%
%:%13402=5586%:%
%:%13403=5587%:%
%:%13404=5588%:%
%:%13407=5591%:%
%:%13410=5592%:%
%:%13414=5592%:%
%:%13415=5592%:%
%:%13416=5593%:%
%:%13417=5593%:%
%:%13422=5593%:%
%:%13427=5594%:%
%:%13432=5595%:%